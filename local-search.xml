<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Educational Div.2 Round 151 æ€»ç»“</title>
    <link href="/2023/07/01/Educational%20Div.2%20Round%20151%20%E6%80%BB%E7%BB%93/"/>
    <url>/2023/07/01/Educational%20Div.2%20Round%20151%20%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p><a href="https://codeforces.com/contest/1845">æ¯”èµ›é“¾æ¥</a></p><hr /><h4 id="a-forbidden-integer">A ã€ŒForbidden Integerã€</h4><p>è¿™ä¸ªæ²¡å•¥å¥½è¯´çš„ï¼Œåˆ†ç±»è®¨è®ºä¸€ä¸‹å°±è¡Œã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(1)\)</span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(1)\)</span></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> n, k, x;<br>    std::cin &gt;&gt; n &gt;&gt; k &gt;&gt; x;<br>    <span class="hljs-keyword">if</span> (x != <span class="hljs-number">1</span>) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;YES\n&quot;</span> &lt;&lt; n &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) std::cout &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[i == n - <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// x == 1</span><br>    <span class="hljs-keyword">if</span> (k == <span class="hljs-number">1</span>) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;NO\n&quot;</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (k == <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>) &#123;<br>            std::cout &lt;&lt; <span class="hljs-string">&quot;NO\n&quot;</span>;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            std::cout &lt;&lt; <span class="hljs-string">&quot;YES\n&quot;</span> &lt;&lt; n / <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>) &#123;<br>                std::cout &lt;&lt; <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[i == n - <span class="hljs-number">2</span>];<br>            &#125;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// k &gt;= 3</span><br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;NO\n&quot;</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-comment">// n &gt;= 2</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;YES\n&quot;</span> &lt;&lt; n / <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>    <span class="hljs-keyword">while</span> (n) &#123;<br>        <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>) &#123;<br>            n -= <span class="hljs-number">3</span>;<br>            std::cout &lt;&lt; <span class="hljs-number">3</span> &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[n == <span class="hljs-number">0</span>];<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            n -= <span class="hljs-number">2</span>;<br>            std::cout &lt;&lt; <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-string">&quot; \n&quot;</span>[n == <span class="hljs-number">0</span>];<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    <span class="hljs-type">int</span> numTest;<br>    std::cin &gt;&gt; numTest;<br>    <span class="hljs-keyword">while</span> (numTest--) &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="b-come-together">B ã€ŒCome Togetherã€</h4><p>è¿™ä¸ªä¹Ÿæ²¡å•¥å¥½è¯´çš„ï¼Œåªéœ€è¦çœ‹ Bã€C å’Œ Açš„ç›¸å¯¹ä½ç½®ç„¶ååˆ†ç±»è®¨è®ºä¸€ä¸‹å³å¯ã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(1)\)</span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(1)\)</span></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><br><span class="hljs-keyword">using</span> i64 = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> xa, ya, xb, yb, xc, yc;<br>    std::cin &gt;&gt; xa &gt;&gt; ya &gt;&gt; xb &gt;&gt; yb &gt;&gt; xc &gt;&gt; yc;<br>    xb -= xa, xc -= xa;<br>    yb -= ya, yc -= ya;<br>    <span class="hljs-type">int</span> res = <span class="hljs-number">1</span>;<br>    <span class="hljs-type">bool</span> same_x = (i64)xb * xc &gt;= <span class="hljs-number">0</span>;<br>    <span class="hljs-type">bool</span> same_y = (i64)yb * yc &gt;= <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (same_x) &#123;<br>        <span class="hljs-comment">// xb xc åŒå·</span><br>        <span class="hljs-keyword">if</span> (same_y) &#123;<br>            res += std::<span class="hljs-built_in">min</span>(<span class="hljs-built_in">abs</span>(xb), <span class="hljs-built_in">abs</span>(xc)) + std::<span class="hljs-built_in">min</span>(<span class="hljs-built_in">abs</span>(yb), <span class="hljs-built_in">abs</span>(yc));<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            res += std::<span class="hljs-built_in">min</span>(<span class="hljs-built_in">abs</span>(xb), <span class="hljs-built_in">abs</span>(xc));<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// xb xc å¼‚å·</span><br>        <span class="hljs-keyword">if</span> (same_y) &#123;<br>            res += std::<span class="hljs-built_in">min</span>(<span class="hljs-built_in">abs</span>(yb), <span class="hljs-built_in">abs</span>(yc));<br>        &#125;<br>    &#125;<br><br>    std::cout &lt;&lt; res &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    std::cin.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br>    std::cout.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br><br>    <span class="hljs-type">int</span> numTest;<br>    std::cin &gt;&gt; numTest;<br>    <span class="hljs-keyword">while</span> (numTest--) &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="c-strong-password">C ã€ŒStrong Passwordã€</h4><p>è€ƒè™‘è´ªå¿ƒç­–ç•¥ï¼Œæ¯ä¸€æ¬¡ä»é™å®šæ¡ä»¶ä¸­é€‰å–æœ€æ™šåœ¨<code>database string</code> ä¸­å‡ºç°çš„å­—ç¬¦ï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½å¿«åœ°æ¶ˆè€—æ‰<code>database string</code>çš„å‰ç¼€ï¼Œå¦‚æœä¸­é€”å‡ºç°äº†åç¼€ä¸­ä¸å­˜åœ¨çš„é™å®šæ¡ä»¶å†…çš„å­—ç¬¦ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç­”æ¡ˆï¼Œåä¹‹è¯´æ˜ä¸å­˜åœ¨ã€‚</p><p>ä¸ºäº†è®°å½• <code>database string</code>æ‰€æœ‰åç¼€ä¸­å­—ç¬¦çš„å‡ºç°æ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ•°ç»„æ¥ç»´æŠ¤æ¯ä¸ªåç¼€æ‰€æœ‰å­—ç¬¦å‡ºç°çš„æœ€å°ç´¢å¼•ã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(nm)\)</span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(nm)\)</span></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> INF 0x7f7f7f7f</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>    std::string dat;<br>    std::cin &gt;&gt; dat;<br><br>    <span class="hljs-type">int</span> n;<br>    std::cin &gt;&gt; n;<br>    std::string l, r;<br>    std::cin &gt;&gt; l &gt;&gt; r;<br><br>    <span class="hljs-type">int</span> len = dat.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-comment">// è®°å½•åŒºé—´ [i, len - 1] ä¸­æ¯ä¸ªæ•°å‡ºç°çš„æœ€æ—©ä¸‹æ ‡</span><br>    std::vector&lt;std::vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">nextIdx</span>(len + <span class="hljs-number">1</span>);<br>    nextIdx.<span class="hljs-built_in">back</span>() = std::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>, INF);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = len - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>        nextIdx[i] = nextIdx[i + <span class="hljs-number">1</span>];<br>        nextIdx[i][dat[i] - <span class="hljs-string">&#x27;0&#x27;</span>] = i;<br>    &#125;<br>    <br>    <span class="hljs-type">int</span> p = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        p = *std::<span class="hljs-built_in">max_element</span>(nextIdx[p].<span class="hljs-built_in">begin</span>() + l[i] - <span class="hljs-string">&#x27;0&#x27;</span>, nextIdx[p].<span class="hljs-built_in">begin</span>() + r[i] - <span class="hljs-string">&#x27;0&#x27;</span> + <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>; <span class="hljs-comment">// æ‰¾åˆ°æœ€æ™šå‡ºç°çš„æ•°å­—</span><br>        <span class="hljs-keyword">if</span> (p &gt;= INF) &#123;<br>            <span class="hljs-comment">// å‡ºç°æ— æ³•æ‰¾åˆ°çš„æ•°å­—</span><br>            std::cout &lt;&lt; <span class="hljs-string">&quot;YES\n&quot;</span>;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>    &#125;<br>    <br>    std::cout &lt;&lt; <span class="hljs-string">&quot;NO\n&quot;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    std::cin.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br>    std::cout.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br><br>    <span class="hljs-type">int</span> numTest;<br>    std::cin &gt;&gt; numTest;<br>    <span class="hljs-keyword">while</span> (numTest--) &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Codeforces</tag>
      
      <tag>Div.2</tag>
      
      <tag>åˆ†ç±»è®¨è®º</tag>
      
      <tag>è´ªå¿ƒç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CodeTon Round 5 æ€»ç»“</title>
    <link href="/2023/06/28/CodeTon%20Round%205%20%E6%80%BB%E7%BB%93/"/>
    <url>/2023/06/28/CodeTon%20Round%205%20%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p><a href="https://codeforces.com/contest/1842">æ¯”èµ›é“¾æ¥</a></p><p>è¿™ä¸€åœºæ‰“å¾—ä¸€èˆ¬ï¼Œå› ä¸ºå¤ªå›°äº†ã€‚ğŸ˜¢</p><hr /><h4 id="a-tenzing-and-tsondu">A ã€ŒTenzing and Tsonduã€</h4><p>æ°´é¢˜ï¼Œæ˜“è¯æ€»å’Œé«˜çš„äººå¿…èƒœï¼Œæ€»å’Œç›¸ç­‰åˆ™å¹³å±€ã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(1)\)</span></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> i64 = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> n, m;<br>    std::cin &gt;&gt; n &gt;&gt; m;<br>    i64 sum_1 = <span class="hljs-number">0</span>, sum_2 = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, x; i &lt; n; i++) &#123;<br>        std::cin &gt;&gt; x;<br>        sum_1 += x;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, x; i &lt; m; i++) &#123;<br>        std::cin &gt;&gt; x;<br>        sum_2 += x;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (sum_1 &gt; sum_2) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Tsondu\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sum_1 &lt; sum_2) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Tenzing\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Draw\n&quot;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    std::cin.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br>    std::cout.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br><br>    <span class="hljs-type">int</span> numTest;<br>    std::cin &gt;&gt; numTest;<br>    <span class="hljs-keyword">while</span> (numTest--) &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="b-tenzing-and-books">B ã€ŒTenzing and Booksã€</h4><p>æ ¹æ®é¢˜æ„ï¼Œå¦‚æœæŸæœ¬ä¹¦çš„ <code>knowledge</code> æŸä¸ª bit ä½ä¸º 1 è€Œ<code>x</code> åœ¨è¯¥ä½ä¸º 0ï¼Œå³æ»¡è¶³ <code>knowledge &amp; ~x</code> é0ï¼Œåˆ™è¯¥ä¹¦ä¸€å®šä¸èƒ½é€‰å–ï¼Œæ ¹æ®æ ˆçš„æ€§è´¨ï¼Œè¯¥ä¹¦ä»¥ä¸‹çš„ä¹¦ä¹Ÿä¸èƒ½é€‰å–ã€‚</p><p>è€Œæˆ–è¿ç®—å¯¹äº 3ä¸ªæ ˆçš„æ“ä½œé¡ºåºæœ¬èº«è€Œè¨€æ²¡æœ‰å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¾æ¬¡éå†æ¯ä¸ªæ ˆå³å¯ï¼Œå¦‚æœéå†è¿‡ç¨‹ä¸­å‡ºç°ä¸èƒ½é€‰æ‹©çš„ä¹¦ï¼Œé‚£ä¹ˆå°±ç»“æŸè¯¥è½®å¾ªç¯ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªæ ˆï¼Œ3è½®å¾ªç¯ä¸­å¦‚æœå‡ºç°æŸä¸ªçŠ¶æ€ç­‰äº <code>x</code> ï¼Œåˆ™è¯´æ˜å¯ä»¥ä½¿å¾—<code>knowledge</code> çš„å€¼ç­‰äº <code>x</code> ï¼Œè‹¥ 3è½®å¾ªç¯ç»“æŸåéƒ½æ²¡æœ‰å¾—åˆ°ç›®æ ‡ç­”æ¡ˆï¼Œåˆ™è¯´æ˜æ— æ³•ä½¿å¾— <code>knowledge</code>çš„å€¼ç­‰äº <code>x</code> ã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_N 100005</span><br><br><span class="hljs-type">int</span> stk[<span class="hljs-number">3</span>][MAX_N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> n, x;<br>    std::cin &gt;&gt; n &gt;&gt; x;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>            std::cin &gt;&gt; stk[i][j];<br>        &#125;<br>    &#125;<br>    <span class="hljs-type">int</span> mask = ~x, ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Yes\n&quot;</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>            <span class="hljs-keyword">if</span> (stk[i][j] &amp; mask) <span class="hljs-keyword">break</span>;<br>            ans |= stk[i][j];<br>            <span class="hljs-keyword">if</span> (ans == x) &#123;<br>                std::cout &lt;&lt; <span class="hljs-string">&quot;Yes\n&quot;</span>;<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;No\n&quot;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    std::cin.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br>    std::cout.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br>    <br>    <span class="hljs-type">int</span> numTest;<br>    std::cin &gt;&gt; numTest;<br>    <span class="hljs-keyword">while</span> (numTest--) &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="c-tenzing-and-balls">C ã€ŒTenzing and Ballsã€</h4><p>è‹¥å­˜åœ¨ <span class="math inline">\(iã€ jã€ mã€ n\)</span> ä½¿å¾— <spanclass="math inline">\(a_i = a_j\)</span> ä¸” <spanclass="math inline">\(a_m = a_n\)</span> ï¼Œåˆ™è€ƒè™‘åŒºé—´ <spanclass="math inline">\([i, j]\)</span> å’Œ <span class="math inline">\([m,n]\)</span> ï¼š</p><ul><li>è‹¥ä¸¤ä¸ªåŒºé—´æ— äº¤é›†ï¼Œåˆ™ä¸¤ä¸ªåŒºé—´éƒ½å¯ä»¥åˆ é™¤ä¸”äº’ä¸å½±å“ï¼›</li><li>è‹¥ä¸¤ä¸ªåŒºé—´æ˜¯åŒ…å«å…³ç³»ï¼Œä¸å¦¨è®¾ <span class="math inline">\([i, j]\subsetneq [m, n]\)</span>ï¼Œåˆ™ <span class="math inline">\([i,j]\)</span> åªèƒ½åœ¨ <span class="math inline">\([m, n]\)</span>ä¹‹å‰åˆ é™¤ï¼Œè€Œåˆ é™¤ <span class="math inline">\([i, j]\)</span> å†åˆ é™¤<span class="math inline">\([m, n]\)</span> ä¸ç›´æ¥åˆ é™¤ <spanclass="math inline">\([m, n]\)</span> çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼›</li><li>è‹¥ä¸¤ä¸ªåŒºé—´ç›¸äº¤ä¸”ä¸ä¸ºåŒ…å«å…³ç³»ï¼Œåˆ™åªèƒ½åˆ é™¤å…¶ä¸­ä¸€ä¸ªåŒºé—´ã€‚</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œé—®é¢˜å°±å˜æˆäº†å¦‚ä½•é€‰å–ä¸ç›¸äº¤çš„åŒºé—´ï¼Œä½¿å¾—é€‰å–çš„åŒºé—´æ€»é•¿åº¦æœ€é•¿ã€‚</p><p>æˆ‘ä»¬å‡è®¾ <span class="math inline">\(dp[i]\)</span> è¡¨ç¤ºåŒºé—´ <spanclass="math inline">\([0, i]\)</span> åˆ é™¤å®Œåå‰©ä¸‹æ¥çš„æ•°çš„æœ€å°å€¼ï¼Œ<spanclass="math inline">\(dp[0]\)</span> åˆå§‹åŒ–ä¸º1ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹å…³ç³»ï¼š</p><ul><li>è‹¥ä¸åˆ é™¤ <span class="math inline">\(a_i\)</span> ï¼Œåˆ™ <spanclass="math inline">\(dp[i] = dp[i - 1] + 1\)</span></li><li>è‹¥èƒ½åˆ é™¤ <span class="math inline">\(a_i\)</span> ï¼Œåˆ™ <spanclass="math inline">\(dp[i] = \underset{j}{min}\ \{dp[j]\ |\ j &lt; i -1 \land a_{j + 1} = a_i \}\)</span></li></ul><p>äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<span class="math inline">\(dp[i] =min\{dp[i - 1] + 1,\ \underset{j}{min}\ \{dp[j]\ |\ j &lt; i - 1 \landa_{j + 1} = a_i \}\)</span></p><p>è€Œå¯¹äº <span class="math inline">\(\underset{j}{min}\ \{dp[j]\ |\ j&lt; i - 1 \land a_{j + 1} = a_i \}\)</span>è¿™ä¸€é¡¹ï¼Œæˆ‘ä»¬è€ƒè™‘ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ›´æ–°æ¯è½®è¿­ä»£åæ»¡è¶³ <spanclass="math inline">\(a_{j + 1} = a_i\)</span> çš„æœ€å° <spanclass="math inline">\(dp[j]\)</span> çš„å€¼å³å¯ã€‚è¿­ä»£å®Œå <spanclass="math inline">\(n - dp[n - 1]\)</span> å³ä¸ºå¯åˆ é™¤çš„æœ€å¤§æ•°é‡ã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_N 200005</span><br><br><span class="hljs-type">int</span> arr[MAX_N];<br><span class="hljs-type">int</span> dp[MAX_N]; <span class="hljs-comment">// æœ€å°‘å‰©å¤šå°‘ä¸ª</span><br><span class="hljs-type">int</span> memo[MAX_N]; <span class="hljs-comment">// memo[t] è¡¨ç¤ºæ»¡è¶³ arr[j + 1] == t çš„æ‰€æœ‰æ•°é‡Œé¢ dp[j] çš„æœ€å°å€¼</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    std::cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        std::cin &gt;&gt; arr[i];<br>        dp[i] = i + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-built_in">memset</span>(memo + <span class="hljs-number">1</span>, <span class="hljs-number">0x7f</span>, n * <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">int</span>));<br>    memo[arr[<span class="hljs-number">0</span>]] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;<br>        dp[i] = std::<span class="hljs-built_in">min</span>(dp[i - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>, memo[arr[i]]);<br>        memo[arr[i]] = std::<span class="hljs-built_in">min</span>(memo[arr[i]], dp[i - <span class="hljs-number">1</span>]);<br>    &#125;<br><br>    std::cout &lt;&lt; n - dp[n - <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    std::cin.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br>    std::cout.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br><br>    <span class="hljs-type">int</span> numTest;<br>    std::cin &gt;&gt; numTest;<br>    <span class="hljs-keyword">while</span> (numTest--) &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="d-tenzing-and-his-animal-friends">D ã€ŒTenzing and His AnimalFriendsã€</h4><p>é¢˜ç›®æœ‰ç‚¹æŠ½è±¡ï¼Œå¤§æ¦‚å°±æ˜¯è¯´å…¨éƒ¨è½®æ¸¸æˆä¸­ <spanclass="math inline">\(u_i\)</span> å’Œ <spanclass="math inline">\(v_i\)</span> çš„åˆ†å¼€æ¸¸æˆæ—¶é—´æ€»å’Œå‡ä¸è¶…è¿‡ <spanclass="math inline">\(y_i\)</span>ï¼Œå³ <spanclass="math inline">\(u_i\)</span> ä¸å’Œ <spanclass="math inline">\(v_i\)</span> ç©çš„æ¸¸ç©æ—¶é—´ä¸è¶…è¿‡ <spanclass="math inline">\(y_i\)</span> ï¼Œå¯¹ <spanclass="math inline">\(v_i\)</span> ä¹Ÿæ˜¯åŒç†ã€‚äºæ­¤åŒæ—¶ï¼Œé¡¶ç‚¹ 1æ¯è½®æ¸¸æˆéƒ½è¦å‚åŠ ï¼Œé¡¶ç‚¹ n æ¯è½®æ¸¸æˆéƒ½ä¸èƒ½å‚åŠ ã€‚</p><p>æˆ‘ä»¬æ¥ä¸‹æ¥å°†æ‰€æœ‰çš„é™åˆ¶çœ‹æˆä¸€ä¸ªæ— å‘å›¾ï¼Œè‹¥å­˜åœ¨é™åˆ¶ <spanclass="math inline">\((u_i, v_i, y_i)\)</span>ï¼Œé‚£ä¹ˆå°±åœ¨é¡¶ç‚¹ <spanclass="math inline">\(u_i\)</span> å’Œ <spanclass="math inline">\(v_i\)</span> ä¹‹é—´è¿æ¥ä¸€æ¡æƒé‡ä¸º <spanclass="math inline">\(y_i\)</span> çš„è¾¹ã€‚</p><p>è€ƒè™‘ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p><ul><li><p>è‹¥é¡¶ç‚¹ 1 æ— æ³•åœ¨æœ‰é™æ­¥å†…åˆ°é¡¶ç‚¹ nï¼Œå°±è¯´æ˜é¡¶ç‚¹ 1 å’Œé¡¶ç‚¹ nå±äºä¸åŒçš„åˆ†æ”¯ï¼Œé‚£æˆ‘ä»¬æ¯æ¬¡å¯ä»¥å’Œé¡¶ç‚¹ 1æ‰€åœ¨åˆ†æ”¯å…¨éƒ¨é¡¶ç‚¹ä¸€èµ·ç©ï¼Œä¸”æ²¡æœ‰æ—¶é—´é™åˆ¶ã€‚æ­¤æ—¶ç­”æ¡ˆä¸º <code>inf</code>ã€‚</p></li><li><p>è‹¥é¡¶ç‚¹ 1 å¯ä»¥åˆ°è¾¾é¡¶ç‚¹ nï¼Œæˆ‘ä»¬å‡è®¾å…¶ä¸­ä¸€æ¡è·¯å¾„ä¸º <spanclass="math inline">\(&lt;1, k_1, k_2, ..., k_m, n&gt;\)</span>ï¼Œæ¯ä¸ªé¡¶ç‚¹çš„æ¸¸ç©æ—¶é—´ä¸º <span class="math inline">\(t_1, t_{k_1},t_{k_2}, ..., t_{k_m}, t_n\)</span>ã€‚</p><p>å› ä¸ºé¡¶ç‚¹ 1 æ¯è½®æ¸¸æˆéƒ½å‚ä¸ï¼Œæ‰€ä»¥<strong>é¡¶ç‚¹ 1æ¸¸ç©çš„æ—¶é—´å°±æ˜¯æ€»çš„æ¸¸æˆæ—¶é—´</strong>ï¼Œå› æ­¤æˆ‘ä»¬åªè¦æ±‚å‡º <spanclass="math inline">\(t_1\)</span> çš„æœ€å°å€¼å³å¯ã€‚</p><p>ç”±äºä¸€å¯¹é¡¶ç‚¹ <span class="math inline">\((x, y)\)</span>åˆ†å¼€çš„æ—¶é—´ä¸è¶…è¿‡ <span class="math inline">\(d(x,y)\)</span>ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š<span class="math inline">\(t_x - t_y \leqd(x, y)\)</span>ã€‚</p><p>æ‰€ä»¥æœ‰ï¼š <span class="math display">\[  \begin{array}{}  t_1 - t_{k_1} \leq d(1, k_1) \\  t_{k_1} - t_{k_2} \leq d(k_1, k_2) \\  ... \\  t_{k_m} - t_{n} \leq d(k_m, n)  \end{array}  \]</span> å°†ä¸Šå¼æ±‚å’Œï¼š <span class="math display">\[  \implies t_1 - t_n \leq d(1, k_1) + d(k_1, k_2) + ... + d(k_m, n)  \]</span> åˆå› ä¸ºé¡¶ç‚¹ n ä¸å‚ä¸æ¸¸æˆï¼Œæ‰€ä»¥ <spanclass="math inline">\(t_n = 0\)</span>ï¼Œç»¼ä¸Šæ‰€è¿°ï¼š <spanclass="math display">\[  t_1 \leq d(1, k_1) + d(k_1, k_2) + ... + d(k_m, n)  \]</span> å³å¼å…¶å®å°±æ˜¯é¡¶ç‚¹ 1 åˆ°é¡¶ç‚¹ nçš„è·¯å¾„é•¿åº¦ï¼Œæ¢è¨€ä¹‹ï¼Œ<strong>æ¸¸æˆçš„æ—¶é•¿å¿…é¡»å°äºç­‰äºæ‰€æœ‰é¡¶ç‚¹ 1 åˆ°é¡¶ç‚¹ nçš„è·¯å¾„é•¿åº¦</strong>ã€‚æ‰€ä»¥æˆ‘ä»¬åªè¦æ±‚å‡ºé¡¶ç‚¹ 1 åˆ°é¡¶ç‚¹ nåˆ°æœ€çŸ­è·¯å¾„å³å¯ï¼Œè€ƒè™‘æœ€å°å †ä¼˜åŒ–çš„ Dijkstraç®—æ³•ï¼Œå¹¶ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•æ¯æ¬¡å‡ºé˜Ÿåˆ—çš„é¡¶ç‚¹ã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(mlog(m + n))\)</span></p><p>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n + m)\)</span></p></blockquote></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> i64 = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> n, m;<br>    std::cin &gt;&gt; n &gt;&gt; m;<br>    std::vector&lt;std::vector&lt;std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt;&gt; <span class="hljs-built_in">g</span>(n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, u, v, y; i &lt; m; i++) &#123;<br>        std::cin &gt;&gt; u &gt;&gt; v &gt;&gt; y;<br>        u--;<br>        v--;<br>        g[u].<span class="hljs-built_in">push_back</span>(&#123;v, y&#125;);<br>        g[v].<span class="hljs-built_in">push_back</span>(&#123;u, y&#125;);<br>    &#125;<br>    <span class="hljs-function">std::vector&lt;i64&gt; <span class="hljs-title">dist</span><span class="hljs-params">(n, <span class="hljs-number">-1</span>)</span></span>;<br>    std::priority_queue&lt;std::pair&lt;i64, <span class="hljs-type">int</span>&gt;, std::vector&lt;std::pair&lt;i64, <span class="hljs-type">int</span>&gt;&gt;, std::greater&lt;&gt;&gt; q;<br>    q.<span class="hljs-built_in">push</span>(&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;);<br>    std::vector&lt;i64&gt; ans;<br>    <span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>()) &#123;<br>        <span class="hljs-keyword">auto</span> [d, to] = q.<span class="hljs-built_in">top</span>();<br>        q.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">if</span> (dist[to] != <span class="hljs-number">-1</span>) <span class="hljs-keyword">continue</span>;<br>        dist[to] = d;<br>        ans.<span class="hljs-built_in">push_back</span>(to);<br>        <span class="hljs-keyword">if</span> (to == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> [nxt, w] : g[to]) &#123;<br>            q.<span class="hljs-built_in">push</span>(&#123;d + w, nxt&#125;);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (dist[n - <span class="hljs-number">1</span>] == <span class="hljs-number">-1</span>) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;inf\n&quot;</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    std::cout &lt;&lt; dist[n - <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; ans.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>    <span class="hljs-function">std::string <span class="hljs-title">s</span><span class="hljs-params">(n, <span class="hljs-string">&#x27;0&#x27;</span>)</span></span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, len = ans.<span class="hljs-built_in">size</span>(); i &lt; len; i++) &#123;<br>        s[ans[i - <span class="hljs-number">1</span>]] = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        std::cout &lt;&lt; s &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; dist[ans[i]] - dist[ans[i - <span class="hljs-number">1</span>]] &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    std::cin.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br>    std::cout.<span class="hljs-built_in">tie</span>(<span class="hljs-literal">nullptr</span>);<br><br>    <span class="hljs-built_in">solve</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ACM</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Codeforces</tag>
      
      <tag>Div.1</tag>
      
      <tag>Div.2</tag>
      
      <tag>DP</tag>
      
      <tag>Dijkstra</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒè¿›åˆ¶é›†åˆä¸çŠ¶å‹ DP</title>
    <link href="/2023/06/28/%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%9B%86%E5%90%88%E4%B8%8E%E7%8A%B6%E5%8E%8B%20DP/"/>
    <url>/2023/06/28/%E4%BA%8C%E8%BF%9B%E5%88%B6%E9%9B%86%E5%90%88%E4%B8%8E%E7%8A%B6%E5%8E%8B%20DP/</url>
    
    <content type="html"><![CDATA[<h3 id="äºŒè¿›åˆ¶é›†åˆ">äºŒè¿›åˆ¶é›†åˆ</h3><h4 id="äºŒè¿›åˆ¶é›†åˆä»‹ç»">äºŒè¿›åˆ¶é›†åˆä»‹ç»</h4><p>åˆ©ç”¨è®¡ç®—æœºå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨äºŒè¿›åˆ¶æ•°æ¥è¡¨ç¤ºé›†åˆã€‚</p><p>è®¾ä¸€ä¸ªé›†åˆæœ‰ n ä¸ªå…ƒç´ ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ª n bitçš„æ•°æ¥è¡¨ç¤ºè¯¥é›†åˆçš„æ‰€æœ‰å­é›†ï¼Œè‹¥è¯¥æ•°å­—ç¬¬ k ä¸ª bit ä½ä¸º1ï¼Œè¡¨ç¤ºå­˜åœ¨è¯¥å…ƒç´ ï¼Œä¸º 0 åˆ™è¯´æ˜ä¸å­˜åœ¨è¯¥å…ƒç´ ã€‚</p><p>ä¾‹å¦‚ï¼Œæœ‰é›†åˆï¼š<span class="math inline">\(U = \{0, 1, 2,3\}\)</span>ï¼Œåˆ™ <u>1111</u> è¡¨ç¤ºå…¨é›† <spanclass="math inline">\(U\)</span>ï¼Œ<u>0000</u> è¡¨ç¤ºç©ºé›† <spanclass="math inline">\(\emptyset\)</span>ï¼Œ<u>1010</u> è¡¨ç¤ºå­é›† <spanclass="math inline">\(\{1, 3\}\)</span>ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‹¥è¦è¡¨ç¤ºçš„é›†åˆå…ƒç´ æ•°é‡è¾ƒå°‘ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>int</code>æˆ–è€… <code>long long</code> æ•´æ•°æ¥è¡¨ç¤ºï¼Œè‹¥é›†åˆå…ƒç´ çš„æ•°é‡å¤§äº64ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨ C++ ä¸­çš„ <code>std::bitset</code>æ¥è¡¨ç¤ºï¼Œå¯ä»¥å‚è€ƒç¬”è€…ä¹‹å‰çš„æ–‡ç« ï¼š<ahref="https://goer17.github.io/2023/03/08/std-bitset%20%E8%AF%A6%E8%A7%A3/">std::bitsetè®²è§£</a> ã€‚</p><h4 id="äºŒè¿›åˆ¶é›†åˆçš„è¿ç®—">äºŒè¿›åˆ¶é›†åˆçš„è¿ç®—</h4><p>è®¾æœ‰é›†åˆ <span class="math inline">\(A\)</span> å’Œ <spanclass="math inline">\(B\)</span> ï¼Œå®ƒä»¬çš„äºŒè¿›åˆ¶è¡¨ç¤ºåˆ†åˆ«ä¸º <code>a</code>å’Œ <code>b</code> ï¼Œåˆ™å¸¸è§çš„é›†åˆè¿ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><table><thead><tr class="header"><th>ä¸€å…ƒè¿ç®—</th><th>æ•°å­¦è¡¨ç¤º</th><th>äºŒè¿›åˆ¶é›†åˆè¡¨ç¤º</th></tr></thead><tbody><tr class="odd"><td>é›†åˆçš„é˜¶</td><td><span class="math inline">\(|A|\)</span></td><td><code>__builtin_popcount(a)</code>ï¼ˆ<code>a</code> ä¸º<code>int</code> ç±»ï¼‰<br><code>__builtin_popcount(a)</code>ï¼ˆ<code>a</code> ä¸º <code>long long</code>ç±»ï¼‰<br><code>a.count()</code> ï¼ˆ<code>a</code> ä¸º<code>std::bitset</code> ç±»ï¼‰</td></tr><tr class="even"><td>è¡¥é›†</td><td><span class="math inline">\(\overline{A}\)</span></td><td><code>~a</code></td></tr></tbody></table><table><thead><tr class="header"><th>äºŒå…ƒè¿ç®—</th><th>æ•°å­¦è¡¨ç¤º</th><th>äºŒè¿›åˆ¶é›†åˆè¡¨ç¤º</th></tr></thead><tbody><tr class="odd"><td>é›†åˆå¹¶</td><td><span class="math inline">\(A \cup B\)</span></td><td><code>a | b</code></td></tr><tr class="even"><td>é›†åˆäº¤</td><td><span class="math inline">\(A \cap B\)</span></td><td><code>a &amp; b</code></td></tr><tr class="odd"><td>é›†åˆå·®</td><td><span class="math inline">\(A - B\)</span></td><td><code>a &amp; ~b</code></td></tr></tbody></table><h4 id="äºŒè¿›åˆ¶é›†åˆå­é›†çš„éå†">äºŒè¿›åˆ¶é›†åˆå­é›†çš„éå†</h4><p>è‹¥é›†åˆ <span class="math inline">\(X\)</span> çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º<code>x</code> ï¼Œåˆ™é€†åºéå† <span class="math inline">\(X\)</span>çš„éç©ºå­é›†çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> sub = x; sub; sub = (sub - <span class="hljs-number">1</span>) &amp; x) &#123;<br>    <span class="hljs-comment">// s ä¸º x çš„å­é›†</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="çŠ¶æ€å‹ç¼©-dp">çŠ¶æ€å‹ç¼© DP</h3><p>çŠ¶æ€å‹ç¼© DPæ˜¯ä¸€ç§åœ¨åŠ¨æ€è§„åˆ’ç®—æ³•ä¸­ä½¿ç”¨çš„ä¼˜åŒ–æŠ€å·§ã€‚å®ƒä¸»è¦åº”ç”¨äºå…·æœ‰æŒ‡æ•°çº§åˆ«çŠ¶æ€æ•°çš„é—®é¢˜ï¼Œé€šè¿‡å°†çŠ¶æ€ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºï¼Œä»è€Œå‡å°‘å†…å­˜ç©ºé—´çš„ä½¿ç”¨å’Œæé«˜è®¡ç®—æ•ˆç‡ã€‚è¿™é‡Œæ‰€è¯´çš„ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡æåˆ°çš„äºŒè¿›åˆ¶é›†åˆã€‚</p><p><strong>ç¤ºä¾‹</strong></p><p><ahref="https://leetcode.cn/problems/minimum-cost-to-connect-two-groups-of-points/">è¿é€šä¸¤ç»„ç‚¹çš„æœ€å°æˆæœ¬</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">connectTwoGroups</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; cost)</span> </span>&#123;<br>        <span class="hljs-type">const</span> <span class="hljs-type">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br>        <span class="hljs-type">int</span> size_1 = cost.<span class="hljs-built_in">size</span>(), size_2 = cost[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> stateNumber = <span class="hljs-number">1</span> &lt;&lt; size_2;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">dp</span>(size_1 + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(stateNumber, inf));<br>        dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= size_1; i++) &#123;<br>            <span class="hljs-comment">// å‰ i ä¸ªç‚¹</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> s = <span class="hljs-number">1</span>; s &lt; stateNumber; s++) &#123;<br>                <span class="hljs-comment">// s è¡¨ç¤ºçŠ¶æ€</span><br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; size_2; k++) &#123;<br>                    <span class="hljs-keyword">if</span> ((s &amp; (<span class="hljs-number">1</span> &lt;&lt; k)) == <span class="hljs-number">0</span>) &#123;<br>                        <span class="hljs-comment">// k ä¸å±äº s</span><br>                        <span class="hljs-keyword">continue</span>;<br>                    &#125;<br>                    dp[i][s] = <span class="hljs-built_in">min</span>(dp[i][s], dp[i][s ^ (<span class="hljs-number">1</span> &lt;&lt; k)] + cost[i - <span class="hljs-number">1</span>][k]);<br>                    dp[i][s] = <span class="hljs-built_in">min</span>(dp[i][s], dp[i - <span class="hljs-number">1</span>][s] + cost[i - <span class="hljs-number">1</span>][k]);<br>                    dp[i][s] = <span class="hljs-built_in">min</span>(dp[i][s], dp[i - <span class="hljs-number">1</span>][s ^ (<span class="hljs-number">1</span> &lt;&lt; k)] + cost[i - <span class="hljs-number">1</span>][k]);<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> dp[size_1][stateNumber - <span class="hljs-number">1</span>];<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä½è¿ç®—</tag>
      
      <tag>C++</tag>
      
      <tag>é›†åˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CMake ä»‹ç»</title>
    <link href="/2023/06/17/CMake%20%E4%BB%8B%E7%BB%8D/"/>
    <url>/2023/06/17/CMake%20%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<h3 id="cmake-ç®€ä»‹">CMake ç®€ä»‹</h3><p>CMake æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„æ„å»ºå·¥å…·ï¼Œç”¨äºç®¡ç†å’Œæ„å»º C++é¡¹ç›®ã€‚å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯æä¾›ä¸€ç§ç®€åŒ–çš„æ„å»ºè¿‡ç¨‹ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿå’Œç¼–è¯‘å™¨ä¸Šè½»æ¾åœ°ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€åº“å’Œå…¶ä»–æ„å»ºç›®æ ‡ã€‚</p><p>CMakeçš„ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡æè¿°é¡¹ç›®çš„æ„å»ºè¿‡ç¨‹æ¥ç”Ÿæˆæ„å»ºç³»ç»Ÿæ‰€éœ€çš„æ„å»ºè„šæœ¬ã€‚å®ƒä½¿ç”¨ä¸€ç§ç§°ä¸º<code>CMakeLists.txt</code>çš„æ–‡æœ¬æ–‡ä»¶æ¥å®šä¹‰é¡¹ç›®çš„ç›®å½•ç»“æ„ã€æºæ–‡ä»¶ã€ç¼–è¯‘é€‰é¡¹ã€ä¾èµ–é¡¹å’Œæ„å»ºè§„åˆ™ã€‚CMakeå…·æœ‰å¾ˆå¥½çš„è·¨å¹³å°æ€§ï¼Œå¯ä»¥åœ¨å¤šç§æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ï¼ŒåŒ…æ‹¬ Windowsã€Linuxã€macOSç­‰ã€‚å®ƒå¯ä»¥ç”Ÿæˆä¸åŒçš„æ„å»ºç³»ç»Ÿæ–‡ä»¶ï¼Œå¦‚ Makefileã€Ninjaã€Visual Studioè§£å†³æ–¹æ¡ˆç­‰ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨ä¸åŒçš„å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨é€‚åˆçš„æ„å»ºç³»ç»Ÿã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼ŒCMake ç®€åŒ–äº†è·¨å¹³å° C++é¡¹ç›®çš„æ„å»ºè¿‡ç¨‹ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿæ›´è½»æ¾åœ°ç®¡ç†é¡¹ç›®çš„ç¼–è¯‘å’Œæ„å»ºï¼ŒåŒæ—¶æä¾›äº†çµæ´»æ€§å’Œå¯æ‰©å±•æ€§æ¥å¤„ç†å¤æ‚çš„é¡¹ç›®ç»“æ„å’Œä¾èµ–å…³ç³»ã€‚</p><p>å­¦ä¹  CMake çš„ç›®çš„ï¼Œæ˜¯ä¸ºå°†æ¥<strong>å¤„ç†å¤§å‹çš„ C / C++ / Javaé¡¹ç›®</strong>åšå‡†å¤‡ã€‚</p><h4 id="cmake-å®‰è£…">CMake å®‰è£…</h4><p>ç»å¤§å¤šæ•° Linux ç³»ç»Ÿå·²ç»å®‰è£…äº† CMakeï¼Œæ²¡æœ‰å®‰è£…çš„è¯å¯ä»¥å» <ahref="http://www.cmake.org/HTML/Download.html">CMake å®˜ç½‘</a>è¿›è¡Œå®‰è£…ã€‚</p><p>MacOS ä¹Ÿå¯ä»¥ç”¨ Homebrew è¿›è¡Œå¿«é€Ÿå®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">brew install cmake<br></code></pre></td></tr></table></figure><h3 id="æ„å»º-cmake-é¡¹ç›®">æ„å»º CMake é¡¹ç›®</h3><p>æ„å»º CMake é¡¹ç›®ï¼Œå¤§è‡´åˆ†ä¸º 3 ä¸ªæ­¥éª¤ï¼š</p><ol type="1"><li>åˆ›å»º <code>CMakeLists.txt</code> æ–‡ä»¶</li><li>ä½¿ç”¨ <code>CMake</code> æŒ‡ä»¤ç”Ÿæˆ <code>Makefile</code> æ–‡ä»¶</li><li>ä½¿ç”¨ <code>make</code> æŒ‡ä»¤è¿›è¡Œç¼–è¯‘</li></ol><h4 id="ä¸€ä¸ªç®€å•ç¤ºä¾‹">ä¸€ä¸ªç®€å•ç¤ºä¾‹</h4><ul><li><p>åˆ›å»ºä¸€ä¸ª <code>demo.cpp</code> ï¼š</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Hello world!\n&quot;</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p></li><li><p>åŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>CMakeLists.txt</code>æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹æ–‡æœ¬ï¼š</p><p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">PROJECT</span>(HELLO)<br><br><span class="hljs-keyword">SET</span>(SRC_LIST demo.cpp)<br><br><span class="hljs-keyword">MESSAGE</span>(STUTAS <span class="hljs-string">&quot;Configuring project...&quot;</span>)<br><br><span class="hljs-keyword">ADD_EXECUTABLE</span>(Demo <span class="hljs-variable">$&#123;SRC_LIST&#125;</span>)<br></code></pre></td></tr></table></figure></p></li><li><p>ç»ˆç«¯ä¸‹ä½¿ç”¨ <code>cmake</code> æŒ‡ä»¤ç”Ÿæˆ <code>Makefile</code>æ–‡ä»¶ï¼š</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cmake .<br></code></pre></td></tr></table></figure></p><p>è‹¥è¿è¡ŒæˆåŠŸï¼Œåˆ™ç›®å½•ä¸‹ä¼šç”Ÿæˆ <code>Makefile</code> æ–‡ä»¶ã€‚</p></li><li><p>ä½¿ç”¨ <code>make</code> æŒ‡ä»¤è¿›è¡Œç¼–è¯‘ï¼š</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">make<br></code></pre></td></tr></table></figure></p><p>ç¼–è¯‘æˆåŠŸï¼Œåˆ™ä¼šç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ <code>Demo</code> ã€‚</p></li><li><p>è¿è¡Œ <code>Demo</code> å³å¯ï¼š</p><p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">./Demo<br></code></pre></td></tr></table></figure></p></li></ul><h4 id="cmakelists.txt-åŸºæœ¬è¯­æ³•ä»‹ç»"><code>CMakeLists.txt</code>åŸºæœ¬è¯­æ³•ä»‹ç»</h4><h5 id="project-å…³é”®å­—"><code>PROJECT</code> å…³é”®å­—</h5><p><code>PROJECT</code>å…³é”®å­—ç”¨äºå®šä¹‰å’Œé…ç½®é¡¹ç›®ã€‚å®ƒç”¨äºæŒ‡å®šé¡¹ç›®çš„åç§°ã€ç‰ˆæœ¬å·å’Œè¯­è¨€ã€‚ã€‚</p><p>PROJECTå…³é”®å­—çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">PROJECT</span>(&lt;project_name&gt; [VERSION &lt;version&gt;] [LANGUAGES &lt;languages&gt;])<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;project_name&gt;</code>æ˜¯è¦å®šä¹‰çš„é¡¹ç›®åç§°ã€‚<code>&lt;version&gt;</code>æ˜¯å¯é€‰çš„ï¼Œç”¨äºæŒ‡å®šé¡¹ç›®çš„ç‰ˆæœ¬å·ã€‚ <code>&lt;languages&gt;</code>ä¹Ÿæ˜¯å¯é€‰çš„ï¼Œç”¨äºæŒ‡å®šé¡¹ç›®æ‰€ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº› <code>PROJECT</code> å…³é”®å­—çš„ç¤ºä¾‹ç”¨æ³•ï¼š</p><ol type="1"><li><p>å®šä¹‰ä¸€ä¸ªç®€å•çš„é¡¹ç›®ï¼š</p><p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">PROJECT</span>(MyProject)<br></code></pre></td></tr></table></figure></p></li><li><p>å®šä¹‰ä¸€ä¸ªå¸¦æœ‰ç‰ˆæœ¬å·çš„é¡¹ç›®ï¼š</p><p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">PROJECT</span>(MyProject VERSION <span class="hljs-number">1.0</span>)<br></code></pre></td></tr></table></figure></p></li><li><p>å®šä¹‰ä¸€ä¸ªä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€çš„é¡¹ç›®ï¼š</p><p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">PROJECT</span>(MyProject LANGUAGES CXX C)<br></code></pre></td></tr></table></figure></p></li></ol><h5 id="set-å…³é”®å­—"><code>SET</code> å…³é”®å­—</h5><p><code>SET</code> å…³é”®å­—ç”¨äºè®¾ç½®å˜é‡çš„å€¼ã€‚è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">SET</span>(&lt;variable&gt; &lt;value&gt; [CACHE &lt;type&gt; &lt;docstring&gt; [FORCE]])<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;variable&gt;</code>æ˜¯è¦è®¾ç½®çš„å˜é‡åï¼Œ<code>&lt;value&gt;</code>æ˜¯è¦ä¸ºå˜é‡è®¾ç½®çš„å€¼ã€‚<code>&lt;value&gt;</code>å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€ä¸€ä¸ªåˆ—è¡¨ã€ä¸€ä¸ªå¸ƒå°”å€¼æˆ–ä¸€ä¸ªæ•°å€¼ã€‚SETå…³é”®å­—è¿˜æ”¯æŒä¸€äº›å…¶ä»–é€‰é¡¹ï¼š</p><ul><li><code>CACHE</code>ï¼šæŒ‡å®šå˜é‡ä¸ºç¼“å­˜å˜é‡ï¼Œå³ç”¨æˆ·å¯ä»¥é€šè¿‡CMakeçš„ç¼“å­˜æœºåˆ¶è¿›è¡Œè®¾ç½®æˆ–ä¿®æ”¹è¯¥å˜é‡çš„å€¼ã€‚ç¼“å­˜å˜é‡çš„å€¼å¯ä»¥åœ¨CMakeè¿è¡ŒæœŸé—´æŒä¹…ä¿å­˜ï¼Œå¹¶åœ¨ä¸‹ä¸€æ¬¡è¿è¡Œæ—¶ä¿æŒä¸å˜ã€‚</li><li><code>&lt;type&gt;</code>ï¼šæŒ‡å®šç¼“å­˜å˜é‡çš„ç±»å‹ã€‚å¯ä»¥æ˜¯BOOLã€STRINGã€PATHç­‰ç±»å‹ã€‚</li><li><code>&lt;docstring&gt;</code>ï¼šå¯é€‰é¡¹ï¼Œç”¨äºæä¾›å˜é‡çš„æè¿°æ–‡æœ¬ã€‚</li><li><code>FORCE</code>ï¼šå¯é€‰é¡¹ï¼Œå¼ºåˆ¶è®¾ç½®å˜é‡çš„å€¼ï¼Œå³ä½¿å®ƒå·²ç»è¢«ç¼“å­˜ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€äº› <code>SET</code> å…³é”®å­—çš„ç¤ºä¾‹ç”¨æ³•ï¼š</p><ol type="1"><li><p>è®¾ç½®ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼š <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">SET</span>(my_string <span class="hljs-string">&quot;Hello, World!&quot;</span>)<br></code></pre></td></tr></table></figure></p></li><li><p>è®¾ç½®ä¸€ä¸ªåˆ—è¡¨å˜é‡ï¼š <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">SET</span>(my_list <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure></p></li><li><p>è®¾ç½®ä¸€ä¸ªç¼“å­˜å˜é‡ï¼š <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">SET</span>(my_variable <span class="hljs-string">&quot;default value&quot;</span> CACHE <span class="hljs-keyword">STRING</span> <span class="hljs-string">&quot;Description of my variable&quot;</span>)<br></code></pre></td></tr></table></figure></p></li><li><p>å¼ºåˆ¶è®¾ç½®ä¸€ä¸ªç¼“å­˜å˜é‡çš„å€¼ï¼š <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">SET</span>(my_variable <span class="hljs-string">&quot;new value&quot;</span> CACHE <span class="hljs-keyword">STRING</span> <span class="hljs-string">&quot;Description of my variable&quot;</span> FORCE)<br></code></pre></td></tr></table></figure></p></li></ol><p>é€šè¿‡ <code>SET</code> å…³é”®å­—ï¼Œä½ å¯ä»¥åœ¨ CMakeè„šæœ¬ä¸­è®¾ç½®å˜é‡çš„å€¼ï¼Œå¹¶æ ¹æ®éœ€è¦ä½¿ç”¨å®ƒä»¬æ¥æ§åˆ¶æ„å»ºè¿‡ç¨‹ã€ä¼ é€’å‚æ•°æˆ–å¤„ç†å…¶ä»–é€»è¾‘ã€‚</p><p>å˜é‡å–å€¼ï¼šä½¿ç”¨ <code>$&#123;&#125;</code> ï¼Œä½†æ˜¯åœ¨ <code>IF</code>æ§åˆ¶è¯­å¥ä¸­ç›´æ¥ä½¿ç”¨å˜é‡åã€‚</p><h5 id="message-å…³é”®å­—"><code>MESSAGE</code> å…³é”®å­—</h5><p>åœ¨ CMake ä¸­ï¼Œ<code>MESSAGE</code>æ˜¯ä¸€ä¸ªç”¨äºè¾“å‡ºæ¶ˆæ¯çš„å…³é”®å­—ã€‚å®ƒå…è®¸ä½ åœ¨ CMakeè„šæœ¬ä¸­æ‰“å°ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨æ„å»ºè¿‡ç¨‹ä¸­å‘ç”¨æˆ·æä¾›æœ‰ç”¨çš„åé¦ˆæˆ–è°ƒè¯•ä¿¡æ¯ã€‚</p><p>MESSAGEå…³é”®å­—çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">MESSAGE</span>([&lt;mode&gt;] <span class="hljs-string">&quot;&lt;message&gt;&quot;</span>)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;mode&gt;</code>æ˜¯å¯é€‰çš„ï¼Œç”¨äºæŒ‡å®šæ¶ˆæ¯çš„æ¨¡å¼ã€‚å¸¸ç”¨çš„æ¶ˆæ¯æ¨¡å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><code>STATUS</code> ï¼šä»¥æ™®é€šçŠ¶æ€çš„å½¢å¼è¾“å‡ºæ¶ˆæ¯ã€‚</li><li><code>WARNING</code> ï¼šä»¥è­¦å‘Šçš„å½¢å¼è¾“å‡ºæ¶ˆæ¯ã€‚</li><li><code>AUTHOR_WARNING</code> ï¼šä»¥ä½œè€…è­¦å‘Šçš„å½¢å¼è¾“å‡ºæ¶ˆæ¯ã€‚</li><li><code>SEND_ERROR</code> ï¼šä»¥é”™è¯¯çš„å½¢å¼è¾“å‡ºæ¶ˆæ¯ï¼Œå¹¶ç»ˆæ­¢ CMakeçš„é…ç½®è¿‡ç¨‹ã€‚</li><li><code>FATAL_ERROR</code> ï¼šä»¥è‡´å‘½é”™è¯¯çš„å½¢å¼è¾“å‡ºæ¶ˆæ¯ï¼Œå¹¶ç»ˆæ­¢ CMakeçš„é…ç½®è¿‡ç¨‹ã€‚</li></ul><p><code>&lt;message&gt;</code>æ˜¯è¦è¾“å‡ºçš„æ¶ˆæ¯å†…å®¹ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå˜é‡ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›MESSAGEå…³é”®å­—çš„ç¤ºä¾‹ç”¨æ³•ï¼š</p><ol type="1"><li><p>è¾“å‡ºæ™®é€šçŠ¶æ€æ¶ˆæ¯ï¼š <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">MESSAGE</span>(STATUS <span class="hljs-string">&quot;Configuring project...&quot;</span>)<br></code></pre></td></tr></table></figure></p></li><li><p>è¾“å‡ºè­¦å‘Šæ¶ˆæ¯ï¼š <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">MESSAGE</span>(WARNING <span class="hljs-string">&quot;Warning: Invalid configuration detected.&quot;</span>)<br></code></pre></td></tr></table></figure></p></li><li><p>è¾“å‡ºé”™è¯¯æ¶ˆæ¯å¹¶ç»ˆæ­¢é…ç½®è¿‡ç¨‹ï¼š <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">MESSAGE</span>(SEND_ERROR <span class="hljs-string">&quot;Error: Required library not found.&quot;</span>)<br></code></pre></td></tr></table></figure></p></li></ol><h5 id="add_executable-å…³é”®å­—"><code>ADD_EXECUTABLE</code> å…³é”®å­—</h5><p>åœ¨ CMake ä¸­ï¼Œ<code>ADD_EXECUTABLE</code>æ˜¯ä¸€ä¸ªç”¨äºæ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶çš„å…³é”®å­—ã€‚å®ƒç”¨äºæŒ‡å®šè¦æ„å»ºçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°å’Œæºä»£ç æ–‡ä»¶ã€‚</p><p><code>ADD_EXECUTABLE</code> å…³é”®å­—çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">ADD_EXECUTABLE</span>(&lt;executable_name&gt; [WIN32] [MACOSX_BUNDLE] [EXCLUDE_FROM_ALL] source1 [source2 ...])<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;executable_name&gt;</code>æ˜¯è¦ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°ã€‚<code>[WIN32]</code> å’Œ<code>[MACOSX_BUNDLE]</code> æ˜¯å¯é€‰çš„æ ‡å¿—ï¼Œç”¨äºæŒ‡å®šåœ¨ Windows ä¸Šæ„å»ºä¸€ä¸ªGUI åº”ç”¨ç¨‹åºæˆ–åœ¨ macOSä¸Šæ„å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºæ†ç»‘åŒ…ã€‚<code>[EXCLUDE_FROM_ALL]</code>ä¹Ÿæ˜¯å¯é€‰çš„æ ‡å¿—ï¼Œè¡¨ç¤ºè¯¥ç›®æ ‡ä¸ä¼šè¢«é»˜è®¤æ„å»ºï¼Œé™¤éæ˜ç¡®è¦æ±‚ã€‚</p><p><code>source1 [source2 ...]</code>æ˜¯è¦åŒ…å«åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„æºä»£ç æ–‡ä»¶çš„åˆ—è¡¨ã€‚å¯ä»¥é€šè¿‡ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„æŒ‡å®šè¿™äº›æºæ–‡ä»¶ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>ADD_EXECUTABLE</code> å…³é”®å­—çš„ç¤ºä¾‹ç”¨æ³•ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">ADD_EXECUTABLE</span>(MyApp main.cpp utils.cpp)<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹å°†åˆ›å»ºä¸€ä¸ªåä¸º <code>MyApp</code> çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶å°†<code>main.cpp</code> å’Œ <code>utils.cpp</code>ä½œä¸ºæºä»£ç æ–‡ä»¶åŒ…å«åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚</p><p>ä½¿ç”¨ <code>ADD_EXECUTABLE</code> å…³é”®å­—æ—¶ï¼ŒCMakeä¼šè‡ªåŠ¨æ£€æµ‹æºä»£ç æ–‡ä»¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ç›¸åº”åœ°è®¾ç½®ç¼–è¯‘å™¨å’Œç¼–è¯‘é€‰é¡¹ã€‚</p><p><code>ADD_EXECUTABLE</code>å…³é”®å­—å…è®¸ä½ å®šä¹‰é¡¹ç›®ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶æŒ‡å®šä¸ä¹‹ç›¸å…³çš„æºä»£ç æ–‡ä»¶ã€‚é€šè¿‡<code>ADD_EXECUTABLE</code>ï¼Œä½ å¯ä»¥å°†æºä»£ç æ–‡ä»¶ä¸ç‰¹å®šçš„å¯æ‰§è¡Œæ–‡ä»¶å…³è”èµ·æ¥ï¼Œä»¥ä¾¿åœ¨æ„å»ºè¿‡ç¨‹ä¸­ç”Ÿæˆæ‰€éœ€çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><h5 id="add_subdirectory-å…³é”®å­—"><code>ADD_SUBDIRECTORY</code>å…³é”®å­—</h5><p><code>ADD_SUBDIRECTORY</code> æ˜¯ç”¨äºå‘ CMakeæ„å»ºç³»ç»Ÿæ·»åŠ å­ç›®å½•çš„å…³é”®å­—ã€‚å®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰ CMakeåœ¨å½“å‰é¡¹ç›®ä¸­åŒ…å«å¦ä¸€ä¸ªç›®å½•ï¼Œå¹¶åœ¨è¯¥å­ç›®å½•ä¸­æŸ¥æ‰¾å¹¶å¤„ç†å¦ä¸€ä¸ª<code>CMakeLists.txt</code> æ–‡ä»¶ã€‚</p><p><code>ADD_SUBDIRECTORY</code> çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">ADD_SUBDIRECTORY</span>(directory [binary_dir] [EXCLUDE_FROM_ALL])<br></code></pre></td></tr></table></figure><ul><li><code>directory</code>ï¼šè¦æ·»åŠ çš„å­ç›®å½•çš„è·¯å¾„ã€‚è¿™ä¸ªè·¯å¾„å¯ä»¥æ˜¯ç›¸å¯¹äºå½“å‰ CMakeLists.txtæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚</li><li><code>binary_dir</code>ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶çš„è¾“å‡ºç›®å½•ã€‚å¦‚æœä¸æä¾›ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼ˆé€šå¸¸æ˜¯å½“å‰æ„å»ºç›®å½•ï¼‰ã€‚</li><li><code>EXCLUDE_FROM_ALL</code>ï¼ˆå¯é€‰ï¼‰ï¼šå¦‚æœæŒ‡å®šäº†è¿™ä¸ªé€‰é¡¹ï¼Œå°†ä¼šåœ¨æ„å»ºç›®æ ‡æ—¶æ’é™¤è¿™ä¸ªå­ç›®å½•ã€‚è¿™å¯¹äºåŒ…å«ä¸€äº›å¯é€‰çš„æˆ–ä¸å¸¸ç”¨çš„å­é¡¹ç›®å¾ˆæœ‰ç”¨ã€‚</li></ul><p>ä½¿ç”¨ <code>ADD_SUBDIRECTORY</code> æ—¶ï¼ŒCMake ä¼šè¿›å…¥å­ç›®å½•å¹¶å¤„ç†å¯¹åº”çš„<code>CMakeLists.txt</code>æ–‡ä»¶ã€‚è¿™æ„å‘³ç€å­ç›®å½•ä¸­å¯ä»¥æœ‰è‡ªå·±çš„æ„å»ºè§„åˆ™ã€ç›®æ ‡ç­‰ã€‚é€šè¿‡ä½¿ç”¨<code>ADD_SUBDIRECTORY</code>ï¼Œå¯ä»¥å°†å¤æ‚çš„é¡¹ç›®åˆ’åˆ†ä¸ºå¤šä¸ªå­é¡¹ç›®ï¼Œå¹¶ä½¿ç”¨å„è‡ªçš„CMakeLists.txt æ–‡ä»¶è¿›è¡Œç®¡ç†ï¼Œä»è€Œæé«˜é¡¹ç›®çš„ç»„ç»‡æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><p>è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨ <code>ADD_SUBDIRECTORY</code>ä¹‹å‰ï¼Œé€šå¸¸éœ€è¦åœ¨å­ç›®å½•ä¸­å‡†å¤‡ä¸€ä¸ªæœ‰æ•ˆçš„ CMakeLists.txtæ–‡ä»¶ï¼Œä»¥å®šä¹‰å­é¡¹ç›®çš„æ„å»ºè§„åˆ™ã€ç›®æ ‡ç­‰ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ <code>ADD_SUBDIRECTORY</code>ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># ä¸»é¡¹ç›®çš„ CMakeLists.txt</span><br><br><span class="hljs-comment"># æ·»åŠ å­ç›®å½•</span><br><span class="hljs-keyword">ADD_SUBDIRECTORY</span>(subdir)<br><br><span class="hljs-comment"># ä¸»é¡¹ç›®çš„æ„å»ºè§„åˆ™å’Œç›®æ ‡</span><br><span class="hljs-comment"># ...</span><br></code></pre></td></tr></table></figure><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># å­ç›®å½•çš„ CMakeLists.txt</span><br><br><span class="hljs-comment"># å­ç›®å½•çš„æ„å»ºè§„åˆ™å’Œç›®æ ‡</span><br><span class="hljs-comment"># ...</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œä¸»é¡¹ç›®çš„ <code>CMakeLists.txt</code> æ–‡ä»¶ä½¿ç”¨<code>ADD_SUBDIRECTORY</code> æ·»åŠ äº†ä¸€ä¸ªåä¸º "subdir"çš„å­ç›®å½•ã€‚ç„¶åï¼ŒCMake è¿›å…¥å­ç›®å½•å¹¶å¤„ç†å¯¹åº”çš„ CMakeLists.txtæ–‡ä»¶ï¼Œæ‰§è¡Œå­ç›®å½•çš„æ„å»ºè§„åˆ™å’Œç›®æ ‡çš„è®¾ç½®ã€‚</p><p>é€šè¿‡ä½¿ç”¨ <code>ADD_SUBDIRECTORY</code>ï¼Œä½ å¯ä»¥å°†é¡¹ç›®ç»„ç»‡æˆå¤šä¸ªå­ç›®å½•ï¼Œæ¯ä¸ªå­ç›®å½•éƒ½å¯ä»¥æœ‰è‡ªå·±çš„<code>CMakeLists.txt</code> æ–‡ä»¶ï¼Œæ–¹ä¾¿åœ°ç®¡ç†å’Œæ„å»ºå¤§å‹é¡¹ç›®ã€‚</p><h5 id="install-å…³é”®å­—"><code>INSTALL</code> å…³é”®å­—</h5><p><code>INSTALL</code>ç”¨äºå®šä¹‰è¦å®‰è£…çš„æ–‡ä»¶ã€ç›®å½•å’Œç›¸å…³è®¾ç½®ã€‚å®ƒç”¨äºåœ¨æ„å»ºè¿‡ç¨‹ä¸­æŒ‡å®šå°†ç”Ÿæˆçš„æ–‡ä»¶å¤åˆ¶åˆ°ç‰¹å®šä½ç½®çš„è§„åˆ™ã€‚</p><p><code>INSTALL</code> å…³é”®å­—çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">INSTALL</span>([CODE &lt;code&gt;]<br>        [SCRIPT &lt;<span class="hljs-keyword">file</span>&gt;]<br>        [SCRIPTS &lt;files&gt;...]<br>        [FILES &lt;files&gt;...]<br>        [PROGRAMS &lt;files&gt;...]<br>        [DIRECTORY &lt;dir&gt;...]<br>        [TARGETS &lt;targets&gt;...]<br>        [<span class="hljs-keyword">EXPORT</span> &lt;<span class="hljs-keyword">export</span>-name&gt;]<br>        [ALIAS &lt;<span class="hljs-keyword">target</span>&gt;]<br>        [FILES_MATCHING]<br>        [[PATTERN &lt;pattern&gt; | REGEX &lt;regex&gt;]<br>         [EXCLUDE] [PERMISSIONS permissions...]<br>         [CONFIGURATIONS [Debug|Release|...]]]...<br>        [...])<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ INSTALL å…³é”®å­—çš„ä¸€äº›å¸¸ç”¨é€‰é¡¹ï¼š</p><ul><li><code>CODE &lt;code&gt;</code> ï¼šæŒ‡å®šè‡ªå®šä¹‰å®‰è£…é€»è¾‘çš„ CMakeä»£ç ã€‚</li><li><code>SCRIPT &lt;file&gt;</code>ï¼šæŒ‡å®šä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œè¯¥è„šæœ¬æ–‡ä»¶åŒ…å«å®‰è£…é€»è¾‘ã€‚</li><li><code>SCRIPTS &lt;files&gt;...</code>ï¼šæŒ‡å®šå¤šä¸ªè„šæœ¬æ–‡ä»¶ï¼Œè¿™äº›è„šæœ¬æ–‡ä»¶åŒ…å«å®‰è£…é€»è¾‘ã€‚</li><li><code>FILES &lt;files&gt;...</code> ï¼šæŒ‡å®šè¦å®‰è£…çš„æ™®é€šæ–‡ä»¶ã€‚</li><li><code>PROGRAMS &lt;files&gt;...</code>ï¼šæŒ‡å®šè¦å®‰è£…çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</li><li><code>DIRECTORY &lt;dir&gt;...</code> ï¼šæŒ‡å®šè¦å®‰è£…çš„ç›®å½•ã€‚</li><li><code>TARGETS &lt;targets&gt;...</code>ï¼šæŒ‡å®šè¦å®‰è£…çš„æ„å»ºç›®æ ‡ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶ã€é™æ€åº“ã€å…±äº«åº“ç­‰ï¼‰ã€‚</li><li><code>EXPORT &lt;export-name&gt;</code>ï¼šæŒ‡å®šè¦å®‰è£…çš„å¯¼å‡ºç›®æ ‡ã€‚</li><li><code>ALIAS &lt;target&gt;</code>ï¼šæŒ‡å®šè¦å®‰è£…çš„æ„å»ºç›®æ ‡çš„åˆ«åã€‚</li><li><code>FILES_MATCHING</code> ï¼šæŒ‡å®šåœ¨å®‰è£…æ–‡ä»¶æ—¶è¿›è¡ŒåŒ¹é…çš„æ¨¡å¼ã€‚</li><li><code>PATTERN &lt;pattern&gt; | REGEX &lt;regex&gt;</code>ï¼šæŒ‡å®šæ–‡ä»¶åŒ¹é…çš„æ¨¡å¼æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚</li><li><code>EXCLUDE</code> ï¼šæ’é™¤åŒ¹é…çš„æ–‡ä»¶ã€‚</li><li><code>PERMISSIONS permissions...</code> ï¼šæŒ‡å®šå®‰è£…æ–‡ä»¶çš„æƒé™ã€‚</li><li><code>CONFIGURATIONS [Debug|Release|...]</code>ï¼šæŒ‡å®šä»…åœ¨ç‰¹å®šæ„å»ºé…ç½®ä¸‹å®‰è£…æ–‡ä»¶ã€‚</li></ul><p>INSTALLå…³é”®å­—å…è®¸æ‚¨ä»¥çµæ´»çš„æ–¹å¼å®šä¹‰æ–‡ä»¶å’Œç›®å½•çš„å®‰è£…è§„åˆ™ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ª INSTALLå…³é”®å­—æ¥å®‰è£…å¤šä¸ªæ–‡ä»¶å’Œç›®å½•ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># CMakeLists.txt</span><br><br><span class="hljs-comment"># å®‰è£…è„šæœ¬æ–‡ä»¶å’Œç›®å½•</span><br><span class="hljs-keyword">INSTALL</span>(SCRIPT my_script.cmake)<br><span class="hljs-keyword">INSTALL</span>(DIRECTORY my_directory DESTINATION /path/to/destination)<br><br><span class="hljs-comment"># å®‰è£…æ–‡ä»¶</span><br><span class="hljs-keyword">INSTALL</span>(FILES file1.txt file2.txt DESTINATION /path/to/destination)<br><br><span class="hljs-comment"># å®‰è£…å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="hljs-keyword">INSTALL</span>(PROGRAMS my_program DESTINATION /path/to/destination)<br><br><span class="hljs-comment"># å®‰è£…æ„å»ºç›®æ ‡</span><br><span class="hljs-keyword">INSTALL</span>(TARGETS my_target RUNTIME DESTINATION /path/to/destination)<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>INSTALL</code>å…³é”®å­—æ¥æŒ‡å®šä¸åŒç±»å‹çš„æ–‡ä»¶å’Œç›®å½•çš„å®‰è£…ä½ç½®ã€‚</p><h4 id="cmake-æŒ‡ä»¤"><code>cmake</code> æŒ‡ä»¤</h4><ol type="1"><li><p><code>cmake</code> åŸºæœ¬è¯­æ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cmake [options] &lt;path-to-source&gt;<br></code></pre></td></tr></table></figure><ul><li><code>options</code>ï¼šCMakeçš„é€‰é¡¹ï¼Œç”¨äºé…ç½®ç”Ÿæˆè¿‡ç¨‹çš„è¡Œä¸ºå’Œå‚æ•°ã€‚</li><li><code>&lt;path-to-source&gt;</code> ï¼š<code>CMakeLists.txt</code>æ‰€åœ¨çš„æºä»£ç ç›®å½•è·¯å¾„ã€‚</li></ul></li><li><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><ul><li><code>-G &lt;generator&gt;</code>ï¼šæŒ‡å®šç”Ÿæˆå™¨ï¼Œç”¨äºç”Ÿæˆç‰¹å®šæ„å»ºç³»ç»Ÿçš„æ–‡ä»¶ï¼ˆå¦‚ Makefile æˆ– Visual Studioè§£å†³æ–¹æ¡ˆï¼‰ã€‚ä¾‹å¦‚ï¼Œ<code>-G "Unix Makefiles"</code> è¡¨ç¤ºç”Ÿæˆ Unixç³»ç»Ÿä¸‹çš„ Makefile æ–‡ä»¶ã€‚</li><li><code>-D &lt;var&gt;=&lt;value&gt;</code> ï¼šè®¾ç½® CMakeå˜é‡çš„å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>-D CMAKE_BUILD_TYPE=Release</code> è®¾ç½® CMake å˜é‡<code>CMAKE_BUILD_TYPE</code> çš„å€¼ä¸º <code>Release</code>ã€‚</li><li><code>-B &lt;path-to-build&gt;</code>ï¼šæŒ‡å®šæ„å»ºç›®å½•çš„è·¯å¾„ã€‚ç”Ÿæˆçš„æ„å»ºç³»ç»Ÿæ–‡ä»¶å°†å­˜å‚¨åœ¨è¯¥ç›®å½•ä¸­ã€‚</li><li><code>-S &lt;path-to-source&gt;</code> ï¼šæŒ‡å®šæºä»£ç ç›®å½•çš„è·¯å¾„ã€‚</li></ul></li><li><p>ç¤ºä¾‹ç”¨æ³•ï¼š</p><ul><li>åœ¨æºä»£ç ç›®å½•ä¸­ç›´æ¥è¿è¡ŒCMakeï¼ˆin-source buildï¼‰ï¼š <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /path/to/source &amp;&amp; cmake .<br></code></pre></td></tr></table></figure></li><li>åœ¨æŒ‡å®šçš„æ„å»ºç›®å½•ä¸­è¿è¡ŒCMakeï¼ˆout-of-source buildï¼‰ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /path/to/build &amp;&amp; cmake /path/to/source<br></code></pre></td></tr></table></figure></li><li>æŒ‡å®šç”Ÿæˆå™¨å’Œæ„å»ºç±»å‹ï¼š <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cmake -G &quot;Unix Makefiles&quot; -DCMAKE_BUILD_TYPE=Release /path/to/source<br></code></pre></td></tr></table></figure></li></ul></li></ol><h4 id="make-æŒ‡ä»¤"><code>make</code> æŒ‡ä»¤</h4><p>Makeæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ„å»ºå·¥å…·ï¼Œç”¨äºè‡ªåŠ¨åŒ–è½¯ä»¶é¡¹ç›®çš„ç¼–è¯‘å’Œæ„å»ºè¿‡ç¨‹ã€‚å®ƒä½¿ç”¨ä¸€ä¸ªåä¸º<code>Makefile</code>çš„æ–‡ä»¶æ¥å®šä¹‰æ„å»ºè§„åˆ™å’Œä¾èµ–å…³ç³»ï¼Œä»¥ç¡®å®šå¦‚ä½•ç”Ÿæˆç›®æ ‡æ–‡ä»¶ï¼ˆä¾‹å¦‚å¯æ‰§è¡Œæ–‡ä»¶ã€åº“æ–‡ä»¶ç­‰ï¼‰ã€‚</p><p>ä»¥ä¸‹æ˜¯ <code>make</code> æŒ‡ä»¤çš„åŸºæœ¬è¯­æ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">make [options] [target]<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>options</code> æ˜¯å¯é€‰çš„å‘½ä»¤è¡Œé€‰é¡¹ï¼Œç”¨äºæ§åˆ¶<code>make</code> çš„è¡Œä¸ºã€‚<code>target</code> æ˜¯è¦æ„å»ºçš„ç›®æ ‡ï¼Œé€šå¸¸æ˜¯åœ¨<code>Makefile</code> ä¸­å®šä¹‰çš„ä¸€ä¸ªè§„åˆ™ã€‚</p><p>å¸¸ç”¨çš„ <code>make</code> é€‰é¡¹åŒ…æ‹¬ï¼š</p><ul><li><code>-f &lt;filename&gt;</code>ï¼šæŒ‡å®šè¦ä½¿ç”¨çš„ <code>Makefile</code>æ–‡ä»¶çš„åç§°ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™é»˜è®¤ä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„ <code>Makefile</code>æ–‡ä»¶ã€‚</li><li><code>-C &lt;dir&gt;</code>ï¼šåœ¨æŒ‡å®šçš„ç›®å½•ä¸‹æ‰§è¡Œ <code>make</code>å‘½ä»¤ã€‚è¿™å¯ä»¥ç”¨äºæŒ‡å®š <code>Makefile</code> æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚</li><li><code>-j &lt;num&gt;</code>ï¼šæŒ‡å®šå¹¶è¡Œæ„å»ºçš„ä½œä¸šæ•°ï¼ŒåŠ å¿«æ„å»ºé€Ÿåº¦ã€‚</li></ul><p>åœ¨ <code>Makefile</code>æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰å¤šä¸ªç›®æ ‡å’Œè§„åˆ™ï¼Œæ¯ä¸ªè§„åˆ™æè¿°äº†å¦‚ä½•æ ¹æ®ä¾èµ–å…³ç³»ç”Ÿæˆç›®æ ‡æ–‡ä»¶ã€‚ä¸€ä¸ªåŸºæœ¬çš„è§„åˆ™ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">target: dependencies</span><br>    command1<br>    command2<br>    ...<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>target</code> æ˜¯ç›®æ ‡æ–‡ä»¶çš„åç§°ï¼Œ<code>dependencies</code>æ˜¯ç”Ÿæˆç›®æ ‡æ–‡ä»¶æ‰€ä¾èµ–çš„æ–‡ä»¶æˆ–ç›®æ ‡ï¼Œ<code>commandX</code>æ˜¯ç”¨äºç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„å‘½ä»¤ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ <code>Makefile</code> æ–‡ä»¶çš„å†…å®¹ï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">hello: main.c hello.c</span><br>    gcc -o hello main.c hello.c<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç›®æ ‡ <code>hello</code>ï¼Œå®ƒä¾èµ–äº<code>main.c</code> å’Œ <code>hello.c</code>è¿™ä¸¤ä¸ªæºä»£ç æ–‡ä»¶ã€‚<code>make</code>æŒ‡ä»¤ä¼šæ£€æŸ¥ä¾èµ–å…³ç³»ï¼Œå¹¶åœ¨éœ€è¦æ—¶æ‰§è¡Œç›¸åº”çš„å‘½ä»¤æ¥ç”Ÿæˆç›®æ ‡æ–‡ä»¶ã€‚</p><p>è¦ä½¿ç”¨ <code>make</code> æŒ‡ä»¤è¿›è¡Œæ„å»ºï¼Œåªéœ€åœ¨ç»ˆç«¯ä¸­è¿›å…¥åŒ…å«<code>Makefile</code> æ–‡ä»¶çš„ç›®å½•ï¼Œå¹¶è¿è¡Œ <code>make</code>å‘½ä»¤ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šç›®æ ‡ï¼Œé»˜è®¤ä¼šæ„å»ºç¬¬ä¸€ä¸ªç›®æ ‡ã€‚</p><blockquote><p>Makeå·¥å…·åŸºäºç›®æ ‡æ–‡ä»¶å’Œè§„åˆ™ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œé€šè¿‡å¢é‡æ„å»ºçš„æ–¹å¼è¿›è¡Œæ„å»ºï¼Œåªé‡æ–°æ„å»ºå·²ä¿®æ”¹çš„æ–‡ä»¶å’Œå—å…¶å½±å“çš„æ–‡ä»¶ï¼Œä»è€Œæé«˜æ„å»ºæ•ˆç‡ã€‚Makeæ˜¯ä¸€ä¸ªå¼ºå¤§è€Œçµæ´»çš„æ„å»ºå·¥å…·ï¼Œå®ƒåœ¨è½¯ä»¶å¼€å‘ä¸­å¹¿æ³›åº”ç”¨ã€‚é€šè¿‡å®šä¹‰é€‚å½“çš„è§„åˆ™å’Œä¾èµ–å…³ç³»ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–æ„å»ºè¿‡ç¨‹ï¼Œç®€åŒ–é¡¹ç›®çš„ç®¡ç†å’Œéƒ¨ç½²ã€‚</p></blockquote><p>CMake ä¸ Make ä¹‹é—´çš„å…³ç³»å¯ä»¥ç®€è¿°å¦‚ä¸‹ï¼š</p><ul><li>CMakeè´Ÿè´£ç”Ÿæˆé€‚åˆä¸åŒå¹³å°å’Œç¼–è¯‘å™¨çš„æ„å»ºç³»ç»Ÿæ–‡ä»¶ï¼ˆå¦‚Makefileï¼‰ã€‚</li><li>Make è´Ÿè´£æ ¹æ® Makefileä¸­çš„è§„åˆ™å’Œä¾èµ–å…³ç³»æ¥æ‰§è¡Œå®é™…çš„ç¼–è¯‘å’Œæ„å»ºæ“ä½œã€‚</li></ul><h6 id="make-install-æŒ‡ä»¤"><code>make install</code> æŒ‡ä»¤</h6><p><code>make install</code>ç”¨äºå°†æ„å»ºç”Ÿæˆçš„æ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šä½ç½®ï¼Œå®Œæˆè½¯ä»¶çš„å®‰è£…è¿‡ç¨‹ã€‚è¿™ä¸ªæŒ‡ä»¤é€šå¸¸ä¸<code>Makefile</code> æ–‡ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå®šä¹‰å®‰è£…è§„åˆ™ã€‚</p><p>åœ¨ <code>Makefile</code> ä¸­ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªåä¸º <code>install</code>çš„ç›®æ ‡è§„åˆ™ï¼Œè¯¥è§„åˆ™åŒ…å«å®‰è£…è¿‡ç¨‹çš„æŒ‡ä»¤ã€‚å®‰è£…æŒ‡ä»¤é€šå¸¸ä½¿ç”¨ç³»ç»Ÿçš„<code>cp</code> å‘½ä»¤æˆ–ç±»ä¼¼çš„å·¥å…·æ¥å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•åˆ°ç›®æ ‡ä½ç½®ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ <code>Makefile</code> æ–‡ä»¶ä¸­çš„ <code>install</code>è§„åˆ™ï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">install:</span><br>    cp myapp /usr/local/bin<br>    cp -r resources /usr/local/share/myapp<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ<code>install</code>è§„åˆ™ä¸­å®šä¹‰äº†ä¸¤ä¸ªå‘½ä»¤ã€‚ç¬¬ä¸€ä¸ªå‘½ä»¤ä½¿ç”¨ <code>cp</code> å‘½ä»¤å°†<code>myapp</code> å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ° <code>/usr/local/bin</code>ç›®å½•ä¸‹ï¼Œç¬¬äºŒä¸ªå‘½ä»¤å°† <code>resources</code> ç›®å½•é€’å½’å¤åˆ¶åˆ°<code>/usr/local/share/myapp</code> ç›®å½•ä¸‹ã€‚</p><p>è¦æ‰§è¡Œå®‰è£…è¿‡ç¨‹ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ <code>make install</code>å‘½ä»¤ã€‚Make å°†è¯»å– Makefile æ–‡ä»¶ï¼Œå¹¶æ ¹æ® <code>install</code>ç›®æ ‡è§„åˆ™ä¸­å®šä¹‰çš„æŒ‡ä»¤æ¥æ‰§è¡Œå®‰è£…æ“ä½œã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>make install</code>å‘½ä»¤é€šå¸¸éœ€è¦ä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™ï¼ˆsudoï¼‰æ¥æ‰§è¡Œï¼Œå› ä¸ºå°†æ–‡ä»¶å¤åˆ¶åˆ°ç³»ç»Ÿç›®å½•é€šå¸¸éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚å¦‚æœæ²¡æœ‰æƒé™ï¼Œå¯ä»¥å°è¯•å°†æ–‡ä»¶å¤åˆ¶åˆ°ç”¨æˆ·çš„ä¸ªäººç›®å½•æˆ–å…¶ä»–æœ‰æƒé™çš„ç›®å½•ã€‚</p><p>ä½¿ç”¨ <code>make install</code>æŒ‡ä»¤å¯ä»¥æ–¹ä¾¿åœ°è‡ªåŠ¨åŒ–è½¯ä»¶çš„å®‰è£…è¿‡ç¨‹ï¼Œå°†ç”Ÿæˆçš„æ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šä½ç½®ï¼Œä½¿ç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨å·²å®‰è£…çš„è½¯ä»¶ã€‚</p><h4 id="å·¥ç¨‹åŒ–ç›®å½•ç»“æ„">å·¥ç¨‹åŒ–ç›®å½•ç»“æ„</h4><p>åŸºæœ¬ç›®å½•ç»“æ„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">.<br>â”œâ”€CMakeLists.txt<br>â”œâ”€README.md<br>â”œâ”€bulid<br>â”œâ”€runhello.sh<br>â”œâ”€doc<br>â”œâ”€COPYRIGHT<br>â”œâ”€src<br>â”œâ”€â”€â”€CMakeLists.txt<br>â””â”€â”€â”€demo.cpp<br></code></pre></td></tr></table></figure><p>æ¯ä¸ªç›®å½•ä¸‹éƒ½æœ‰ä¸€ä¸ª <code>CMakeLists.txt</code> ï¼Œç”¨äºå®ç° CMakeåµŒå¥—ã€‚</p><ul><li><p>å¤–å±‚ <code>CMakeLists.txt</code> ï¼š</p><p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">PROJECT</span>(HELLO) <span class="hljs-comment"># æŒ‡å®šé¡¹ç›®åç§°</span><br><br><span class="hljs-keyword">ADD_SUBDIRECTORY</span>(src bin) <span class="hljs-comment"># å°† src å­ç›®å½•åŠ å…¥å·¥ç¨‹å¹¶æŒ‡å®šç¼–è¯‘è¾“å‡ºè·¯å¾„ä¸º bin ç›®å½•</span><br></code></pre></td></tr></table></figure></p></li><li><p>å†…å±‚ <code>CMakeLists.txt</code> ï¼š</p><p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">SET</span>(SRC_LIST demo.cpp)<br><br><span class="hljs-keyword">MESSAGE</span>(STUTAS <span class="hljs-string">&quot;Configuring project...&quot;</span>)<br><br><span class="hljs-keyword">ADD_EXECUTABLE</span>(Demo <span class="hljs-variable">$&#123;SRC_LIST&#125;</span>) <span class="hljs-comment"># æ·»åŠ å¯æ‰§è¡Œé¡¹ç›®</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>bulid</code>æ–‡ä»¶å¤¹ï¼šç”¨äºå­˜å‚¨æ„å»ºè¿‡ç¨‹ä¸­ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶å’Œæœ€ç»ˆçš„æ„å»ºç»“æœã€‚</p></li><li><p><code>src</code> æ–‡ä»¶å¤¹ï¼šç”¨äºå­˜æ”¾æºä»£ç </p></li><li><p><code>doc</code> æ–‡ä»¶å¤¹ï¼šç”¨äºå­˜æ”¾æ–‡æ¡£</p></li><li><p><code>COPYRIGHT</code> ï¼šç‰ˆæƒ</p></li><li><p><code>runhello.sh</code> ï¼šå®‰è£…è„šæœ¬</p></li></ul><h4 id="æ„å»ºåº“">æ„å»ºåº“</h4><h5 id="add_library-å…³é”®å­—"><code>ADD_LIBRARY</code> å…³é”®å­—</h5><p><code>ADD_LIBRARY</code>æ˜¯ä¸€ä¸ªç”¨äºå®šä¹‰å’Œæ„å»ºåº“ï¼ˆLibraryï¼‰ç›®æ ‡çš„å…³é”®å­—ã€‚å®ƒç”¨äºåˆ›å»ºé™æ€åº“ï¼ˆStaticLibraryï¼‰ã€å…±äº«åº“ï¼ˆShared Libraryï¼‰æˆ–æ¨¡å—åº“ï¼ˆModuleLibraryï¼‰çš„è§„åˆ™ï¼Œå¹¶å°†æºä»£ç æ–‡ä»¶ç¼–è¯‘æˆåº“æ–‡ä»¶ã€‚</p><p>ADD_LIBRARY å…³é”®å­—çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">ADD_LIBRARY</span>(&lt;name&gt; [STATIC | SHARED | MODULE]<br>            [EXCLUDE_FROM_ALL]<br>            [source1] [source2 ...])<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>&lt;name&gt;</code>æŒ‡å®šè¦åˆ›å»ºçš„åº“çš„åç§°ã€‚å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰åç§°æˆ–è€… CMakeçš„å˜é‡ä½œä¸ºåº“çš„åç§°ã€‚</p><p>é€‰é¡¹ <code>[STATIC | SHARED | MODULE]</code>æŒ‡å®šåº“çš„ç±»å‹ã€‚å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ç§ç±»å‹ï¼š -<code>STATIC</code>ï¼šåˆ›å»ºé™æ€åº“ã€‚é™æ€åº“åœ¨é“¾æ¥æ—¶è¢«é™æ€åœ°é“¾æ¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚-<code>SHARED</code>ï¼šåˆ›å»ºå…±äº«åº“ï¼ˆä¹Ÿç§°ä¸ºåŠ¨æ€åº“ï¼‰ã€‚å…±äº«åº“åœ¨è¿è¡Œæ—¶è¢«åŠ¨æ€åœ°åŠ è½½ã€‚- <code>MODULE</code>ï¼šåˆ›å»ºæ¨¡å—åº“ï¼ˆé€‚ç”¨äºåƒ Apple çš„ macOSå¹³å°ï¼‰ã€‚æ¨¡å—åº“æ˜¯ä¸€ç§ç‰¹æ®Šçš„å…±äº«åº“ç±»å‹ã€‚</p><p>å¯é€‰é¡¹ <code>[EXCLUDE_FROM_ALL]</code>è¡¨ç¤ºå°†è¯¥åº“ç›®æ ‡ä»ç”Ÿæˆçš„é»˜è®¤ç›®æ ‡ä¸­æ’é™¤ã€‚</p><p>åç»­çš„å‚æ•° <code>source1</code>ã€<code>source2</code>ç­‰æŒ‡å®šåº“çš„æºä»£ç æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯å•ä¸ªæºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨ã€‚CMakeå°†ç¼–è¯‘è¿™äº›æºä»£ç æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆåº“æ–‡ä»¶ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># CMakeLists.txt</span><br><br><span class="hljs-comment"># åˆ›å»ºé™æ€åº“</span><br><span class="hljs-keyword">ADD_LIBRARY</span>(my_static_lib STATIC source1.cpp source2.cpp)<br><br><span class="hljs-comment"># åˆ›å»ºå…±äº«åº“</span><br><span class="hljs-keyword">ADD_LIBRARY</span>(my_shared_lib SHARED source3.cpp source4.cpp)<br></code></pre></td></tr></table></figure><h5 id="include_directories-å…³é”®å­—"><code>INCLUDE_DIRECTORIES</code>å…³é”®å­—</h5><p><code>INCLUDE_DIRECTORIES</code>æ˜¯ä¸€ä¸ªç”¨äºæŒ‡å®šåŒ…å«ç›®å½•çš„å…³é”®å­—ã€‚å®ƒç”¨äºå°†ä¸€ä¸ªç›®å½•æ·»åŠ åˆ°ç¼–è¯‘å™¨çš„åŒ…å«è·¯å¾„ä¸­ï¼Œä»¥ä½¿ç¼–è¯‘å™¨èƒ½å¤Ÿæ‰¾åˆ°æ‰€éœ€çš„å¤´æ–‡ä»¶ã€‚</p><p><code>INCLUDE_DIRECTORIES</code> å…³é”®å­—çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">INCLUDE_DIRECTORIES</span>([AFTER|BEFORE] directory1 [directory2 ...])<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>directory1</code>ã€<code>directory2</code>ç­‰å‚æ•°æŒ‡å®šè¦æ·»åŠ åˆ°åŒ…å«è·¯å¾„ä¸­çš„ç›®å½•ã€‚å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªç›®å½•ã€‚</p><p>é€‰é¡¹ <code>[AFTER|BEFORE]</code>æ§åˆ¶æ–°ç›®å½•çš„æ·»åŠ é¡ºåºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–°ç›®å½•ä¼šæ·»åŠ åˆ°å·²æœ‰åŒ…å«ç›®å½•åˆ—è¡¨çš„æœ«å°¾ï¼Œå³åœ¨å·²æœ‰åŒ…å«ç›®å½•ä¹‹åã€‚å¦‚æœæŒ‡å®šäº†<code>AFTER</code> é€‰é¡¹ï¼Œæ–°ç›®å½•å°†æ·»åŠ åˆ°åˆ—è¡¨çš„æœ«å°¾ã€‚å¦‚æœæŒ‡å®šäº†<code>BEFORE</code> é€‰é¡¹ï¼Œæ–°ç›®å½•å°†æ·»åŠ åˆ°åˆ—è¡¨çš„å¼€å¤´ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># CMakeLists.txt</span><br><br><span class="hljs-comment"># æ·»åŠ åŒ…å«ç›®å½•</span><br><span class="hljs-keyword">INCLUDE_DIRECTORIES</span>(include_dir1 include_dir2)<br><br><span class="hljs-comment"># æ·»åŠ åŒ…å«ç›®å½•ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨åˆ—è¡¨çš„å¼€å¤´</span><br><span class="hljs-keyword">INCLUDE_DIRECTORIES</span>(BEFORE include_dir3)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C/C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>CMake</tag>
      
      <tag>è·¨å¹³å°é¡¹ç›®æ„å»º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“è§„èŒƒåŒ–ç†è®º</title>
    <link href="/2023/05/15/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA/"/>
    <url>/2023/05/15/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA/</url>
    
    <content type="html"><![CDATA[<h4 id="ä»€ä¹ˆæ˜¯æ•°æ®åº“è§„èŒƒåŒ–">ä»€ä¹ˆæ˜¯æ•°æ®åº“è§„èŒƒåŒ–ï¼Ÿ</h4><p><strong>æ•°æ®åº“è§„èŒƒåŒ–ï¼ˆNormalizationï¼‰</strong>æ˜¯ä¸€ç§æ•°æ®åº“è®¾è®¡æŠ€æœ¯ï¼Œå…¶æ—¨åœ¨å®ç°ä»¥ä¸‹ä¸¤ä¸ªä¸»è¦ç›®æ ‡ï¼š</p><ul><li>å‡å°‘æ•°æ®å†—ä½™ï¼ˆRedundancyï¼‰ã€‚</li><li>ç¡®ä¿æ•°æ®çš„ä¾èµ–æ€§æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå³æ•°æ®å­˜å‚¨æ˜¯æœ‰é€»è¾‘çš„ã€‚</li></ul><h4 id="å‡½æ•°ä¾èµ–">å‡½æ•°ä¾èµ–</h4><h5 id="åŸºæœ¬å®šä¹‰">åŸºæœ¬å®šä¹‰</h5><p><strong>å‡½æ•°ä¾èµ–ï¼ˆFunctionalDependncyï¼‰</strong>æ˜¯è§„èŒƒåŒ–ä¸­çš„é‡è¦æ¦‚å¿µï¼Œç®€è€Œè¨€ä¹‹ï¼Œå‡½æ•°ä¾èµ–ç”¨äºæè¿°<strong>å±æ€§ï¼ˆAttributesï¼‰</strong>ä¹‹é—´çš„å…³ç³»ã€‚</p><p>æ¦‚å¿µï¼š</p><blockquote><p>è‹¥ <span class="math inline">\(A\)</span> å’Œ <spanclass="math inline">\(B\)</span> æ˜¯å…³ç³»æ¨¡å¼ <spanclass="math inline">\(R\)</span> ä¸­çš„ä¸¤ä¸ªå±æ€§é›†åˆï¼Œå¯¹äºç»™å®šçš„ <spanclass="math inline">\(A\)</span> å€¼ï¼Œéƒ½æœ‰å”¯ä¸€çš„ <spanclass="math inline">\(B\)</span> å€¼ä¸å…¶å¯¹åº”ï¼Œæˆ‘ä»¬å°±ç§° <spanclass="math inline">\(A\)</span> å‡½æ•°å†³å®š <spanclass="math inline">\(B\)</span>ï¼Œ<span class="math inline">\(B\)</span>å‡½æ•°ä¾èµ–äº <span class="math inline">\(A\)</span>ï¼Œè®°ä½œï¼š<spanclass="math inline">\(A \to B\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(A\)</span> ç§°ä¸ºå†³å®šå› å­ï¼ˆDeterminantï¼‰</p><p>è‹¥ <span class="math inline">\(A\)</span> å’Œ <spanclass="math inline">\(B\)</span> ç›¸äº’ä¾èµ–ï¼Œå³äºŒè€…ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®°ä¸ºï¼š<spanclass="math inline">\(A\)</span> <spanclass="math inline">\(\leftrightarrow B\)</span></p></blockquote><p>ä¾‹å¦‚ï¼š</p><p>åœ¨ä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯çš„å…³ç³»æ¨¡å‹ <spanclass="math inline">\(Student(\underline{s\_id}, name, gender,age)\)</span> ä¸­ï¼Œæˆ‘ä»¬å‡è®¾å­¦å· <spanclass="math inline">\(s\_id\)</span> æ˜¯å…³ç³»æ¨¡å‹ä¸­çš„ä¸»é”®ï¼Œåˆ™æœ‰ï¼š <spanclass="math display">\[s\_id \to name\]</span>å³ï¼šå”¯ä¸€çš„å­¦å·å¯¹åº”å”¯ä¸€çš„å§“åï¼Œå› æ­¤å§“ååœ¨è¿™é‡Œæ˜¯å‡½æ•°ä¾èµ–äºå­¦å·çš„ã€‚</p><h5 id="å¹³å‡¡å‡½æ•°ä¾èµ–å’Œéå¹³å‡¡å‡½æ•°ä¾èµ–">å¹³å‡¡å‡½æ•°ä¾èµ–å’Œéå¹³å‡¡å‡½æ•°ä¾èµ–</h5><p>æˆ‘ä»¬ä»å†³å®šå› å­å’Œè¢«å†³å®šå› å­çš„é›†åˆå…³ç³»è§’åº¦å‡ºå‘å¯ä»¥å°†å‡½æ•°ä¾èµ–åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><p>å¹³å‡¡å‡½æ•°ä¾èµ–ï¼ˆTrivial Functional Dependencyï¼‰ï¼š</p><p>è‹¥ <span class="math inline">\(A \to B\)</span> ï¼Œä¸” <spanclass="math inline">\(B \subseteq A\)</span>ï¼Œåˆ™ç§°è¯¥ä¾èµ–ä¸ºå¹³å‡¡ä¾èµ–ã€‚</p></li><li><p>éå¹³å‡¡å‡½æ•°ä¾èµ–ï¼ˆNontrivial Functional Dependencyï¼‰ï¼š</p><p>è‹¥ <span class="math inline">\(A \to B\)</span> ï¼Œä¸” <spanclass="math inline">\(B \not\subseteq A\)</span>ï¼Œåˆ™ç§°è¯¥ä¾èµ–ä¸ºéå¹³å‡¡ä¾èµ–ã€‚</p></li></ul><h5 id="éƒ¨åˆ†å‡½æ•°ä¾èµ–å’Œå®Œå…¨å‡½æ•°ä¾èµ–">éƒ¨åˆ†å‡½æ•°ä¾èµ–å’Œå®Œå…¨å‡½æ•°ä¾èµ–</h5><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä»å†³å®šå› å­å±æ€§çš„å¿…è¦æ€§åˆå¯ä»¥å°†å‡½æ•°ä¾èµ–åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li><p>éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼ˆPartial Functional Dependencyï¼‰ï¼š</p><p>è‹¥ <span class="math inline">\(A \to B\)</span> ï¼Œä¸”å­˜åœ¨ <spanclass="math inline">\(A\)</span> çš„çœŸå­é›† <spanclass="math inline">\(X\)</span> ï¼Œä½¿å¾— <span class="math inline">\(X\to B\)</span> ï¼Œæˆ‘ä»¬å°±ç§° <span class="math inline">\(B\)</span>éƒ¨åˆ†å‡½æ•°ä¾èµ–äº <span class="math inline">\(A\)</span> ã€‚</p></li><li><p>å®Œå…¨å‡½æ•°ä¾èµ–ï¼ˆFull Functional Dependencyï¼‰ï¼š</p><p>è‹¥ <span class="math inline">\(A \to B\)</span> ï¼Œä¸”ä¸å­˜åœ¨ <spanclass="math inline">\(A\)</span> çš„çœŸå­é›† <spanclass="math inline">\(X\)</span> ï¼Œä½¿å¾— <span class="math inline">\(X\to B\)</span>ï¼Œæˆ‘ä»¬å°±ç§° <span class="math inline">\(B\)</span>å®Œå…¨å‡½æ•°ä¾èµ–äº <span class="math inline">\(A\)</span> ã€‚</p><p>å³ <span class="math inline">\(A\)</span>ä¸­åˆ å»ä»»æ„ä¸€ä¸ªå±æ€§éƒ½æ— æ³•æ»¡è¶³ <span class="math inline">\(A \toB\)</span> ã€‚</p></li></ul><p>ä¾‹å¦‚ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œæ˜¾ç„¶æœ‰ <span class="math inline">\((s\_id, name)\to gender\)</span>ï¼Œ ä½†å…¶å†³å®šå› å­çš„ä¸€ä¸ªçœŸå­é›† <spanclass="math inline">\(s\_id\)</span> ä¹Ÿæ»¡è¶³è¢« <spanclass="math inline">\(gender\)</span>å‡½æ•°ä¾èµ–ï¼Œå› æ­¤è¯¥å‡½æ•°ä¾èµ–æ˜¯ä¸€ä¸ªéƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚ç›¸åï¼Œ<spanclass="math inline">\(s\_id \to gender\)</span>å°±æ˜¯ä¸€ä¸ªå®Œå…¨å‡½æ•°ä¾èµ–ã€‚</p><p>æ³¨æ„åˆ°ï¼Œä¸€èˆ¬åªæœ‰åœ¨ <span class="math inline">\(A\)</span>æ˜¯å¤šä¸ªç‰¹å¾çš„é›†åˆæ—¶æ‰ä¼šè€ƒè™‘æ­¤åˆ†ç±»ï¼Œè‹¥ <spanclass="math inline">\(A\)</span> ä¸ºå•å±æ€§ï¼Œä¸” <spanclass="math inline">\(A \to B\)</span> ï¼Œåˆ™ä¸€å®šæ„æˆå®Œå…¨å‡½æ•°ä¾èµ–ã€‚</p><h5 id="ä¼ é€’å‡½æ•°ä¾èµ–">ä¼ é€’å‡½æ•°ä¾èµ–</h5><p>å‡½æ•°ä¾èµ–å…·æœ‰ä¼ é€’æ€§ï¼Œä¼ é€’å‡½æ•°ä¾èµ–ï¼ˆTransitive FunctionalDependencyï¼‰æè¿°å¦‚ä¸‹ï¼š</p><p>è‹¥ <span class="math inline">\(A\)</span> ï¼Œ<spanclass="math inline">\(B\)</span> ï¼Œ<spanclass="math inline">\(C\)</span> æ˜¯å…³ç³»æ¨¡å‹ <spanclass="math inline">\(R\)</span> ä¸­çš„ä¸‰ä¸ªç‰¹å¾é›†åˆï¼Œä¸”æ»¡è¶³ï¼š</p><ul><li><span class="math inline">\(A \to B\)</span> ä¸” <spanclass="math inline">\(B \not\to A\)</span></li><li><span class="math inline">\(B \to C\)</span></li></ul><p>åˆ™ç§° <span class="math inline">\(C\)</span> é€šè¿‡ <spanclass="math inline">\(B\)</span> å‡½æ•°ä¾èµ–äº <spanclass="math inline">\(A\)</span> ã€‚</p><h4 id="å¤šå€¼ä¾èµ–">å¤šå€¼ä¾èµ–</h4><p>è®¾ <span class="math inline">\(R(U)\)</span> æ˜¯å±æ€§é›† <spanclass="math inline">\(U\)</span> ä¸Šçš„ä¸€ä¸ªå…³ç³»æ¨¡å¼ã€‚<spanclass="math inline">\(X\)</span>ã€<spanclass="math inline">\(Y\)</span>ã€<span class="math inline">\(Z\)</span>æ˜¯ <span class="math inline">\(U\)</span> çš„å­é›†ï¼Œè‹¥å¯¹ <spanclass="math inline">\(U\)</span> çš„ä»»æ„ä¸€å¯¹å…³ç³»è€Œè¨€ï¼Œç»™å®šä¸€å¯¹ <spanclass="math inline">\((X, Z)\)</span> çš„å€¼ï¼Œéƒ½æœ‰è‹¥å¹²ç»„ <spanclass="math inline">\(Y\)</span> å€¼ä¸ä¹‹å¯¹åº”ï¼Œè€Œ <spanclass="math inline">\(Y\)</span> çš„å–å€¼ä»…ä»…ä¸ <spanclass="math inline">\(X\)</span> ç›¸å…³è€Œä¸ <spanclass="math inline">\(Z\)</span>æ— å…³ï¼Œè¿™å°±æ˜¯<strong>å¤šå€¼ä¾èµ–ï¼ˆMulti-valuedDependencyï¼‰</strong>ã€‚è®°ä½œï¼š<span class="math inline">\(X \to\!\!\!\toY\)</span>ã€‚</p><blockquote><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·æè¿°ï¼šç»™å®š <span class="math inline">\(X\)</span>çš„å€¼ï¼Œæœ‰å¤šç»„ <span class="math inline">\((Y, Z)\)</span>çš„å€¼ä¸ä¹‹å¯¹åº”ï¼Œä¸” <span class="math inline">\(Y\)</span> ä¸ <spanclass="math inline">\(Z\)</span> çš„å–å€¼ç›¸äº’ç‹¬ç«‹ã€‚</p></blockquote><p>ä¾‹å¦‚ï¼š</p><p>æˆ‘ä»¬ç»™å®šå…³ç³» <span class="math inline">\(subject(subject\_name,teacher, text\_book)\)</span>æ¥æè¿°å­¦ç§‘ã€è€å¸ˆå’Œå­¦ç§‘æ•™æçš„å…³ç³»ï¼Œåœ¨è¯¥å…³ç³»æ¨¡å‹ä¸­ï¼Œä¸€é—¨å­¦ç§‘å¯¹åº”å¤šç»„è€å¸ˆå’Œæ•™æï¼Œè€Œè€å¸ˆå’Œæ•™æåˆæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³è€å¸ˆå’Œå­¦ç§‘æ•™æåˆ†åˆ«åªå†³å®šäºå­¦ç§‘ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ï¼š<span class="math display">\[\begin{array}{}subject\_name \to\!\!\!\to teacher \\subject\_name \to\!\!\!\to text\_book\end{array}\]</span></p><h5 id="å¹³å‡¡å¤šå€¼ä¾èµ–å’Œéå¹³å‡¡å¤šå€¼ä¾èµ–">å¹³å‡¡å¤šå€¼ä¾èµ–å’Œéå¹³å‡¡å¤šå€¼ä¾èµ–</h5><p>è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬åˆå¯ä»¥å°†å¤šå€¼ä¾èµ–åˆ†ä¸º<strong>å¹³å‡¡å¤šå€¼ä¾èµ–</strong>å’Œ<strong>éå¹³å‡¡å¤šå€¼ä¾èµ–</strong>ï¼š</p><ul><li><p>å¹³å‡¡å¤šå€¼ä¾èµ–ï¼ˆTrivial Multi-valued Dependencyï¼‰ï¼š</p><p>åœ¨å…³ç³»æ¨¡å‹ <span class="math inline">\(R\)</span> çš„å±æ€§é›†ä¸º <spanclass="math inline">\(U\)</span>ï¼Œå±æ€§ <spanclass="math inline">\(A\)</span> å’Œ <spanclass="math inline">\(B\)</span> æ»¡è¶³ <span class="math inline">\(A\to\!\!\!\to B\)</span> ä¸”æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼š</p><ul><li><span class="math inline">\(A \subseteq B\)</span></li><li><span class="math inline">\(A \cup B = R\)</span></li></ul><p>æˆ‘ä»¬å°±ç§°è¯¥å¤šå€¼ä¾èµ–æ˜¯å¹³å‡¡çš„ã€‚</p></li><li><p>éå¹³å‡¡å¤šå€¼ä¾èµ–ï¼ˆNontrivial Multi-valued Dependencyï¼‰ï¼š</p><p>è‹¥ <span class="math inline">\(A \to\!\!\!\to B\)</span>ä¸”ä¸æ»¡è¶³ä»¥ä¸Šä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬å°±ç§°è¯¥å¤šå€¼ä¾èµ–æ˜¯éå¹³å‡¡çš„ã€‚</p></li></ul><h4 id="èŒƒå¼">èŒƒå¼</h4><p><strong>èŒƒå¼ï¼ˆNormal Formï¼‰</strong>ï¼Œç®€ç§°NFï¼Œæ˜¯ä¸€ç§æ•°æ®åº“è§„èŒƒåŒ–è¯„çº§æ ‡å‡†ï¼ŒèŒƒå¼è¶Šé«˜ï¼Œæ•°æ®æ¨¡å‹è¶Šè§„èŒƒã€‚</p><p>æ•°æ®åº“è§„èŒƒåŒ–æŠ€æœ¯ï¼Œå°±æ˜¯ä¸æ–­æé«˜æ•°æ®æ¨¡å‹çš„èŒƒå¼ç­‰çº§ã€‚</p><h5 id="unf">UNF</h5><p><strong>UNFï¼ˆUnormalizedFormï¼‰</strong>ï¼Œå³æ— èŒƒå¼ï¼Œæ˜¯ä¸€ç§æœªè§„èŒƒåŒ–çš„è¡¨æ ¼ï¼Œè¡¨æ ¼ä¸­çš„æ•°æ®å¯èƒ½åŒ…æ‹¬ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ã€‚</p><p>ç¤ºä¾‹ï¼š</p><p><img src="https://p.ipic.vip/4hkqj3.png" style="zoom: 33%;" /></p><h5 id="nf">1NF</h5><p><strong>1NFï¼ˆFirst NormalFormï¼‰</strong>ï¼Œå³ç¬¬ä¸€èŒƒå¼ã€‚æŒ‡åœ¨ä¸€å¼ è¡¨æ ¼ä¸­ç»™å®šè¡Œå’Œåˆ—ï¼Œå¯¹åº”å”¯ä¸€çš„æ•°æ®ï¼Œä¸”ä¸€ä¸ªå…³ç³»æ¨¡å‹ä¸­çš„æ‰€æœ‰çš„å±æ€§éƒ½æ˜¯ä¸å¯åˆ†çš„åŸºæœ¬æ•°æ®é¡¹ã€‚1NFæ˜¯å…³ç³»å‹æ•°æ®åº“çš„åŸºæœ¬è¦æ±‚ã€‚</p><p>ç¤ºä¾‹ï¼š</p><p><img src="https://p.ipic.vip/mcmetv.png" style="zoom:33%;" /></p><blockquote><p><strong>UNF <span class="math inline">\(\to\)</span> 1NF</strong></p><p>å°†ç¼ºçœå•å…ƒæ ¼çš„æ•°æ®è¿›è¡Œæ‹·è´ï¼Œç„¶åå¯¹æ— èŒƒå¼è¡¨æ ¼é‡æ–°åˆ’åˆ†ï¼Œå³å¯å¾—åˆ°æ¯ä¸ªå•å…ƒæ ¼ä»…æœ‰ä¸€ä¸ªå€¼çš„ç¬¬ä¸€èŒƒå¼è¡¨æ ¼ã€‚</p></blockquote><h5 id="nf-1">2NF</h5><p><strong>2NFï¼ˆSecond Normal Formï¼‰</strong>ï¼Œå³ç¬¬äºŒèŒƒå¼ã€‚æŒ‡åœ¨ 1NFçš„åŸºç¡€ä¸Šï¼Œæ»¡è¶³æ‰€æœ‰éä¸»å±æ€§<strong>å®Œå…¨ä¾èµ–</strong>äº<strong>å€™é€‰é”®ï¼ˆCandidatekeyï¼‰</strong>ã€‚</p><blockquote><p><strong>1NF <span class="math inline">\(\to\)</span> 2NF</strong></p><ol type="1"><li>ç¡®å®šä¸»é”®ï¼šç¡®å®š 1NF å…³ç³»ä¸­çš„ä¸»é”®</li><li>ç¡®å®šå‡½æ•°ä¾èµ–ï¼šåˆ†æéä¸»é”®åˆ—å¯¹ä¸»é”®çš„å®Œå…¨ä¾èµ–å…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰¾å‡ºå“ªäº›éä¸»é”®åˆ—çš„å€¼æ˜¯ç”±ä¸»é”®å†³å®šçš„ï¼Œè€Œä¸æ˜¯ç”±ä¸»é”®çš„ä¸€éƒ¨åˆ†å†³å®šçš„</li><li>åˆ›å»ºæ–°è¡¨ï¼šå¯¹äºé‚£äº›éä¸»é”®åˆ—å­˜åœ¨éƒ¨åˆ†ä¾èµ–çš„æƒ…å†µï¼Œå°†å…¶åˆ†ç¦»å‡ºæ¥ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¡¨</li><li>è°ƒæ•´å…³ç³»ï¼šåœ¨æ–°çš„è¡¨ä¸­ï¼Œå°†éä¸»é”®åˆ—å’Œç›¸åº”çš„ä¸»é”®åˆ—ä½œä¸ºæ–°è¡¨çš„åˆ—</li></ol></blockquote><p>ç¤ºä¾‹ï¼š</p><p>ä¸Šè¿°å…³ç³»ä¸­å­˜åœ¨å¦‚ä¸‹å‡½æ•°ä¾èµ–ï¼š</p><p><img src="https://p.ipic.vip/xxd1hu.png" style="zoom:30%;" /></p><p>ä¸éš¾å‘ç°ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®š <span class="math inline">\((clinetNo,PropertyNo)\)</span> ä½œä¸ºè¯¥å…³ç³»ä¸­çš„ä¸»é”®ï¼Œè€Œå‡½æ•°ä¾èµ– fd2 å’Œ fd3çš„å†³å®šå› å­æ˜¯ä¸»é”®çš„çœŸå­é›†ï¼Œå› æ­¤å…¶è¢«å†³å®šå› å­ï¼ˆå›¾ä¸­ä¸‹ç”»çº¿éƒ¨åˆ†çš„å±æ€§ï¼‰æ˜¯éƒ¨åˆ†ä¾èµ–äºä¸»é”®çš„ï¼Œå› æ­¤æˆ‘ä»¬è¦å°†å…¶ä»å½“å‰å…³ç³»ä¸­æŠ½ç¦»å‡ºæ¥ï¼š</p><p>æœ€ç»ˆå»ºç«‹çš„å…³ç³»æ¨¡å‹çš„ Schema å¦‚ä¸‹ï¼š</p><p><img src="https://p.ipic.vip/cdyt6d.png" style="zoom:25%;" /></p><p>è¯¥å…³ç³»æ¨¡å‹çš„ä¸‰å¼ è¡¨éƒ½ä¸å­˜åœ¨éä¸»å±æ€§å¯¹ä¸»é”®çš„éƒ¨åˆ†ä¾èµ–ï¼Œå„è‡ªæ»¡è¶³ç¬¬äºŒèŒƒå¼ã€‚</p><h5 id="nf-2">3NF</h5><p><strong>3NFï¼ˆThird Normal Formï¼‰</strong>ï¼Œå³ç¬¬ä¸‰èŒƒå¼ã€‚æŒ‡åœ¨ 2NFçš„åŸºç¡€ä¸Šï¼Œä¸å­˜åœ¨éä¸»å±æ€§<strong>ä¼ é€’ä¾èµ–</strong>äºå€™é€‰é”®ã€‚</p><blockquote><p><strong>2NF <span class="math inline">\(\to\)</span> 3NF</strong></p><ol type="1"><li>ç¡®å®šä¸»é”®</li><li>ç¡®å®šå‡½æ•°ä¾èµ–</li><li>æ‰¾åˆ°ä¾èµ–äºä¸»é”®çš„ä¼ é€’å‡½æ•°ä¾èµ–ï¼Œå¹¶å°†å…¶åˆ†ç¦»å‡ºæ¥</li></ol></blockquote><p>ç¤ºä¾‹ï¼š</p><p>åœ¨ä¸Šè¿°å»ºç«‹çš„ 2NF å…³ç³»æ¨¡å‹ä¸­çš„ç¬¬äºŒå¼ è¡¨ <spanclass="math inline">\(PropertyOwner\)</span> ä¸­ï¼Œå­˜åœ¨å‡½æ•°ä¾èµ–å…³ç³» <spanclass="math inline">\(propertyNo \to ownerNo\)</span>ï¼ˆ<spanclass="math inline">\(ownerNo \not\to propertyNo\)</span>ï¼‰å’Œ $ ownerNooName$ ï¼Œå› æ­¤ <span class="math inline">\(oName\)</span>ä¼ é€’ä¾èµ–äºä¸»é”®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°†å…¶ä»å½“å‰å…³ç³»ä¸­åˆ†ç¦»å‡ºæ¥ã€‚</p><p>æ»¡è¶³ 3NF çš„å…³ç³»æ¨¡å‹ Schema å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="https://p.ipic.vip/4vfatx.png" style="zoom:25%;" /></p><p>è¯¥å…³ç³»æ¨¡å‹ä¸­çš„ 4å¼ è¡¨éƒ½ä¸å­˜åœ¨éä¸»å±æ€§å¯¹ä¸»é”®çš„ä¼ é€’ä¾èµ–ï¼Œå„è‡ªæ»¡è¶³ç¬¬ä¸‰èŒƒå¼ã€‚</p><h5 id="bcnf">BCNF</h5><p><strong>BCNFï¼ˆBoyce-Codd NormalFormï¼‰</strong>ï¼Œå³å·´æ–¯-ç§‘å¾·èŒƒå¼ã€‚æŒ‡åœ¨ 3NFçš„åŸºç¡€ä¸Šï¼Œæ¸…é™¤äº†ä¸»å±æ€§å¯¹å€™é€‰é”®çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚</p><p><strong>å³æ»¡è¶³ BCNFçš„å……è¦æ¡ä»¶æ˜¯å…³ç³»æ¨¡å‹ä¸­æ‰€æœ‰å‡½æ•°ä¾èµ–çš„å†³å®šå› å­éƒ½æ˜¯å€™é€‰é”®ã€‚</strong></p><blockquote><p><strong>3NF <span class="math inline">\(\to\)</span> BCNF</strong></p><ol type="1"><li>ç¡®å®šä¸»é”®å’Œä¸»å±æ€§</li><li>ç¡®å®šå‡½æ•°ä¾èµ–</li><li>æ¶ˆé™¤ä¸»å±æ€§å¯¹å€™é€‰é”®çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–</li></ol></blockquote><p>ä¾‹å¦‚ï¼Œæœ‰å¦‚ä¸‹å…³ç³»æ¨¡å‹ï¼š <span class="math display">\[studentGrade(\underline{class\_id}, \underline{s\_id}, t\_id, grade)\]</span>è¯¥å…³ç³»æ¨¡å‹ç”¨äºå‚¨å­˜å­¦ç”ŸæŸé—¨è¯¾ç¨‹çš„æˆç»©ï¼Œæ¯é—¨è¯¾æœ‰ä¸”ä»…æœ‰ä¸€åè€å¸ˆæ¥æ•™å­¦ï¼Œå¯ä»¥ä½œä¸ºè¯¥è¡¨çš„å€™é€‰é”®æœ‰<span class="math inline">\((class\_id, s\_id)\)</span> æˆ–è€… <spanclass="math inline">\((t\_id, s\_id)\)</span>ï¼Œæˆ‘ä»¬é€‰å–å‰è€…ä½œä¸ºä¸»é”®ï¼Œé‚£ä¹ˆæ­¤å…³ç³»æ¨¡å‹ä¸­å”¯ä¸€çš„éä¸»å±æ€§å°±æ˜¯ <spanclass="math inline">\(grade\)</span> ã€‚</p><p>è¯¥å…³ç³»æ¨¡å‹ç¬¦åˆ 3NFï¼Œä½†æ˜¯æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œä¸»å±æ€§ <spanclass="math inline">\(t\_id\)</span>å¯¹ä¸»é”®æ„æˆéƒ¨åˆ†ä¾èµ–å…³ç³»ï¼Œå› æ­¤è¯¥å…³ç³»æ¨¡å‹ä¸ç¬¦åˆBCNFï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶æ‹†åˆ†ä¸ºä¸¤å¼ è¡¨ï¼š <span class="math display">\[\begin{array}{}teacher(\underline{class\_id}, t\_id) \\studentGrade(\underline{class\_id}, \underline{s\_id}, grade)\end{array}\]</span> è¿™æ ·ï¼Œæˆ‘ä»¬å°±æ¶ˆé™¤äº†ä¸»å±æ€§å¯¹å€™é€‰é”®çš„éƒ¨åˆ†ä¾èµ–ï¼Œä¸Šè¿°ä¸¤å¼ è¡¨å„è‡ªç¬¦åˆBCNFã€‚</p><h5 id="nf-3">4 NF</h5><p><strong>4 NFï¼ˆForth Normal Formï¼‰</strong>ï¼Œå³ç¬¬å››èŒƒå¼ï¼Œå³åœ¨ BCNFçš„åŸºç¡€ä¸Šï¼Œæ¶ˆé™¤äº†æ‰€æœ‰å†³å®šå› å­ä¸ä¸ºå€™é€‰é”®çš„éå¹³å‡¡å¤šå€¼ä¾èµ–ã€‚æ¢è¨€ä¹‹ï¼Œæ»¡è¶³ 4NFçš„å……è¦æ¡ä»¶æ˜¯å¯¹äºå…³ç³» <span class="math inline">\(R\)</span>ä¸­çš„æ¯ä¸€å¯¹éå¹³å‡¡å¤šå€¼ä¾èµ– <span class="math inline">\(A \to\!\!\!\toB\)</span> è€Œè¨€ï¼Œ<span class="math inline">\(A\)</span>éƒ½æ˜¯å…³ç³»ä¸­çš„å€™é€‰é”®ã€‚</p><blockquote><p><strong>BCNF <span class="math inline">\(\to\)</span>4NF</strong></p><ol type="1"><li>ç¡®å®šä¸»é”®å’Œå€™é€‰é”®</li><li>ç¡®å®šå…³ç³»ä¸­çš„éå¹³å‡¡å¤šå€¼ä¾èµ–</li><li>æ¶ˆé™¤æ‰€æœ‰å†³å®šå› å­ä¸ä¸ºå€™é€‰é”®çš„éå¹³å‡¡å¤šå€¼ä¾èµ–</li></ol></blockquote><p>ä¾‹å¦‚ï¼Œç°æœ‰å¦‚ä¸‹å…³ç³»ï¼š</p><p><img src="https://p.ipic.vip/elwe0k.png" style="zoom:50%;" /></p><p>åœ¨å¦‚ä¸Š <span class="math inline">\(BranchStaffOwner(branchNo, sName,oName)\)</span> å…³ç³»ä¸­ï¼Œä¸€ä¸ª <spanclass="math inline">\(branchNo\)</span> å¯ä»¥å¯¹åº”å¤šç»„ <spanclass="math inline">\((sName, oName)\)</span> ï¼Œè€Œ <spanclass="math inline">\(sName\)</span> å’Œ <spanclass="math inline">\(oName\)</span> ä¹‹é—´ç›¸äº’ä¸å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ï¼š <spanclass="math display">\[\begin{array}{}branchNo \to\!\!\!\to sName \\branchNo \to\!\!\!\to oName\end{array}\]</span> è€Œ <span class="math inline">\(branchNo\)</span>åœ¨è¿™é‡Œä¸æ˜¯å€™é€‰é”®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ¶ˆé™¤æ¶ˆé™¤è¿™ä¸¤å¯¹éå¹³å‡¡å¤šå€¼ä¾èµ–ï¼Œå› æ­¤å°†è¯¥å…³ç³»æ‹†åˆ†ä¸ºä¸¤å¼ è¡¨ï¼š</p><p><img src="https://p.ipic.vip/nt56ny.png" style="zoom:50%;" /></p><p>è¿™æ ·æˆ‘ä»¬å°±æ¶ˆé™¤äº†ä¸Šé¢æåˆ°çš„ä¸¤å¯¹éå¹³å‡¡å¤šå€¼ä¾èµ–ï¼Œä»¥ä¸Šä¸¤å¼ è¡¨ <spanclass="math inline">\(Branch(branchNo, sName)\)</span>ã€<spanclass="math inline">\(BranchOwner(BranchNo, oName)\)</span>åˆ†åˆ«æ»¡è¶³ç¬¬å››èŒƒå¼ã€‚</p><p>äº‹å®ä¸Šç¬¬å››èŒƒå¼ä¹‹ä¸Šè¿˜æœ‰<strong>ç¬¬äº”èŒƒå¼ï¼ˆFifth NormalFormï¼‰</strong>ï¼Œä½†ç¬¬å››èŒƒå¼å·²ç»æ˜¯ç›¸å½“è§„èŒƒçš„ç­‰çº§äº†ï¼Œå› æ­¤ç¬¬äº”èŒƒå¼ç¬”è€…åœ¨æ­¤å°±ä¸èµ˜è¿°äº†ã€‚ğŸ˜ƒ</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®åº“ç³»ç»Ÿ</tag>
      
      <tag>æ•°æ®åº“è§„èŒƒåŒ–</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•åœ¨ç¨‹åºä¸­è®¡ç®—å®šç§¯åˆ†ï¼Ÿâ€”â€” Simpson å…¬å¼è®²è§£</title>
    <link href="/2023/04/30/%E5%A6%82%E4%BD%95%E5%9C%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%AE%9A%E7%A7%AF%E5%88%86%EF%BC%9F%E2%80%94%E2%80%94%20Simpson%20%E5%85%AC%E5%BC%8F%E8%AE%B2%E8%A7%A3/"/>
    <url>/2023/04/30/%E5%A6%82%E4%BD%95%E5%9C%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%AE%9A%E7%A7%AF%E5%88%86%EF%BC%9F%E2%80%94%E2%80%94%20Simpson%20%E5%85%AC%E5%BC%8F%E8%AE%B2%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<p><strong>Simpson</strong>å…¬å¼æ˜¯ä¸€ç§ç”¨äºæ±‚ç§¯åˆ†è¿‘ä¼¼å€¼çš„æ–¹æ³•ï¼Œç›¸å¯¹äºå¸¸è§„çš„çŸ©å½¢é€¼è¿‘å’Œæ¢¯å‹é€¼è¿‘ï¼Œå…¶ç²¾åº¦è¦é«˜å¾ˆå¤šã€‚</p><p>å…¬å¼å¦‚ä¸‹ï¼š <span class="math display">\[\int_a^b f(x)dx \approx \frac{b - a}{6n} (f(a) + f(b) + 2 \sum_{i = 1} ^{n - 1}f(x_i) + 4 \sum_{i = 0}^{n - 1}f(x_{i + 0.5}))\]</span> å…¶ä¸­ <span class="math inline">\(n\)</span>æ˜¯åŒºé—´åˆ†éš”çš„æ•°é‡ï¼Œ<span class="math inline">\(n\)</span>è¶Šå¤§ï¼Œç²¾åº¦è¶Šé«˜ã€‚</p><hr /><h4 id="æ•°å­¦è¯æ˜">æ•°å­¦è¯æ˜</h4><p><strong>Simpson</strong>ç§¯åˆ†å…¬å¼çš„åŸç†å°±æ˜¯é‡‡ç”¨äºŒæ¬¡å‡½æ•°é€¼è¿‘ç›®æ ‡å‡½æ•°ã€‚</p><center><img src="https://p.ipic.vip/zm09je.png" alt="" style="zoom:40%;" /></center><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†å‡½æ•°åŒºé—´ <span class="math inline">\([x_1,x_2]\)</span> è¿‘ä¼¼çœ‹ä½œæ˜¯äºŒæ¬¡å‡½æ•°ï¼Œ<spanclass="math inline">\(x_{1.5}\)</span> æ˜¯åŒºé—´ä¸­ç‚¹ï¼Œæˆ‘ä»¬è§„å®šï¼š <spanclass="math display">\[\begin{array}{}f(x_1) = c_2 x_1^2 + c_1 x_1 + c_0 \\f(x_2) = c_2 x_2^2 + c_1 x_2 + c_0 \\f(x_{1.5}) = c_0\end{array}\]</span> åˆ™ç§¯åˆ†é¢ç§¯ <span class="math inline">\(S = \int_{x_1}^{x_2}f(x)dx \approx \int_{x_1}^{x_2} (c_2 x^2 + c_1 x + c_0)dx\)</span> <spanclass="math display">\[\begin{array}{}\implies S \approx  \frac{c_2}{3}(x_2^3 - x_1^3) + \frac{c1}{2}(x_2^2 -x_1^2) + c_0(x_2 - x_1) \\= \frac{x_2 - x_1}{6}(f(x_1) + f(x_2) + 4 f(x_{1.5}))\end{array}\]</span> ç°åœ¨æˆ‘ä»¬å°†å‡½æ•°ç§¯åˆ†åŒºåŸŸ <span class="math inline">\([a,b]\)</span> åˆ’åˆ†ä¸º <span class="math inline">\(n\)</span> æ®µï¼Œå¯¹æ¯ä¸€æ®µ<span class="math inline">\([x_i, x_{i + 1}]\)</span>é‡‡å–åŒæ ·çš„æ–¹å¼æ±‚å®šç§¯åˆ†ï¼Œ</p><p>æœ€åæ±‚å’Œå°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬çš„ç›®æ ‡ç­”æ¡ˆï¼š <span class="math display">\[\begin{array}{}\int_a^b f(x)dx \approx \frac{b - a}{6n} (f(a) + f(b) + 2 \sum_{i = 1} ^{n - 1}f(x_i) + 4 \sum_{i = 0}^{n - 1}f(x_{i + 0.5})) \\(x_0 = a, x_n = b)\end{array}\]</span> <strong>è¯¯å·®</strong></p><p>æœ€å¤§è¯¯å·®ä¸º <span class="math inline">\(\frac{(b - a)^5}{180 n^4}M\)</span>ï¼Œå…¶ä¸­ <span class="math inline">\(M\)</span> æ˜¯å‡½æ•°åœ¨åŒºé—´<span class="math inline">\([a, b]\)</span>ä¸Šå››é˜¶å¯¼çš„ç»å¯¹å€¼çš„æœ€å¤§å€¼ã€‚</p><h4 id="ä»£ç å®ç°">ä»£ç å®ç°</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">double</span> <span class="hljs-title">fn</span><span class="hljs-params">(<span class="hljs-type">double</span> x)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> x * <span class="hljs-built_in">exp</span>(-x);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">solve_rect</span><span class="hljs-params">(<span class="hljs-type">double</span> left, <span class="hljs-type">double</span> right, <span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-comment">// é‡‡ç”¨ä¸€èˆ¬çš„çŸ©å½¢é€¼è¿‘æ³•æ±‚å®šç§¯åˆ†</span><br>    <span class="hljs-type">double</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">double</span> d = (right - left) / n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        res += <span class="hljs-built_in">fn</span>(left + i * d);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> res * d;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">solve_simpson</span><span class="hljs-params">(<span class="hljs-type">double</span> left, <span class="hljs-type">double</span> right, <span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-comment">// é‡‡å–è¾›æ™®æ£®å…¬å¼æ±‚å®šç§¯åˆ†</span><br>    <span class="hljs-type">double</span> res = -<span class="hljs-built_in">fn</span>(left) + <span class="hljs-built_in">fn</span>(right);<br>    <span class="hljs-type">double</span> d = (right - left) / n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        res += (<span class="hljs-number">2</span> * <span class="hljs-built_in">fn</span>(left + i * d) + <span class="hljs-number">4</span> * <span class="hljs-built_in">fn</span>(left + (i + <span class="hljs-number">0.5</span>) * d));<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> d * res / <span class="hljs-number">6</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lf\n&quot;</span>, <span class="hljs-built_in">solve_rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>));      <span class="hljs-comment">// 0.245014</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lf\n&quot;</span>, <span class="hljs-built_in">solve_rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>));     <span class="hljs-comment">// 0.262393</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lf\n&quot;</span>, <span class="hljs-built_in">solve_rect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1000</span>));    <span class="hljs-comment">// 0.264057</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lf\n&quot;</span>, <span class="hljs-built_in">solve_simpson</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>));   <span class="hljs-comment">// 0.264241</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å®é™…ç­”æ¡ˆ <span class="math inline">\(\int_0^1 x e^{-x}dx = 1 -\frac{2}{e} \approx 0.2642411176571\)</span>ï¼Œå¯è§ä¸Šè¿°ç§¯åˆ†é‡‡ç”¨ Simpsonå…¬å¼è®¡ç®—æ—¶åœ¨ <span class="math inline">\(n = 10\)</span>æ—¶å·²ç»è¾¾åˆ°äº†ä¸€ä¸ªè¾ƒé«˜çš„ç²¾åº¦ï¼Œè¿œè¶…å¸¸è§„çš„çŸ©å½¢é€¼è¿‘æ³•ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>å¾®ç§¯åˆ†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Simpson å…¬å¼</tag>
      
      <tag>å®šç§¯åˆ†</tag>
      
      <tag>è®¡ç®—å‡ ä½•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL çŸ¥è¯†ç‚¹æ€»ç»“</title>
    <link href="/2023/04/10/MySQL%20%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/"/>
    <url>/2023/04/10/MySQL%20%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h3 id="mysql-åŸºæœ¬ä»‹ç»">MySQL åŸºæœ¬ä»‹ç»</h3><p>MySQL æ˜¯ä¸€ç§<strong>å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</strong>ï¼Œç”±ç‘å…¸ MySQL ABå…¬å¸å¼€å‘ï¼Œå±äº Oracleæ——ä¸‹äº§å“ï¼Œç”±äºå…¶ä½“ç§¯å°ã€é€Ÿåº¦å¿«ã€æˆæœ¬ä½ã€<strong>å¼€æº</strong>ç­‰ä¼˜ç‚¹ï¼Œä½¿å…¶åœ¨Web å¼€å‘ä¸­å°¤å…¶å—æ¬¢è¿ã€‚</p><p><a href="https://www.mysql.com/">MySQL å®˜ç½‘</a></p><h4 id="mysql-å®¢æˆ·ç«¯è¿æ¥">MySQL å®¢æˆ·ç«¯è¿æ¥</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">mysql -u [ç”¨æˆ·å] -p<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><p>ä»¥ <code>root</code> ç”¨æˆ·ç™»é™†ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">mysql -u root -p<br></code></pre></td></tr></table></figure><h3 id="mysql-command-ä»‹ç»">MySQL Command ä»‹ç»</h3><p>MySQL æ‰€ä½¿ç”¨çš„ SQL è¯­è¨€æ˜¯ç”¨äºè®¿é—®æ•°æ®åº“çš„æœ€å¸¸ç”¨æ ‡å‡†åŒ–è¯­è¨€ã€‚</p><h4 id="sql-è¯­å¥åˆ†ç±»">SQL è¯­å¥åˆ†ç±»</h4><p>æœ€å¸¸è§çš„ SQL è¯­å¥åŒ…æ‹¬ä»¥ä¸‹ 4 å¤§ç±»ï¼š</p><ul><li>DDLï¼ˆData Definition Languageï¼‰<ul><li>ç”¨é€”ï¼šå¯¹æ•°æ®åº“å¯¹è±¡ï¼ˆæ•°æ®åº“ã€è¡¨ã€åˆ—ã€ç´¢å¼•ç­‰ï¼‰è¿›è¡Œåˆ›å»ºã€åˆ é™¤ã€ä¿®æ”¹ç­‰ã€‚</li><li>å¸¸ç”¨å…³é”®å­—ï¼š<code>create</code>ã€<code>drop</code>ã€<code>alter</code></li></ul></li><li>DMLï¼ˆData Manipulation Languageï¼‰<ul><li>ç”¨é€”ï¼šç”¨äºæ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤å’ŒæŸ¥è¯¢æ•°æ®åº“è®°å½•ï¼Œå¹¶æ£€æŸ¥æ•°æ®å®Œæ•´æ€§ã€‚</li><li>å¸¸ç”¨å…³é”®å­—ï¼š<code>insert</code>ã€<code>update</code>ã€<code>delete</code></li></ul></li><li>DQLï¼ˆData Query Languageï¼‰<ul><li>ç”¨é€”ï¼šç”¨äºæŸ¥è¯¢æ•°æ®ã€‚</li><li>å¸¸ç”¨å…³é”®å­—ï¼š<code>select</code></li></ul></li><li>DCLï¼ˆData Control Languageï¼‰<ul><li>ç”¨é€”ï¼šç”¨äºç®¡ç†ç”¨æˆ·æƒé™ã€‚</li></ul></li></ul><h4 id="ddl-è¯­å¥">DDL è¯­å¥</h4><h5 id="æ•°æ®åº“æ“ä½œ">æ•°æ®åº“æ“ä½œ</h5><ul><li><p>æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">show databases;<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ›å»ºæ•°æ®åº“ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create database [æ•°æ®åº“åç§°];<br>create database if not exists [æ•°æ®åº“åç§°];<br>create database [æ•°æ®åº“åç§°] default charset [å­—ç¬¦é›†];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ é™¤æ•°æ®åº“ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">drop database [æ•°æ®åº“åç§°];<br>drop database if exists [æ•°æ®åº“åç§°];<br></code></pre></td></tr></table></figure></p></li><li><p>ä½¿ç”¨æ•°æ®åº“ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">use [æ•°æ®åº“åç§°];<br></code></pre></td></tr></table></figure></p></li><li><p>æŸ¥è¯¢å½“å‰æ•°æ®åº“ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select database();<br></code></pre></td></tr></table></figure></p></li></ul><h5 id="è¡¨æ“ä½œ">è¡¨æ“ä½œ</h5><ul><li><p>æŸ¥è¯¢å½“å‰æ•°æ®åº“æ‰€æœ‰è¡¨ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">show tables;<br></code></pre></td></tr></table></figure></p></li><li><p>æŸ¥è¯¢è¡¨ç»“æ„ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">desc [è¡¨å];<br></code></pre></td></tr></table></figure></p></li><li><p>æŸ¥è¯¢æŒ‡å®šè¡¨çš„åˆ›å»ºè¯­å¥ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">show create table [è¡¨å];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ›å»ºè¡¨ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table [è¡¨å](<br>    å­—æ®µ1   å­—æ®µ1ç±»å‹   [çº¦æŸ]  [comment],<br>    å­—æ®µ2   å­—æ®µ2ç±»å‹   [çº¦æŸ]  [comment],<br>    # ...<br>    å­—æ®µn   å­—æ®µnç±»å‹   [çº¦æŸ]  [comment]<br>)comment è¡¨æ³¨é‡Š;<br></code></pre></td></tr></table></figure></p><p>ä¾‹å¦‚ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># åˆ›å»ºå¦‚ä¸‹å‘˜å·¥è¡¨<br>create table demo(<br>    id      int           comment &#x27;ç¼–å·&#x27;,<br>    name    varchar(50)   comment &#x27;å§“å&#x27;,<br>    age     int           comment &#x27;å¹´é¾„&#x27;,<br>    gender  varchar(1)    comment &#x27;æ€§åˆ«&#x27;<br>)comment &#x27;å‘˜å·¥&#x27;;<br></code></pre></td></tr></table></figure></p></li><li><p>ä¿®æ”¹è¡¨åï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table [è¡¨å] rename to [æ–°è¡¨å];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ é™¤è¡¨ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">drop table (if exists) [è¡¨å];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ é™¤æŒ‡å®šè¡¨ï¼Œå¹¶é‡æ–°åˆ›å»ºè¯¥è¡¨ï¼ˆå³åˆ é™¤è¡¨ä¸­æ‰€æœ‰è¡Œï¼‰ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">truncate table [è¡¨å];<br></code></pre></td></tr></table></figure></p></li></ul><h5 id="å­—æ®µæ“ä½œ">å­—æ®µæ“ä½œ</h5><ul><li><p>æ·»åŠ å­—æ®µï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table [è¡¨å] add [å­—æ®µå] [ç±»å‹(é•¿åº¦)] [çº¦æŸ] [comment];<br></code></pre></td></tr></table></figure></p><p>ä¾‹å¦‚ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table staff<br>    add gender varchar(10) default &#x27;undefined&#x27; not null comment &#x27;æ€§åˆ«&#x27;;<br></code></pre></td></tr></table></figure></p><blockquote><p>å¦‚ä¸Šï¼Œç»™ <code>staff</code> è¡¨æ ¼æ·»åŠ  <code>gender</code> å­—æ®µ</p></blockquote></li><li><p>ä¿®æ”¹å­—æ®µæ•°æ®ç±»å‹</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table [è¡¨å] modify [å­—æ®µå] [æ–°æ•°æ®ç±»å‹];<br></code></pre></td></tr></table></figure></p></li><li><p>ä¿®æ”¹å­—æ®µåå’Œå­—æ®µæ•°æ®ç±»å‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table [è¡¨å] change [æ—§å­—æ®µå] [æ–°å­—æ®µå] [ç±»å‹(é•¿åº¦)] [çº¦æŸ] [comment];<br></code></pre></td></tr></table></figure></p><p>ä¾‹å¦‚ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table staff<br>    change id s_id int not null comment &#x27;å‘˜å·¥ ID&#x27;;<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ é™¤å­—æ®µï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table [è¡¨å] drop [å­—æ®µå];<br></code></pre></td></tr></table></figure></p></li></ul><h5 id="è¡¥å……">è¡¥å……</h5><h6 id="mysql-è¡¨æ ¼å­—æ®µæ•°æ®ç±»å‹">MySQL è¡¨æ ¼å­—æ®µæ•°æ®ç±»å‹</h6><ul><li><p>åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p><table><thead><tr class="header"><th>ç±»å‹</th><th>å¤§å°</th><th>æè¿°</th></tr></thead><tbody><tr class="odd"><td><code>tinyint</code></td><td>1 byte</td><td>æ•´æ•°</td></tr><tr class="even"><td><code>smallint</code></td><td>2 bytes</td><td>æ•´æ•°</td></tr><tr class="odd"><td><code>mediumint</code></td><td>3 bytes</td><td>æ•´æ•°</td></tr><tr class="even"><td><code>int</code> æˆ–è€… <code>integer</code></td><td>4 bytes</td><td>æ•´æ•°</td></tr><tr class="odd"><td><code>bigint</code></td><td>8 bytes</td><td>æ•´æ•°</td></tr><tr class="even"><td><code>float</code></td><td>4 bytes</td><td>å•ç²¾åº¦æµ®ç‚¹æ•°</td></tr><tr class="odd"><td><code>double</code></td><td>8 bytes</td><td>åŒç²¾åº¦æµ®ç‚¹æ•°</td></tr><tr class="even"><td><code>decimal</code></td><td>ä¾èµ–äºç²¾åº¦å’Œæ ‡åº¦çš„å€¼</td><td>å°æ•°å€¼</td></tr></tbody></table></li><li><p>å­—ç¬¦ä¸²ç±»å‹ï¼š</p><table><thead><tr class="header"><th>ç±»å‹</th><th>å¤§å°</th><th>æè¿°</th></tr></thead><tbody><tr class="odd"><td><code>char</code></td><td>0 ~ 255 bytes</td><td>å®šé•¿å­—ç¬¦ä¸²</td></tr><tr class="even"><td><code>varchar</code></td><td>0 ~ 65535 bytes</td><td>å˜é•¿å­—ç¬¦ä¸²</td></tr><tr class="odd"><td><code>tinyblob</code></td><td>0 ~ 255 bytes</td><td>ä¸è¶…è¿‡ 255 ä¸ªå­—ç¬¦çš„äºŒè¿›åˆ¶æ•°æ®</td></tr><tr class="even"><td><code>tinytext</code></td><td>0 ~ 255 bytes</td><td>çŸ­æ–‡æœ¬å­—ç¬¦ä¸²</td></tr><tr class="odd"><td><code>blob</code></td><td>0 ~ 65535 bytes</td><td>äºŒè¿›åˆ¶å½¢å¼çš„é•¿æ–‡æœ¬æ•°æ®</td></tr><tr class="even"><td><code>text</code></td><td>0 ~ 65535 bytes</td><td>é•¿æ–‡æœ¬æ•°æ®</td></tr></tbody></table></li><li><p>æ—¥æœŸç±»å‹ï¼š</p><table><thead><tr class="header"><th>ç±»å‹</th><th>å¤§å°</th><th>æ ¼å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>date</code></td><td>3 bytes</td><td><code>YYYY-MM-DD</code></td><td>æ—¥æœŸå€¼</td></tr><tr class="even"><td><code>time</code></td><td>3 bytes</td><td><code>HH:MM:SS</code></td><td>æŒç»­æ—¶é—´å€¼</td></tr><tr class="odd"><td><code>year</code></td><td>1 bytes</td><td><code>YYYY</code></td><td>å¹´ä»½å€¼</td></tr><tr class="even"><td><code>datetime</code></td><td>8 bytes</td><td><code>YYYY-MM-DD HH:MM:SS</code></td><td>æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼</td></tr><tr class="odd"><td><code>timestamp</code></td><td>4 bytes</td><td><code>YYYY-MM-DD HH:MM:SS</code></td><td>æ··åˆæ—¥æœŸå’Œæ—¶é—´å€¼ï¼Œæ—¶é—´æˆ³</td></tr></tbody></table></li><li><p>æšä¸¾ç±»å‹ï¼š</p><p>å…³é”®è¯ï¼š<code>enum</code></p><p>æšä¸¾èŒƒå›´éœ€è¦åœ¨åˆ›å»ºè¡¨æ ¼æ—¶é€šè¿‡æšä¸¾çš„æ–¹å¼æŒ‡å®šï¼Œæœ€å¤šå…è®¸æœ‰ 65535ä¸ªæˆå‘˜ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table stu(<br>    id int primary key auto_increment,<br>    name varchar(20) not null,<br>    gender enum(&#x27;ç”·&#x27;, &#x27;å¥³&#x27;) not null<br>);<br></code></pre></td></tr></table></figure></p><blockquote><p>å…¶ä¸­ <code>gender</code> å­—æ®µåªèƒ½æ˜¯ã€Œç”·ã€æˆ–è€…ã€Œå¥³ã€</p></blockquote></li></ul><h6 id="mysql-çº¦æŸ">MySQL çº¦æŸ</h6><p>çº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­å­—æ®µä¸Šçš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶å­˜å‚¨åœ¨è¡¨ä¸­çš„æ•°æ®ã€‚</p><p>åˆ†ç±»ï¼š</p><table><thead><tr class="header"><th>çº¦æŸ</th><th>å…³é”®å­—</th><th>æè¿°</th></tr></thead><tbody><tr class="odd"><td>éç©ºçº¦æŸ</td><td><code>not null</code></td><td>å­—æ®µä¸èƒ½ä¸º <code>NULL</code></td></tr><tr class="even"><td>å”¯ä¸€çº¦æŸ</td><td><code>unique</code></td><td>å­—æ®µæ•°æ®éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¸é‡å¤çš„</td></tr><tr class="odd"><td>ä¸»é”®çº¦æŸ</td><td><code>primary key</code></td><td>ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€è¡¨ç¤ºï¼Œè¦æ±‚éç©ºå”¯ä¸€</td></tr><tr class="even"><td>é»˜è®¤çº¦æŸ</td><td><code>default</code></td><td>ä¿å­˜æ•°æ®æ—¶ï¼Œå¦‚æœæœªæŒ‡å®šè¯¥å­—æ®µçš„å€¼ï¼Œåˆ™é‡‡ç”¨é»˜è®¤å€¼</td></tr><tr class="odd"><td>æ£€æŸ¥çº¦æŸ</td><td><code>check</code></td><td>ä¿è¯å­—æ®µæ»¡è¶³æŸä¸€ä¸ªæ¡ä»¶</td></tr><tr class="even"><td>å¤–é”®çº¦æŸ</td><td><code>foreign key</code></td><td>ç”¨æ¥å»ºç«‹ä¸¤å¼ è¡¨çš„æ•°æ®ä¹‹é—´çš„è”ç³»ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼š</p><p>æ ¹æ®ä»¥ä¸‹éœ€æ±‚å®Œæˆè¡¨çš„åˆ›å»ºï¼š</p><table><thead><tr class="header"><th>å­—æ®µå</th><th>å­—æ®µå«ä¹‰</th><th>å­—æ®µç±»å‹</th><th>çº¦æŸæ¡ä»¶</th><th>çº¦æŸå…³é”®è¯</th></tr></thead><tbody><tr class="odd"><td><code>id</code></td><td>ID å”¯ä¸€æ ‡è¯†</td><td><code>int</code></td><td>ä¸»é”®ï¼Œå¹¶ä¸”è‡ªåŠ¨å¢é•¿</td><td><code>primary key, auto_increment</code></td></tr><tr class="even"><td><code>name</code></td><td>å§“å</td><td><code>varchar(10)</code></td><td>éç©ºå”¯ä¸€</td><td><code>not null, unique</code></td></tr><tr class="odd"><td><code>age</code></td><td>å¹´é¾„</td><td><code>int</code></td><td>å¤§äº 0ï¼Œä¸å¤§äº 120</td><td><code>check</code></td></tr><tr class="even"><td><code>status</code></td><td>çŠ¶æ€</td><td><code>char(1)</code></td><td>é»˜è®¤ä¸º 1</td><td><code>default</code></td></tr><tr class="odd"><td><code>gender</code></td><td>æ€§åˆ«</td><td><code>char(1)</code></td><td>æ— </td><td></td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table stu(<br>    id      int             primary key auto_increment          comment &#x27;ID&#x27;,<br>    name    varchar(10)     not null unique                     comment &#x27;å§“å&#x27;,<br>    age     int             check ( age &gt; 0 and age &lt;= 120 )    comment &#x27;å¹´é¾„&#x27;,<br>    status  char(1)         default &#x27;1&#x27;                         comment &#x27;çŠ¶æ€&#x27;,<br>    gender  char(1)                                             comment &#x27;æ€§åˆ«&#x27;<br>)comment &#x27;å­¦ç”Ÿ&#x27;;<br></code></pre></td></tr></table></figure><p><strong>å¤–é”®çº¦æŸ</strong></p><p>è®©å¤šä¸ªè¡¨çš„æ•°æ®äº§ç”Ÿè¿æ¥ï¼Œå­è¡¨çš„å¤–é”®æ˜¯çˆ¶è¡¨çš„ä¸€ä¸ªå€™é€‰é”®ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><left><img src="https://p.ipic.vip/lmnwk4.png" alt="å¤–é”®ç¤ºæ„å›¾" style="zoom:67%;" /></left></p><ul><li><p>ç®¡ç†å¤–é”®å…³è”ï¼š</p><ul><li><p>åˆ›å»ºè¡¨æ—¶æ·»åŠ å¤–é”®å…³è”ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">[å¤–é”®åç§°] foreign key [å¤–é”®å­—æ®µå] references [ä¸»è¡¨(ä¸»è¡¨åˆ—å)] [æŒ‡å®šè¡Œä¸º];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ›å»ºè¡¨åæ·»åŠ å¤–é”®å…³ç³»ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table [è¡¨å] add constraint [å¤–é”®åç§°] foreign key [å¤–é”®å­—æ®µå] references [ä¸»è¡¨(ä¸»è¡¨åˆ—å)] [æŒ‡å®šè¡Œä¸º];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ é™¤å¤–é”®å…³è”ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table [è¡¨å] drop foreign key [å¤–é”®åç§°];<br></code></pre></td></tr></table></figure></p></li></ul></li><li><p>å¤–é”®åˆ é™¤å’Œæ›´æ–°è¡Œä¸ºï¼š</p><table><thead><tr class="header"><th>è¡Œä¸º</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>no action</code></td><td>å½“çˆ¶è¡¨ä¸­åˆ é™¤æˆ–æ›´æ–°å¯¹åº”è®°å½•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”å¤–é”®ï¼Œå¦‚æœæœ‰åˆ™ä¸å…è®¸åˆ é™¤æˆ–æ›´æ–°ï¼ˆé»˜è®¤ï¼‰</td></tr><tr class="even"><td><code>restrict</code></td><td>å½“çˆ¶è¡¨ä¸­åˆ é™¤æˆ–æ›´æ–°å¯¹åº”è®°å½•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”å¤–é”®ï¼Œå¦‚æœæœ‰åˆ™ä¸å…è®¸åˆ é™¤æˆ–æ›´æ–°ï¼ˆä¸<code>no action</code> ä¸€è‡´ï¼‰</td></tr><tr class="odd"><td><code>cascade</code></td><td>å½“çˆ¶è¡¨ä¸­åˆ é™¤æˆ–æ›´æ–°å¯¹åº”è®°å½•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”å¤–é”®ï¼Œå¦‚æœæœ‰åˆ™ä¹Ÿåˆ é™¤æˆ–è€…æ›´æ–°å¤–é”®åœ¨å­è¡¨ä¸­çš„è®°å½•</td></tr><tr class="even"><td><code>set null</code></td><td>å½“çˆ¶è¡¨ä¸­åˆ é™¤æˆ–æ›´æ–°å¯¹åº”è®°å½•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”å¤–é”®ï¼Œå¦‚æœæœ‰åˆ™è®¾ç½®å­è¡¨çš„å¤–é”®å€¼ä¸º<code>NULL</code></td></tr><tr class="odd"><td><code>set default</code></td><td>å½“çˆ¶è¡¨ä¸­åˆ é™¤æˆ–æ›´æ–°å¯¹åº”è®°å½•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯¹åº”å¤–é”®ï¼Œå¦‚æœæœ‰åˆ™è®¾ç½®å­è¡¨çš„å¤–é”®å€¼ä¸ºé»˜è®¤å€¼ï¼ˆ<em>Innodb</em>ä¸æ”¯æŒï¼‰</td></tr></tbody></table><p>æ¡ˆä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># ç»™ staff è¡¨çš„ dept_id å±æ€§æ·»åŠ å…³è” dept è¡¨çš„ id å±æ€§çš„å¤–é”®å…³ç³»ï¼Œå¹¶ä¸”å°†æ›´æ–°è¡Œä¸ºå’Œåˆ é™¤è¡Œä¸ºè®¾ç½®ä¸ºçº§è”<br>alter table staff<br>    add constraint fk_staff_dept_id foreign key (dept_id) references dept(id)<br>    on update cascade on delete cascade;<br></code></pre></td></tr></table></figure></p></li></ul><h4 id="dml-è¯­å¥">DML è¯­å¥</h4><ul><li><p>æ·»åŠ æ•°æ®ï¼š</p><ul><li><p>ç»™æŒ‡å®šå­—æ®µæ·»åŠ æ•°æ®ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into [è¡¨å(å­—æ®µå1, å­—æ®µå2, ...)] values(å€¼1, å€¼2, ...);<br></code></pre></td></tr></table></figure></p></li><li><p>ç»™å…¨éƒ¨å­—æ®µæ·»åŠ æ•°æ®ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into [è¡¨å] values(å€¼1, å€¼2, ...);<br></code></pre></td></tr></table></figure></p></li><li><p>æ‰¹é‡æ·»åŠ ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into [è¡¨å] values(å€¼1, å€¼2, ...), (å€¼1, å€¼2, ...), ...;<br></code></pre></td></tr></table></figure></p><p>ç¤ºä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into staff (s_id, name, age, gender)<br>values (1002, &#x27;Tom&#x27;, 24, &#x27;ç”·&#x27;),<br>       (1003, &#x27;Frank&#x27;, 25, &#x27;ç”·&#x27;);<br></code></pre></td></tr></table></figure></p></li></ul></li><li><p>ä¿®æ”¹æ•°æ®ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">update [è¡¨å] set å­—æ®µå1 = å€¼1ï¼Œ å­—æ®µå2 = å€¼2, ... [where æ¡ä»¶];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ é™¤æ•°æ®ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">delete from [è¡¨å] [where æ¡ä»¶];<br></code></pre></td></tr></table></figure></p></li></ul><h4 id="dql-è¯­å¥">DQL è¯­å¥</h4><p>è¯­æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select<br>[å­—æ®µåˆ—è¡¨]<br>from<br>[è¡¨ååˆ—è¡¨]<br>where<br>[æ¡ä»¶åˆ—è¡¨]<br>group by<br>[åˆ†ç»„å­—æ®µåˆ—è¡¨]<br>having<br>[åˆ†ç»„åæ¡ä»¶åˆ—è¡¨]<br>order by<br>[æ’åºå­—æ®µåˆ—è¡¨]<br>limit<br>[åˆ†é¡µå‚æ•°];<br></code></pre></td></tr></table></figure><blockquote><p><code>select</code> ä¹‹åæ·»åŠ  <code>distinct</code>å¯ä»¥æ¶ˆé™¤é‡å¤å…ƒç»„</p></blockquote><ul><li><p>æŸ¥è¯¢å¤šä¸ªå­—æ®µï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µ1, å­—æ®µ2, ...] from [è¡¨å];<br><br>select * from [è¡¨å]; # æŸ¥è¯¢æ‰€æœ‰å­—æ®µï¼ˆä¸æ¨èï¼‰<br><br>select [å­—æ®µ] as [åˆ«å] from [è¡¨å];<br></code></pre></td></tr></table></figure></p></li><li><p>æ¡ä»¶æŸ¥è¯¢ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨å] where [æ¡ä»¶åˆ—è¡¨];<br></code></pre></td></tr></table></figure></p><p>æ¡ä»¶ï¼š</p><table><thead><tr class="header"><th>æ¯”è¾ƒè¿ç®—ç¬¦</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr class="odd"><td><code>&gt;</code></td><td>å¤§äº</td></tr><tr class="even"><td><code>&gt;=</code></td><td>å¤§äºç­‰äº</td></tr><tr class="odd"><td><code>&lt;</code></td><td>å°äº</td></tr><tr class="even"><td><code>&lt;=</code></td><td>å°äºç­‰äº</td></tr><tr class="odd"><td><code>=</code></td><td>ç­‰äº</td></tr><tr class="even"><td><code>&lt;&gt;</code> æˆ–è€… <code>!=</code></td><td>ä¸ç­‰äº</td></tr><tr class="odd"><td><code>between ... and ...</code></td><td>åœ¨æŸä¸ªèŒƒå›´ä¹‹å†…ï¼ˆå«æœ€å°ã€æœ€å¤§å€¼ï¼‰</td></tr><tr class="even"><td><code>in(...)</code></td><td>åœ¨ <code>in</code> ä¹‹åçš„åˆ—è¡¨ä¸­çš„å€¼</td></tr><tr class="odd"><td><code>like å ä½ç¬¦</code></td><td>æ¨¡ç³ŠåŒ¹é…ï¼Œ<code>_</code> åŒ¹é…å•ä¸ªå­—ç¬¦ï¼Œ<code>%</code>åŒ¹é…ä»»æ„ä¸ªå­—ç¬¦</td></tr><tr class="even"><td><code>is null</code></td><td>æ˜¯ <code>NULL</code></td></tr></tbody></table><table><thead><tr class="header"><th>é€»è¾‘è¿ç®—ç¬¦</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr class="odd"><td><code>and</code> æˆ– <code>&amp;&amp;</code></td><td>å¹¶ä¸”</td></tr><tr class="even"><td><code>or</code> æˆ– <code>||</code></td><td>æˆ–è€…</td></tr><tr class="odd"><td><code>not</code> æˆ– <code>!</code></td><td>é</td></tr></tbody></table><p>å‡ ä¸ªæ¡ˆä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select name, s_id from staff where age &gt;= 25;<br># æŸ¥æ‰¾å¹´é¾„ä¸å°äº 25 çš„å‘˜å·¥å§“åå’Œ ID<br><br>select name, s_id from staff where age between 20 and 30;<br># æŸ¥æ‰¾å¹´é¾„åœ¨ 20 å’Œ 30 å²ä¹‹é—´çš„å‘˜å·¥å§“åå’Œå¹´é¾„<br><br>select name, s_id from staff where gender is null;<br># æŸ¥æ‰¾ gender ä¸º null çš„å‘˜å·¥å§“åå’Œ ID<br><br>select name, s_id from staff where age &gt;= 25 and gender = &#x27;å¥³&#x27;;<br># æŸ¥æ‰¾å¹´é¾„ä¸å°äº 25 çš„å¥³å‘˜å·¥å§“åå’Œ ID<br><br>select name from staff like &#x27;æ%&#x27;;<br># æŸ¥æ‰¾å§“æçš„å‘˜å·¥<br></code></pre></td></tr></table></figure></p></li><li><p>èšåˆå‡½æ•°</p><p>èšåˆå‡½æ•°æ˜¯æŒ‡å°†ä¸€åˆ—æ•°æ®ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¿›è¡Œçºµå‘è®¡ç®—ã€‚</p><table><thead><tr class="header"><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr class="odd"><td><code>count()</code></td><td>ç»Ÿè®¡æ•°é‡</td></tr><tr class="even"><td><code>max()</code></td><td>æœ€å¤§å€¼</td></tr><tr class="odd"><td><code>min()</code></td><td>æœ€å°å€¼</td></tr><tr class="even"><td><code>avg()</code></td><td>å¹³å‡å€¼</td></tr><tr class="odd"><td><code>sum()</code></td><td>æ±‚å’Œ</td></tr></tbody></table><blockquote><p>æ³¨ï¼š<code>NULL</code> å€¼ä¸å‚ä¸é™¤ <code>count()</code>ä¹‹å¤–çš„èšåˆå‡½æ•°çš„è¿ç®—</p></blockquote><p>è¯­æ³•ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select èšåˆå‡½æ•°(å­—æ®µåˆ—è¡¨) from [è¡¨å];<br></code></pre></td></tr></table></figure></p><p>å‡ ä¸ªæ¡ˆä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select count(s_id) from staff;<br># s_id æ•°é‡ï¼ŒNULL å€¼ä¸å‚ä¸èšåˆå‡½æ•°è®¡ç®—<br><br>select max(age) from staff;<br># æŸ¥æ‰¾å‘˜å·¥å¹´é¾„æœ€å¤§å€¼<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ†ç»„æŸ¥è¯¢</p><p>è¯­æ³•ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨å] where [æ¡ä»¶åˆ—è¡¨] group by [åˆ†ç»„å­—æ®µå] having [åˆ†ç»„åè¿‡æ»¤æ¡ä»¶];<br></code></pre></td></tr></table></figure></p><p>â€¼ï¸ <code>where</code> å’Œ <code>having</code> çš„åŒºåˆ«ï¼š</p><ul><li>æ‰§è¡Œæ—¶æœºä¸åŒï¼š<code>where</code> æ˜¯åˆ†ç»„ä¹‹å‰è¿›è¡Œè¿‡æ»¤ï¼Œä¸æ»¡è¶³<code>where</code> æ¡ä»¶ï¼Œä¸å‚ä¸åˆ†ç»„ï¼›è€Œ <code>having</code>æ˜¯åˆ†ç»„ä¹‹åå¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ã€‚</li><li>åˆ¤æ–­æ¡ä»¶ä¸åŒï¼Œ<code>where</code> ä¸èƒ½å¯¹èšåˆå‡½æ•°è¿›è¡Œåˆ¤æ–­ï¼Œè€Œ<code>having</code> å¯ä»¥ã€‚</li></ul><p>å‡ ä¸ªæ¡ˆä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select gender, count(*) as numebr from staff group by gender;<br># æŸ¥è¯¢ç”·æ€§å‘˜å·¥å’Œå¥³æ€§å‘˜å·¥çš„æ•°é‡<br></code></pre></td></tr></table></figure></p><p>ç»“æœï¼š</p><p><left><img src="https://p.ipic.vip/k3lstv.png" alt="" style="zoom:67%;" /></left></p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select address, count(*) as address_count from emp where age &lt;= 35 group by address having address_count &gt;= 5;<br># æŸ¥è¯¢ä¸åŒåœ°åŒºå¹´é¾„å°äºç­‰äº 35 å²çš„å‘˜å·¥ä¸”äººæ•°ä¸å°äº 5 çš„åœ°åŒºåŠå…¶å‘˜å·¥æ•°é‡<br></code></pre></td></tr></table></figure></p><p>â€¼ï¸ <strong>æ‰§è¡Œé¡ºåº</strong>ï¼š</p><ol type="1"><li><code>where</code></li><li>èšåˆå‡½æ•°</li><li><code>having</code></li></ol></li><li><p>æ’åºæŸ¥è¯¢</p><p>è¯­æ³•ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨å] order by [å­—æ®µ1] [æ’åºæ–¹æ¡ˆ1], [å­—æ®µ2] [æ’åºæ–¹æ¡ˆ2] ...;<br># å¤šä¸ªå­—æ®µæ—¶å…ˆçœ‹å‰é¢çš„å­—æ®µï¼Œè‹¥å‰é¢çš„å­—æ®µå€¼ç›¸åŒï¼Œåˆ™çœ‹åé¢çš„å­—æ®µè§„åˆ™<br></code></pre></td></tr></table></figure></p><p>æ’åºæ–¹æ¡ˆï¼š</p><ul><li><code>asc</code> ï¼šå‡åºæ’åº</li><li><code>desc</code> ï¼šé™åºæ’åº</li></ul><p>å‡ ä¸ªæ¡ˆä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select name, s_id from staff order by age asc;<br># å°†å‘˜å·¥å§“åå’Œ ID æŒ‰ç…§å¹´é¾„å‡åºæ’åˆ—<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ†é¡µæŸ¥è¯¢</p><p>å…³é”®è¯ï¼š<code>limit</code></p><p>è¯­æ³•ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨å] limit [èµ·å§‹ç´¢å¼•], [æŸ¥è¯¢è®°å½•æ•°];<br></code></pre></td></tr></table></figure></p><blockquote><p>æ³¨ï¼šèµ·å§‹ç´¢å¼•ä» 0 å¼€å§‹ï¼Œè‹¥ç´¢å¼•ä¸º 0ï¼Œåˆ™ 0 å¯ä»¥çœç•¥</p></blockquote><p>å‡ ä¸ªæ¡ˆä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from emp limit 0, 10;<br># å±•ç¤ºä»ç´¢å¼• 0 å¼€å§‹çš„ 10 æ¡è®°å½•<br></code></pre></td></tr></table></figure></p></li></ul><h5 id="å¤šè¡¨æŸ¥è¯¢">â€¼ï¸ å¤šè¡¨æŸ¥è¯¢</h5><p>ç›´æ¥ä½¿ç”¨ <code>select</code> è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1], [è¡¨2];<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šè¯­å¥ä¼šç›´æ¥å¾—åˆ° è¡¨1 å’Œ è¡¨2 çš„ç¬›å¡å°”ç§¯çš„æŠ•å½±å­—æ®µã€‚</p><p>è‡ªç„¶è¿æ¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1], [è¡¨2] where [è¡¨1.key] = [è¡¨2.key];<br></code></pre></td></tr></table></figure><blockquote><p><code>key</code> åœ¨è¿™é‡Œä¸ºä¸»è¡¨çš„å¤–é”®</p></blockquote><p><strong><code>JOIN</code> è¯­å¥</strong></p><ul><li><p><code>cross join</code> ï¼šç¬›å¡å°”ç§¯</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1] cross join [è¡¨2];<br></code></pre></td></tr></table></figure></p><p><img src="https://p.ipic.vip/uic3ax.png" alt="CROSS JOIN ç¤ºä¾‹" style="zoom:20%;" /></p></li><li><p><code>on</code> å…³é”®å­—ï¼šåœ¨ <code>join</code> è¯­å¥åæ·»åŠ <code>on [æ¡ä»¶åˆ—è¡¨]</code> å¯ä»¥ç­›é€‰ç‰¹å®šæ¡ä»¶çš„å…ƒç»„</p></li><li><p>å†…è¿æ¥</p><ul><li><p><code>natural join</code> ï¼šè‡ªç„¶è¿æ¥</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1] natural join [è¡¨2];<br></code></pre></td></tr></table></figure></p><p><img src="https://p.ipic.vip/0oudmc.png" alt="NATURAL JOIN ç¤ºä¾‹" style="zoom:20%;" /></p></li><li><p><code>inner join</code> ï¼šå†…è¿æ¥ï¼Œ<code>join</code>ä¸åŠ ä¿®é¥°çš„é»˜è®¤è¿æ¥ï¼Œæ˜¾ç¤ºå·¦è¡¨å’Œå³è¡¨ç¬¦åˆæ¡ä»¶çš„è®°å½•</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1] (inner) join [è¡¨2] on [æ¡ä»¶åˆ—è¡¨];<br></code></pre></td></tr></table></figure></p><p><img src="https://p.ipic.vip/j0vtdu.png" alt="INNER JOIN ç¤ºä¾‹" style="zoom:20%;" /></p><blockquote><p>ä¸Šå›¾ä½¿ç”¨ <code>where</code>è¯­å¥çš„ç­‰ä»·è¿æ¥æ–¹å¼å«åš<strong>éšå¼å†…è¿æ¥</strong>ã€‚</p></blockquote></li></ul></li><li><p>å¤–è¿æ¥</p><ul><li><p><code>left join</code>ï¼šå·¦è¿æ¥ï¼Œå³ä¿ç•™å·¦è¡¨æ‰€æœ‰å…ƒç»„ï¼Œå³è¡¨æ— æ³•åŒ¹é…çš„å±æ€§ç”¨ <code>NULL</code>å–ä»£</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1] left join [è¡¨2] on [æ¡ä»¶åˆ—è¡¨];<br></code></pre></td></tr></table></figure></p><p><img src="https://p.ipic.vip/2ntdt9.png" alt="LEFT JOIN ç¤ºä¾‹" style="zoom:20%;" /></p></li><li><p><code>right join</code>ï¼šå³è¿æ¥ï¼Œå³ä¿ç•™å³è¡¨æ‰€æœ‰å…ƒç»„ï¼Œå·¦è¡¨æ— æ³•åŒ¹é…çš„å±æ€§ç”¨ <code>NULL</code>å–ä»£</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1] right join [è¡¨2] on [æ¡ä»¶åˆ—è¡¨];<br></code></pre></td></tr></table></figure></p><p><img src="https://p.ipic.vip/8eomc6.png" alt="RIGHT JOIN ç¤ºä¾‹" style="zoom:20%;" /></p></li><li><p><code>full join</code>ï¼šå…¨è¿æ¥ï¼Œå³ä¿ç•™ä¸¤å¼ è¡¨æ‰€æœ‰å…ƒç»„ï¼Œæ— æ³•åŒ¹é…çš„å±æ€§ç”¨ <code>NULL</code>å–ä»£</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select [å­—æ®µåˆ—è¡¨] from [è¡¨1] full join [è¡¨2] on [æ¡ä»¶åˆ—è¡¨];<br></code></pre></td></tr></table></figure></p><p><img src="https://p.ipic.vip/7piiru.png" alt="FULL JOIN ç¤ºä¾‹" style="zoom:20%;" /></p></li></ul></li></ul><h5 id="å­æŸ¥è¯¢">â€¼ï¸ å­æŸ¥è¯¢</h5><p>åœ¨ SQL è¯­å¥ä¸­åµŒå¥— <code>select</code>è¯­å¥ï¼Œç§°ä¸ºåµŒå¥—æŸ¥è¯¢ï¼Œåˆç§°å­æŸ¥è¯¢ã€‚</p><ul><li><p>æ ‡é‡å­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢çš„ç»“æœä¸ºå•ä¸ªå€¼</p></li><li><p>åˆ—å­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢çš„ç»“æœä¸ºä¸€åˆ—</p><p>å¸¸ç”¨æ“ä½œç¬¦ï¼š<code>in</code>ã€<code>not in</code>ã€<code>any</code>ã€<code>some</code>ã€<code>all</code></p></li><li><p>è¡Œå­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢çš„ç»“æœä¸ºä¸€è¡Œ</p><p>å¸¸ç”¨æ“ä½œç¬¦ï¼š<code>=</code>ã€<code>!=</code>ã€<code>in</code>ã€<code>not in</code>ã€<code>exists</code>ã€<code>not exists</code></p><blockquote><p><code>exists (select ...)</code> ç”¨æ¥åˆ¤æ–­æ˜¯å¦æœ‰åé¢çš„<code>select</code> è¯­å¥æ˜¯å¦æœ‰è¿”å›å€¼ã€‚è‹¥è‡³å°‘è¿”å›ä¸€è¡Œï¼Œåˆ™è¿”å›<code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code></p></blockquote></li><li><p>è¡¨å­æŸ¥è¯¢ï¼šå­æŸ¥è¯¢çš„ç»“æœä¸ºå¤šè¡Œå¤šåˆ—</p><p>å¸¸ç”¨æ“ä½œç¬¦ï¼š<code>in</code></p></li></ul><p>æ ¹æ®å­æŸ¥è¯¢çš„ä½ç½®ï¼Œåˆå¯ä»¥åˆ†ä¸ºï¼š</p><ul><li><code>where</code> ä¹‹å</li><li><code>from</code> ä¹‹å</li><li><code>select</code> ä¹‹å</li></ul><h4 id="dcl-è¯­å¥">DCL è¯­å¥</h4><p>DCLï¼ˆData ControlLanguageï¼‰ç”¨æ¥ç®¡ç†æ•°æ®åº“ç”¨æˆ·æ§åˆ¶æ•°æ®åº“çš„è®¿é—®æƒé™ã€‚</p><p>ç®¡ç†ç”¨æˆ·ï¼š</p><ul><li><p>æŸ¥è¯¢ç”¨æˆ·ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">use mysql;<br>select * from user;<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ›å»ºç”¨æˆ·ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create user [&#x27;ç”¨æˆ·å&#x27;@&#x27;ä¸»æœºå&#x27;] identified by [&#x27;å¯†ç &#x27;];<br></code></pre></td></tr></table></figure></p><p>ç¤ºä¾‹ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># åˆ›å»ºç”¨æˆ· Jackï¼Œåªèƒ½åœ¨å½“å‰ä¸»æœº localhost è®¿é—®ï¼Œå¯†ç  123456<br>create user &#x27;Jack&#x27;@&#x27;localhost&#x27; identified by &#x27;123456&#x27;;<br><br># åˆ›å»ºç”¨æˆ· Tinaï¼Œå¯ä»¥åœ¨ä»»æ„ä¸»æœºè®¿é—®è¯¥æ•°æ®åº“ï¼Œå¯†ç  123456<br>create user &#x27;Tina&#x27;@&#x27;%&#x27; identified by &#x27;123456&#x27;;<br></code></pre></td></tr></table></figure></p></li><li><p>ä¿®æ”¹ç”¨æˆ·å¯†ç ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter user [&#x27;ç”¨æˆ·å&#x27;@&#x27;ä¸»æœºå&#x27;] identified with mysql_native_password by [&#x27;æ–°å¯†ç &#x27;];<br></code></pre></td></tr></table></figure></p></li><li><p>åˆ é™¤ç”¨æˆ·ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">drop user [&#x27;ç”¨æˆ·å&#x27;@&#x27;ä¸»æœºå&#x27;];<br></code></pre></td></tr></table></figure></p></li></ul><p>æƒé™æ§åˆ¶ï¼š</p><table><thead><tr class="header"><th>æƒé™</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>all, all privileges</code></td><td>æ‰€æœ‰æƒé™</td></tr><tr class="even"><td><code>select</code></td><td>æŸ¥è¯¢æ•°æ®</td></tr><tr class="odd"><td><code>insert</code></td><td>æ’å…¥æ•°æ®</td></tr><tr class="even"><td><code>update</code></td><td>ä¿®æ”¹æ•°æ®</td></tr><tr class="odd"><td><code>delete</code></td><td>åˆ é™¤æ•°æ®</td></tr><tr class="even"><td><code>alter</code></td><td>ä¿®æ”¹è¡¨</td></tr><tr class="odd"><td><code>drop</code></td><td>åˆ é™¤æ•°æ®åº“ / è¡¨ / è§†å›¾</td></tr><tr class="even"><td><code>create</code></td><td>åˆ›å»ºæ•°æ®åº“ / è¡¨</td></tr></tbody></table><ul><li><p>æŸ¥è¯¢æƒé™ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">show grants for [&#x27;ç”¨æˆ·å&#x27;@&#x27;ä¸»æœºå&#x27;];<br></code></pre></td></tr></table></figure></p></li><li><p>æˆäºˆæƒé™ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">grant [æƒé™åˆ—è¡¨] on [æ•°æ®åº“å.è¡¨å] to [&#x27;ç”¨æˆ·å&#x27;@&#x27;ä¸»æœºå&#x27;];<br></code></pre></td></tr></table></figure></p></li><li><p>æ’¤é”€æƒé™ï¼š</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">revoke [æƒé™åˆ—è¡¨] on [æ•°æ®åº“å.è¡¨å] to [&#x27;ç”¨æˆ·å&#x27;@&#x27;ä¸»æœºå&#x27;];<br></code></pre></td></tr></table></figure></p><blockquote><ol type="1"><li>å¤šä¸ªæƒé™ä¹‹é—´ï¼Œé‡‡å–é€—å·åˆ†éš”</li><li>æˆæƒæ—¶ï¼Œæ•°æ®åº“å’Œè¡¨åå¯ä»¥ä½¿ç”¨ <code>*</code> è¿›è¡Œé€šé…</li></ol></blockquote></li></ul><h3 id="mysql-å‡½æ•°">MySQL å‡½æ•°</h3><p>å‡½æ•°æ˜¯æŒ‡ä¸€æ®µå¯ä»¥ç›´æ¥è¢«å¦ä¸€æ®µç¨‹åºè°ƒç”¨çš„ç¨‹åºæˆ–ä»£ç ã€‚</p><h4 id="å­—ç¬¦ä¸²å‡½æ•°">å­—ç¬¦ä¸²å‡½æ•°</h4><table><thead><tr class="header"><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr class="odd"><td><code>length(s)</code></td><td>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦</td></tr><tr class="even"><td><code>concat(s1, s2, ...)</code></td><td>å­—ç¬¦ä¸²æ‹¼æ¥</td></tr><tr class="odd"><td><code>lower(str)</code></td><td>å°†å­—ç¬¦ä¸²å…¨éƒ¨å°å†™</td></tr><tr class="even"><td><code>upper(str)</code></td><td>å°†å­—ç¬¦ä¸²å…¨éƒ¨å¤§å†™</td></tr><tr class="odd"><td><code>lpad(str, n, pad)</code></td><td>å·¦å¡«å……</td></tr><tr class="even"><td><code>rpad(str, n, pad)</code></td><td>å³å¡«å……</td></tr><tr class="odd"><td><code>trim(str)</code></td><td>å»æ‰å­—ç¬¦ä¸²å¤´éƒ¨å’Œå°¾éƒ¨çš„ç©ºæ ¼</td></tr><tr class="even"><td><code>substring(str, start, len)</code></td><td>è¿”å›å­—ç¬¦ä¸²ä» <code>start</code> ä½ç½®èµ·çš„ <code>len</code>ä¸ªé•¿åº¦çš„å­å­—ç¬¦ä¸²</td></tr></tbody></table><h4 id="æ•°æ®å‡½æ•°">æ•°æ®å‡½æ•°</h4><table><thead><tr class="header"><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>ceil(x)</code></td><td>å‘ä¸Šå–æ•´</td></tr><tr class="even"><td><code>floor(x)</code></td><td>å‘ä¸‹å–æ•´</td></tr><tr class="odd"><td><code>mod(x, y)</code></td><td>è¿”å› <code>x mod y</code> çš„å€¼</td></tr><tr class="even"><td><code>rand()</code></td><td>è¿”å› 0 ~ 1 ä¹‹é—´çš„éšæœºæ•°</td></tr><tr class="odd"><td><code>round(x, y)</code></td><td>æ±‚å‚æ•° <code>x</code> çš„å››èˆäº”å…¥çš„å€¼ï¼Œä¿ç•™ <code>y</code>ä½å°æ•°</td></tr></tbody></table><h4 id="æ—¥æœŸå‡½æ•°">æ—¥æœŸå‡½æ•°</h4><table><thead><tr class="header"><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>curdate()</code></td><td>è¿”å›å½“å‰æ—¥æœŸ</td></tr><tr class="even"><td><code>curtime()</code></td><td>è¿”å›å½“å‰æ—¶é—´</td></tr><tr class="odd"><td><code>now()</code></td><td>è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´</td></tr><tr class="even"><td><code>year(date)</code></td><td>è·å–æŒ‡å®š <code>date</code> çš„å¹´ä»½</td></tr><tr class="odd"><td><code>month(date)</code></td><td>è·å–æŒ‡å®š <code>date</code> çš„æœˆä»½</td></tr><tr class="even"><td><code>day(date)</code></td><td>è·å–æŒ‡å®š <code>date</code> çš„æ—¥æœŸ</td></tr><tr class="odd"><td><code>date_add(date, interval expr type)</code></td><td>è¿”å›ä¸€ä¸ªæ—¥æœŸ / æ—¶é—´å€¼åŠ ä¸Šä¸€ä¸ªæ—¶é—´é—´éš” <code>expr</code>åçš„æ—¶é—´å€¼</td></tr><tr class="even"><td><code>datediff(date1, date2)</code></td><td>è¿”å›ç»“æŸæ—¶é—´ <code>date1</code> å’Œèµ·å§‹æ—¶é—´ <code>date2</code>ä¹‹é—´çš„å¤©æ•°</td></tr><tr class="odd"><td><code>date_format(date, format)</code></td><td><code>date_format(date, format)</code> ï¼šç”¨äºä»¥ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ—¥æœŸ /æ—¶é—´æ•°æ®ã€‚<code>date</code> å‚æ•°æ˜¯åˆæ³•çš„æ—¥æœŸï¼Œ<code>format</code>è§„å®šæ—¥æœŸ/æ—¶é—´çš„è¾“å‡ºæ ¼å¼ã€‚<br>ä¾‹å¦‚ï¼Œå°† <code>2023-03-14</code> è½¬åŒ–ä¸º<code>2023-03</code> ï¼ˆå³å¹´ - æœˆï¼‰è¾“å‡ºï¼Œåˆ™ä¸ºï¼š<br><code>date_format(target_date, '%Y-%m')</code></td></tr></tbody></table><h4 id="æµç¨‹å‡½æ•°">æµç¨‹å‡½æ•°</h4><p>æµç¨‹å‡½æ•°ä¹Ÿæ˜¯å¾ˆå¸¸ç”¨çš„ä¸€ç±»å‡½æ•°ï¼Œå¯ä»¥åœ¨ SQLè¯­å¥ä¸­å®ç°æ¡ä»¶ç­›é€‰ï¼Œä»è€Œæé«˜è¯­å¥æ•ˆç‡ã€‚</p><table><thead><tr class="header"><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr class="odd"><td><code>if(value, t, f)</code></td><td><code>value</code> ä¸º <code>true</code> è¿”å› <code>t</code>ï¼Œå¦åˆ™è¿”å› <code>f</code></td></tr><tr class="even"><td><code>ifnull(value1, value2)</code></td><td>å¦‚æœ <code>value1</code> ä¸ä¸ºç©ºï¼Œè¿”å› <code>value1</code> ï¼Œå¦åˆ™è¿”å›<code>value2</code></td></tr><tr class="odd"><td><code>case when [val1] then [res1] ... else [default] end</code></td><td>å¦‚æœ <code>val1</code> ä¸º <code>true</code> ï¼Œè¿”å› <code>res1</code>ï¼Œ...ï¼Œ<code>default</code> ä¸ºé»˜è®¤å€¼</td></tr><tr class="even"><td><code>case [expr] when [val1] then [res1] ... else [default] end</code></td><td>åŒä¸Šï¼Œè‹¥ <code>expr</code> çš„å€¼ç­‰äº <code>val1</code> ï¼Œåˆ™è¿”å›<code>res1</code>ï¼Œ ...ï¼Œ<code>default</code> ä¸ºé»˜è®¤å€¼</td></tr></tbody></table><h3 id="mysql-äº‹åŠ¡æ“ä½œ">MySQL äº‹åŠ¡æ“ä½œ</h3><p><strong>äº‹åŠ¡ï¼ˆTransactionï¼‰</strong>æ˜¯ä¸€ç»„æ“ä½œçš„é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¼šæŠŠæ‰€æœ‰æ“ä½œä½œä¸ºä¸€ä¸ªæ•´ä½“ä¸€èµ·å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€æ“ä½œè¯·æ±‚ï¼Œå³è¿™äº›æ“ä½œè¦ä¹ˆ<strong>åŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥</strong>ã€‚</p><p><strong>äº‹åŠ¡ 4 å¤§ç‰¹æ€§ï¼ˆACIDï¼‰</strong>ï¼š</p><ul><li>åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•å…ƒï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥</li><li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€</li><li>éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šæ•°æ®åº“ç³»ç»Ÿæä¾›çš„éš”ç¦»æœºåˆ¶ï¼Œä¿è¯äº‹åŠ¡åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„ç‹¬ç«‹ç¯å¢ƒä¸‹è¿è¡Œ</li><li>æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤æˆ–å›æ»šï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„</li></ul><h4 id="äº‹åŠ¡æ“ä½œ">äº‹åŠ¡æ“ä½œ</h4><ul><li><p>æŸ¥çœ‹ / è®¾ç½®äº‹åŠ¡æäº¤æ–¹å¼</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select @@autocommit;<br>set @@autocommit = 0; # å°†äº‹åŠ¡è®¾ç½®ä¸ºæ‰‹åŠ¨æäº¤<br></code></pre></td></tr></table></figure></p></li><li><p>å¼€å¯äº‹åŠ¡</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">start transaction; # æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸æ›´æ”¹ @@autocommit å‚æ•°<br></code></pre></td></tr></table></figure></p></li><li><p>æäº¤äº‹åŠ¡</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">commit; # è®¾ç½®ä¸ºæ‰‹åŠ¨æäº¤åå¿…é¡»è¦æ‰‹åŠ¨æäº¤æ‰èƒ½æ›´æ–°æ•°æ®<br></code></pre></td></tr></table></figure></p></li><li><p>å›æ»šäº‹åŠ¡</p><p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">rollback; # å›æ»š / æ’¤é”€äº‹åŠ¡<br></code></pre></td></tr></table></figure></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®åº“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SQL</tag>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç´ æ•°ç­›</title>
    <link href="/2023/04/02/%E7%B4%A0%E6%95%B0%E7%AD%9B/"/>
    <url>/2023/04/02/%E7%B4%A0%E6%95%B0%E7%AD%9B/</url>
    
    <content type="html"><![CDATA[<h4 id="å¼•å…¥">å¼•å…¥</h4><p>å¦‚æœæˆ‘ä»¬æƒ³è¦æ±‚å‡ºå°äº <code>n</code>çš„æ‰€æœ‰ç´ æ•°ï¼Œä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•å°±æ˜¯ä» 1 åˆ° <code>n</code>è¿›è¡Œéå†ï¼Œç„¶åå¯¹ç´ æ•°è¿›è¡Œè®°å½•ï¼Œä½†è¿™æ ·çš„è¯æ—¶é—´å¤æ‚åº¦ä¸º <spanclass="math inline">\(O(n^{\frac{3}{2}})\)</span> ï¼Œå½“ <code>n</code>è¶³å¤Ÿå¤§çš„æ—¶å€™è¿™ä¸ªç®—æ³•æ˜¯è¾ƒæ…¢çš„ï¼Œæœ‰æ²¡æœ‰æ›´é«˜æ•ˆçš„ç®—æ³•å‘¢ï¼Ÿ</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»æœ€å¸¸è§çš„ä¸¤ç§ç´ æ•°ç­›ï¼Œä»¥ Leetcode æ¨¡ç‰ˆé¢˜ä¸ºä¾‹ï¼š<ahref="https://leetcode.cn/problems/count-primes/">è®¡æ•°è´¨æ•°</a></p><h4 id="åŸƒæ°ç­›">åŸƒæ°ç­›</h4><p>åŸƒæ°ç­›ä¹Ÿå«åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•ï¼Œè€ƒè™‘ä»»æ„ç´ æ•° <code>x</code> ï¼Œåˆ™<code>x</code> çš„æ‰€æœ‰å€æ•°éƒ½æ˜¯åˆæ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countPrimes</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-comment">// åŸƒå¼ç­›</span><br>        <span class="hljs-type">bool</span>* notPrime = <span class="hljs-keyword">new</span> <span class="hljs-type">bool</span>[n]();<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">if</span> (!notPrime[i]) &#123;<br>                res++;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> <span class="hljs-type">long</span> k = (<span class="hljs-type">long</span> <span class="hljs-type">long</span>)i * i; k &lt; n; k += i) &#123;<br>                    <span class="hljs-comment">// è‹¥ j &lt; iï¼Œåˆ™ j * i ä¸€å®šå·²ç»è¢«ç­›è¿‡</span><br>                    notPrime[k] = <span class="hljs-literal">true</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n\ loglogn)\)</span></p><p>å¦‚æœæƒ³äº†è§£å…¶è¯æ˜ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå» <ahref="https://oi-wiki.org/math/number-theory/sieve/">OI Wiki</a>ä¸Šçœ‹ã€‚</p></blockquote><p>å°½ç®¡åŸƒæ°ç­›æ³•å·²ç»æœ‰è¾ƒé«˜çš„æ•ˆç‡ï¼Œä½†å…¶ä»ç„¶æ— æ³•è¾¾åˆ°çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºæœ‰äº›æ•°å­˜åœ¨é‡å¤ç­›é™¤çš„æƒ…å†µï¼Œä¾‹å¦‚12ï¼Œå…¶ä¼šè¢« 2ï¼Œ3 åˆ†åˆ«ç­›é™¤ä¸€æ¬¡ï¼Œæœ‰æ²¡æœ‰åŠæ³•å¯ä»¥é¿å…é‡å¤ç­›é™¤å‘¢ï¼Ÿ</p><h4 id="æ¬§å¼ç­›çº¿æ€§ç­›">æ¬§å¼ç­›ï¼ˆçº¿æ€§ç­›ï¼‰</h4><p>æ¬§å¼ç­›ï¼Œå³ Eulerç­›æ³•ï¼Œå…¶é¿å…äº†ä¸Šè¿°çš„é‡å¤ç­›è€Œé€ æˆçš„æ—¶é—´æµªè´¹ï¼ŒçœŸæ­£æ„ä¹‰ä¸Šå®ç°äº†çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚å¯¹äºç‰¹åˆ«å¤§çš„æ•°æ®é‡ï¼ˆ<spanclass="math inline">\(n &gt; 10^8\)</span>ï¼‰æ—¶é€‚ç”¨ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countPrimes</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span>* primeNum = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[(<span class="hljs-type">int</span>)(<span class="hljs-number">1.5</span> * n / <span class="hljs-built_in">log</span>(n)) + <span class="hljs-number">1</span>];<br>        <span class="hljs-comment">// Ï€(n) &lt; 1.5 * n / ln(n) ç´ æ•°æ•°ç›®çš„ä¸€ä¸ªç²—ç³™ä¸Šç•Œ</span><br>        <span class="hljs-type">bool</span>* notPrime = <span class="hljs-keyword">new</span> <span class="hljs-type">bool</span>[n]();<br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">if</span> (!notPrime[i]) &#123;<br>                primeNum[res++] = i;<br>            &#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; res &amp;&amp; i * primeNum[j] &lt; n; j++) &#123;<br>                notPrime[i * primeNum[j]] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span> (i % primeNum[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>                <span class="hljs-comment">// å¦‚æœ i èƒ½è¢« primeNum[j] æ•´é™¤ï¼Œåˆ™ i çš„å€æ•°ä¸€å®šä¼šè¢« primeNum[j] çš„å€æ•°ç­›é™¤</span><br>                <span class="hljs-comment">// æ•…æ­¤åˆ»ä¸éœ€è¦ç»§ç»­å†ç­›é™¤ï¼Œé€€å‡ºå¾ªç¯</span><br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span></p></blockquote><p>æ³¨æ„åˆ°ï¼Œæ¬§å¼ç­›ä¸­è¢«ç­›é™¤çš„åˆæ•°éƒ½æ˜¯è¢«å½“å‰è®°å½•çš„æœ€å°ç´ æ•°ç­›é™¤çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æˆ‘ä»¬ä¹Ÿå¯ä»¥<strong>åŒæ—¶å¾—åˆ°æ¯ä¸ªæ•°çš„æœ€å°è´¨å› æ•°</strong>ã€‚</p><h4 id="æ¡ˆä¾‹">æ¡ˆä¾‹</h4><p><a href="https://acm.hdu.edu.cn/showproblem.php?pid=6954">HDU -6954</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_NUM 10000005</span><br><br><span class="hljs-keyword">using</span> i64 = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><span class="hljs-type">bool</span> notPrime[MAX_NUM];<br>i64 ans[MAX_NUM];<br><span class="hljs-type">int</span> primeNum[MAX_NUM];<br><span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    std::ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    std::cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    std::cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt; MAX_NUM; i++) &#123;<br>        <span class="hljs-keyword">if</span> (!notPrime[i]) &#123;<br>            ans[i] = ans[i - <span class="hljs-number">1</span>] + <span class="hljs-number">2ll</span> * i;<br>            primeNum[cnt++] = i;<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            ans[i] = ans[i - <span class="hljs-number">1</span>] + i;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; cnt &amp;&amp; (i64)i * primeNum[j] &lt; MAX_NUM; j++) &#123;<br>            notPrime[i * primeNum[j]] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span> (i % primeNum[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-type">int</span> numTest;<br>    std::cin &gt;&gt; numTest;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-keyword">while</span> (numTest--) &#123;<br>        std::cin &gt;&gt; n;<br>        std::cout &lt;&lt; ans[n] - <span class="hljs-number">4</span> &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°è®º</tag>
      
      <tag>ç´ æ•°</tag>
      
      <tag>ç´ æ•°ç­›</tag>
      
      <tag>åŸƒæ°ç­›</tag>
      
      <tag>æ¬§å¼ç­›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="/2023/04/01/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <url>/2023/04/01/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h4 id="ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼">ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ</h4><p><strong>æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregularexpressionï¼‰</strong>ï¼Œåˆç§°ä¸ºè§„åˆ™è¡¨è¾¾å¼ï¼Œæ˜¯ä¸€ç§æ–‡æœ¬æ¨¡å¼ï¼Œå…¶æ‹¥æœ‰ç‹¬ç‰¹çš„è¯­æ³•å’Œç‹¬ç«‹çš„å¤„ç†å¼•æ“ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°æ–‡æœ¬åŒ¹é…ï¼Œç‰¹åˆ«æ˜¯å½“åŒ¹é…æ¨¡å¼æ¯”è¾ƒå¤æ‚æ—¶ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ‰ç›¸å½“å¤§çš„ä¼˜åŠ¿ã€‚</p><p>æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•å’Œåˆ›å»ºæ•°å­¦è¡¨è¾¾å¼çš„æ–¹æ³•ä¸€æ ·ã€‚ä¹Ÿå°±æ˜¯ç”¨å¤šç§å…ƒå­—ç¬¦ä¸è¿ç®—ç¬¦å¯ä»¥å°†å°çš„è¡¨è¾¾å¼ç»“åˆåœ¨ä¸€èµ·æ¥åˆ›å»ºæ›´å¤§çš„è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„ç»„ä»¶å¯ä»¥æ˜¯å•ä¸ªçš„å­—ç¬¦ã€å­—ç¬¦é›†åˆã€å­—ç¬¦èŒƒå›´ã€å­—ç¬¦é—´çš„é€‰æ‹©æˆ–è€…æ‰€æœ‰è¿™äº›ç»„ä»¶çš„ä»»æ„ç»„åˆã€‚</p><h4 id="æ­£åˆ™è¡¨è¾¾å¼åŸºæœ¬è¯­æ³•">æ­£åˆ™è¡¨è¾¾å¼åŸºæœ¬è¯­æ³•</h4><h5 id="å­—ç¬¦ç±»">å­—ç¬¦ç±»</h5><table><thead><tr class="header"><th>è¡¨è¾¾å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>[abc]</code></td><td>åªèƒ½æ˜¯ a, b, c</td></tr><tr class="even"><td><code>[^abc]</code></td><td>é™¤äº† a, b, c ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦</td></tr><tr class="odd"><td><code>[a-zA-Z]</code></td><td>a åˆ° zï¼ŒA åˆ° Z çš„æ‰€æœ‰å­—ç¬¦</td></tr><tr class="even"><td><code>[a-d[m-p]]</code></td><td>a åˆ° dï¼Œm åˆ° p</td></tr><tr class="odd"><td><code>[a-z&amp;&amp;[def]]</code></td><td>a-z å’Œ def åˆ°äº¤é›†ï¼Œåœ¨è¿™é‡Œç›¸å½“äº <code>[def]</code></td></tr><tr class="even"><td><code>[a-z&amp;&amp;[^bc]]</code></td><td>a-z å’Œé bc çš„äº¤é›†</td></tr><tr class="odd"><td><code>[a-z&amp;&amp;[^m-p]]</code></td><td>a-z å’Œé™¤äº† m åˆ° p çš„äº¤é›†</td></tr></tbody></table><h5 id="é¢„å®šä¹‰å­—ç¬¦">é¢„å®šä¹‰å­—ç¬¦</h5><table><thead><tr class="header"><th>è¡¨è¾¾å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>.</code></td><td>ä»»ä½•å­—ç¬¦</td></tr><tr class="even"><td><code>\d</code></td><td>ä¸€ä¸ªæ•°å­—ï¼ˆ<code>[0-9]</code>ï¼‰</td></tr><tr class="odd"><td><code>\D</code></td><td>éæ•°å­—ï¼ˆ<code>[^0-9]</code>ï¼‰</td></tr><tr class="even"><td><code>\s</code></td><td>ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ˆ<code>[\t\n\x0B\f\r]</code>ï¼‰</td></tr><tr class="odd"><td><code>\S</code></td><td>éç©ºç™½å­—ç¬¦ï¼ˆ<code>[^\t\n\x0B\f\r]</code>ï¼‰</td></tr><tr class="even"><td><code>\w</code></td><td>è‹±æ–‡ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼ˆ<code>[a-zA-Z0-9_]</code>ï¼‰</td></tr><tr class="odd"><td><code>\W</code></td><td>ä¸€ä¸ªéå•è¯å­—ç¬¦ï¼ˆ<code>[^a-zA-Z0-9_]</code>ï¼‰</td></tr></tbody></table><h5 id="æ•°é‡è¯">æ•°é‡è¯</h5><table><thead><tr class="header"><th>è¡¨è¾¾å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>X?</code></td><td><code>X</code>ï¼Œ ä¸€æ¬¡æˆ–è€…é›¶æ¬¡</td></tr><tr class="even"><td><code>X*</code></td><td><code>X</code> ï¼Œé›¶æ¬¡æˆ–è€…å¤šæ¬¡</td></tr><tr class="odd"><td><code>X+</code></td><td><code>X</code> ï¼Œä¸€æ¬¡æˆ–è€…å¤šæ¬¡</td></tr><tr class="even"><td><code>X&#123;n&#125;</code></td><td><code>X</code> ï¼Œæ­£å¥½ n æ¬¡</td></tr><tr class="odd"><td><code>X&#123;n,&#125;</code></td><td><code>X</code> ï¼Œè‡³å°‘ n æ¬¡</td></tr><tr class="even"><td><code>X&#123;n,m&#125;</code></td><td><code>X</code> ï¼Œè‡³å°‘ n æ¬¡ï¼Œä¸è¶…è¿‡ m æ¬¡</td></tr></tbody></table><h5 id="ç‰¹æ®Šå­—ç¬¦">ç‰¹æ®Šå­—ç¬¦</h5><table><thead><tr class="header"><th>è¡¨è¾¾å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td><code>$</code></td><td>åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multilineå±æ€§ï¼Œåˆ™ <code>$</code> ä¹ŸåŒ¹é… <code>\n</code> æˆ–<code>\r</code>ã€‚è¦åŒ¹é… <code>$</code> å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ <code>\$</code>ã€‚</td></tr><tr class="even"><td><code>()</code></td><td>æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨<code>\(</code> å’Œ <code>\)</code> ã€‚</td></tr><tr class="odd"><td><code>|</code></td><td>æŒ‡æ˜ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚è¦åŒ¹é… <code>|</code> ï¼Œè¯·ä½¿ç”¨<code>\|</code> ã€‚</td></tr></tbody></table><h5 id="å…¸å‹æ¡ˆä¾‹">å…¸å‹æ¡ˆä¾‹</h5><ul><li>åŒ¹é…ç½‘å€ URLï¼š<code>[a-zA-z]+://[^\s]*</code></li><li>åŒ¹é…ä¸­å›½é‚®ç¼–ç¼–ç ï¼š<code>[1-9]\d&#123;5&#125;(?!\d)</code></li><li>åŒ¹é… 18ä½èº«ä»½è¯ï¼š<code>^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(\d&#123;3&#125;)([0-9]|X)$</code></li></ul><p><ahref="https://tool.oschina.net/regex">æ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿æµ‹è¯•å·¥å…·</a></p><h4 id="å®é™…è¿ç”¨">å®é™…è¿ç”¨</h4><p>å½“å‰å¤§å¤šæ•°æµè¡Œè¯­è¨€éƒ½æœ‰è‡ªå·±çš„æ­£åˆ™è¡¨è¾¾å¼åº“ï¼Œä¾‹å¦‚ C++11 æ›´æ–°çš„ <ahref="https://zh.cppreference.com/w/cpp/regex">Regex åº“</a> ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬ä»¥ Java ä¸ºä¾‹ï¼Œè®²è§£æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€äº›å®é™…è¿ç”¨ã€‚</p><p><strong>Java ä¸­çš„ <code>String</code> å†…ç½®æ­£åˆ™åŒ¹é…æ–¹æ³•</strong></p><ul><li><p><code>matches()</code> æ–¹æ³•ï¼š</p><blockquote><p><code>boolean matches(String regex)</code>ï¼Œæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦èƒ½åŒ¹é…æˆåŠŸï¼Œè¿”å›å¯¹åº”çš„å¸ƒå°”å€¼</p></blockquote><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åŒ¹é…æ‰‹æœºå·ç </span><br><span class="hljs-comment">// ä»¥ 1 å¼€å¤´</span><br><span class="hljs-comment">// ç¬¬äºŒä½åªèƒ½æ˜¯ 3 åˆ° 9</span><br><span class="hljs-comment">// ä»»æ„æ•°å­— 9 ä½</span><br><span class="hljs-type">String</span> <span class="hljs-variable">regex_1</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;1[3-9]\\d&#123;9&#125;&quot;</span>;<br>System.out.println(<span class="hljs-string">&quot;13170488669&quot;</span>.matches(regex_1)); <span class="hljs-comment">// true</span><br><br><span class="hljs-comment">// åŒ¹é…åº§æœºå·ç </span><br><span class="hljs-comment">// åŒºå· ä»¥ 0 å¼€å¤´</span><br><span class="hljs-comment">// ä¸­é—´å¯èƒ½æœ‰ -</span><br><span class="hljs-comment">// å·ç æ€»é•¿åº¦ 5 åˆ° 10 ä½</span><br><span class="hljs-type">String</span> <span class="hljs-variable">regex_2</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;0\\d&#123;2,3&#125;-?[1-9]\\d&#123;4,9&#125;&quot;</span>;<br>System.out.println(<span class="hljs-string">&quot;027-142424&quot;</span>.matches(regex_2)); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>replaceFirst()</code> æ–¹æ³•å’Œ <code>replaceAll()</code>æ–¹æ³•ï¼š</p><blockquote><p><code>String replaceFirst(String regex, String replacement)</code>ï¼Œå°†å­—ç¬¦ä¸²åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå­ä¸²è¿›è¡Œæ›¿æ¢ï¼Œè¿”å›æ–°å­—ç¬¦ä¸²ã€‚</p><p><code>String replaceAll(String regex, String replacement)</code>ï¼Œå°†å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…æˆåŠŸçš„å­ä¸²è¿›è¡Œæ›¿æ¢ï¼Œè¿”å›æ–°å­—ç¬¦ä¸²ã€‚</p></blockquote><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Isaac Newton&quot;</span>;<br><span class="hljs-comment">// éšè—å§“å</span><br>System.out.println(name.replaceFirst(<span class="hljs-string">&quot;[a-zA-Z]+&quot;</span>, <span class="hljs-string">&quot;*****&quot;</span>)); <span class="hljs-comment">// ***** Newton</span><br><br><span class="hljs-type">String</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;12-(900)84632&quot;</span>;<br><span class="hljs-comment">// åˆ é™¤æ‰€æœ‰éæ•°å­—å­—ç¬¦</span><br>System.out.println(number.replaceAll(<span class="hljs-string">&quot;[^0-9]&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)); <span class="hljs-comment">// 1290084632</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>split()</code> æ–¹æ³•ï¼š</p><blockquote><p><code>String[] split(String regex)</code></p><p><code>String[] split(String regex, int limit)</code></p><p>æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ†å‰²ï¼Œè¿”å›åˆ†å‰²åçš„å­—ç¬¦ä¸²æ•°ç»„ã€‚</p><p>è¿™é‡Œ <code>limit</code> å‚æ•°ç”¨æ¥æ§åˆ¶åˆ†å‰²æ¬¡æ•°ï¼š</p><ul><li>è‹¥ <code>limit &gt; 0</code> ï¼šå­—ç¬¦ä¸²æœ€å¤šè¢«åˆ†å‰² n - 1 æ¬¡ï¼Œè¿”å›é•¿åº¦ä¸ºn çš„å­—ç¬¦ä¸²æ•°ç»„</li><li>è‹¥ <code>limit &lt;= 0</code>ï¼šå­—ç¬¦ä¸²è¢«å°½å¯èƒ½å¤šæ¬¡åˆ†å‰²ï¼Œè¿”å›å°½å¯èƒ½é•¿çš„å­—ç¬¦ä¸²æ•°ç»„</li></ul></blockquote><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">String[] member = <span class="hljs-string">&quot;å¼ ä¸‰, æå››, ç‹äº”&quot;</span>.split(<span class="hljs-string">&quot;, &quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name : member) System.out.println(name);<br><span class="hljs-comment">// å¼ ä¸‰</span><br><span class="hljs-comment">// æå››</span><br><span class="hljs-comment">// ç‹äº”</span><br></code></pre></td></tr></table></figure></p></li></ul><p><strong>ç»ƒä¹ </strong></p><p><ahref="https://leetcode.cn/problems/camelcase-matching">é©¼å³°åŒ¹é…</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> List&lt;Boolean&gt; <span class="hljs-title function_">camelMatch</span><span class="hljs-params">(String[] queries, String pattern)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">regexModel</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;[a-z]*&quot;</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, len = pattern.length(); i &lt; len; i++) &#123;<br>            regexModel += (pattern.charAt(i) + <span class="hljs-string">&quot;[a-z]*&quot;</span>);<br>        &#125;<br>        ArrayList&lt;Boolean&gt; ans = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, len = queries.length; i &lt; len; i++) &#123;<br>            ans.add(queries[i].matches(regexModel));<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®²è§£ C++ åŒ¿åå‡½æ•°</title>
    <link href="/2023/03/30/%E8%AE%B2%E8%A7%A3%20C++%20%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0/"/>
    <url>/2023/03/30/%E8%AE%B2%E8%A7%A3%20C++%20%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<p><strong>åŒ¿åå‡½æ•°</strong>ï¼Œä¹Ÿå« Lambda è¡¨è¾¾å¼ï¼Œæ˜¯ C++ 11æå‡ºçš„ç‰¹æ€§ï¼ŒåŒ¿åå‡½æ•°èƒ½ä½¿å¾—æˆ‘ä»¬çš„ç¨‹åºæ›´åŠ çµæ´»è½»ä¾¿ã€‚</p><hr /><h4 id="åŸºæœ¬è¯­æ³•">åŸºæœ¬è¯­æ³•</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">[capture](para) -&gt; returnType &#123; body &#125;<br></code></pre></td></tr></table></figure><ul><li><code>capture</code> ï¼šé—­åŒ…</li><li><code>para</code> ï¼šå‚æ•°</li><li><code>returnType</code> ï¼šè¿”å›ç±»å‹</li><li><code>body</code> ï¼šå‡½æ•°ä½“</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">auto</span> fun = [](<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y) &#123; <span class="hljs-keyword">return</span> x + y; &#125;;<br>std::cout &lt;&lt; <span class="hljs-built_in">fun</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>; <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure><h5 id="é—­åŒ…">é—­åŒ…</h5><p><code>capture</code>ç§°ä¸ºé—­åŒ…ï¼Œä½œç”¨æ˜¯å¼•ç”¨åŒ¿åå‡½æ•°ä½“å¤–çš„å˜é‡ï¼Œå…¶æœ‰å¦‚ä¸‹æ ¼å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++">[]<span class="hljs-comment">// ä¸å¼•ç”¨å¤–éƒ¨å˜é‡ï¼Œæ— æ³•åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨å¤–éƒ¨å˜é‡</span><br>[x, &amp;y]<span class="hljs-comment">// x æŒ‰å€¼æ•è·ï¼Œy æŒ‰ç…§å¼•ç”¨æ•è·</span><br>[&amp;]<span class="hljs-comment">// å¯ä»¥æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡ï¼ŒæŒ‰ç…§å¼•ç”¨æ•è·</span><br>[=]<span class="hljs-comment">// å¯ä»¥æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡ï¼ŒæŒ‰ç…§å€¼æ•è·</span><br>[&amp;, x]<span class="hljs-comment">// x æŒ‰ç…§å€¼æ•è·ï¼Œå…¶ä½™æ‰€æœ‰å˜é‡æŒ‰ç…§å¼•ç”¨æ•è·</span><br>[=, &amp;y]<span class="hljs-comment">// y æŒ‰ç…§å¼•ç”¨æ•è·ï¼Œå…¶ä½™æ‰€æœ‰å˜é‡æŒ‰ç…§å€¼æ•è·</span><br>[<span class="hljs-keyword">this</span>]<span class="hljs-comment">// é€šè¿‡å¼•ç”¨æ•è·å½“å‰å¯¹è±¡</span><br>[*<span class="hljs-keyword">this</span>]<span class="hljs-comment">// é€šè¿‡ä¼ å€¼çš„æ–¹å¼æ•è·å½“å‰å¯¹è±¡</span><br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    <span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; arr = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br><br>    <span class="hljs-keyword">auto</span> fun = [&amp;sum](<span class="hljs-type">int</span> x) &#123; sum += x; &#125;;<br>    <span class="hljs-comment">// auto fun = [sum](int x) &#123; sum += x; &#125;; æŠ¥é”™ï¼Œsum å¿…é¡»æ˜¯å¯ä¿®æ”¹çš„å·¦å€¼ï¼Œæ•…åªèƒ½é€šè¿‡å¼•ç”¨çš„æ–¹å¼æ•è·</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x : arr) &#123;<br>        <span class="hljs-built_in">fun</span>(x);<br>    &#125;<br><br>    std::cout &lt;&lt; sum &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>; <span class="hljs-comment">// 15</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="è¿ç”¨">è¿ç”¨</h4><p>åŒ¿åå‡½æ•°çš„è¿ç”¨ååˆ†çµæ´»ï¼Œä»¥ä¸‹æˆ‘ä»¬ä¸¾å‡ ä¸ªå¸¸è§çš„ä¾‹å­ï¼š</p><ul><li><p>åœ¨ <code>STL</code> çš„æ’åºå‡½æ•°ä¸­è‡ªå®šä¹‰æ’åºæ–¹å¼ï¼š</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Student</span> &#123;<br>    std::string name;<br>    <span class="hljs-type">int</span> grade;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    std::vector&lt;Student&gt; s_arr = &#123;&#123;<span class="hljs-string">&quot;Jack&quot;</span>, <span class="hljs-number">99</span>&#125;, &#123;<span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-number">97</span>&#125;, &#123;<span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-number">83</span>&#125;, &#123;<span class="hljs-string">&quot;Carl&quot;</span>, <span class="hljs-number">100</span>&#125;, &#123;<span class="hljs-string">&quot;Clara&quot;</span>, <span class="hljs-number">66</span>&#125;&#125;;<br>    std::<span class="hljs-built_in">sort</span>(s_arr.<span class="hljs-built_in">begin</span>(), s_arr.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">const</span> Student&amp; s1, <span class="hljs-type">const</span> Student&amp; s2) &#123;<br>        <span class="hljs-keyword">return</span> s1.grade &gt; s2.grade;<br>    &#125;); <span class="hljs-comment">// è‡ªå®šä¹‰å­¦ç”Ÿæˆç»©æŒ‰ç…§é™åºæ’åº</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; s : s_arr) &#123;<br>        std::cout &lt;&lt; s.name &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; s.grade &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>    &#125;<br>    <span class="hljs-comment">// Carl 100</span><br>    <span class="hljs-comment">// Jack 99</span><br>    <span class="hljs-comment">// Alice 97</span><br>    <span class="hljs-comment">// Bob 83</span><br>    <span class="hljs-comment">// Clara 66</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p></li><li><p>å®šä¹‰ä¸€ä¸ªåŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ï¼š</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">solve</span><span class="hljs-params">(std::function&lt;<span class="hljs-type">double</span>(<span class="hljs-type">double</span>)&gt; fn, <span class="hljs-type">double</span> left, <span class="hljs-type">double</span> right, <span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-comment">// æ±‚ä¸€å…ƒå‡½æ•°åœ¨åŒºé—´ [left, right] çš„å®šç§¯åˆ†</span><br>    <span class="hljs-type">double</span> res = -<span class="hljs-built_in">fn</span>(left) + <span class="hljs-built_in">fn</span>(right);<br>    <span class="hljs-type">double</span> d = (right - left) / n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        res += <span class="hljs-number">2</span> * <span class="hljs-built_in">fn</span>(left + i * d) + <span class="hljs-number">4</span> * <span class="hljs-built_in">fn</span>(left + (i + <span class="hljs-number">0.5</span>) * d);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> d * res / <span class="hljs-number">6</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    std::cout &lt;&lt; <span class="hljs-built_in">solve</span>([](<span class="hljs-type">double</span> x) &#123; <span class="hljs-keyword">return</span> x * x * x; &#125;, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>) &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>; <span class="hljs-comment">// 0.25</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>C/C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>åŒ¿åå‡½æ•°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘</title>
    <link href="/2023/03/30/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E5%92%8C%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    <url>/2023/03/30/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E5%92%8C%E7%BA%BF%E6%AE%B5%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<p>æ ‘çŠ¶æ•°ç»„å’Œçº¿æ®µæ ‘æ˜¯ä¸¤ç§å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œå…¶å¯ä»¥å¤§å¤§æå‡æ•°ç»„çš„åŒºé—´æŸ¥è¯¢çš„æ•ˆç‡ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†æ•°æ®ä¿®æ”¹çš„çµæ´»åº¦ã€‚</p><table><thead><tr class="header"><th></th><th>ä¸€èˆ¬æ•°ç»„</th><th>å‰ç¼€å’Œæ•°ç»„</th><th>æ ‘çŠ¶æ•°ç»„</th><th>çº¿æ®µæ ‘</th></tr></thead><tbody><tr class="odd"><td>å•ç‚¹æŸ¥è¯¢</td><td><span class="math inline">\(O(1)\)</span></td><td><span class="math inline">\(O(1)\)</span></td><td><span class="math inline">\(O(logn)\)</span></td><td><span class="math inline">\(O(logn)\)</span></td></tr><tr class="even"><td>åŒºé—´æŸ¥è¯¢</td><td><span class="math inline">\(O(n)\)</span></td><td><span class="math inline">\(O(1)\)</span></td><td><span class="math inline">\(O(logn)\)</span></td><td><span class="math inline">\(O(logn)\)</span></td></tr><tr class="odd"><td>å•ç‚¹ä¿®æ”¹</td><td><span class="math inline">\(O(1)\)</span></td><td><span class="math inline">\(O(n)\)</span></td><td><span class="math inline">\(O(logn)\)</span></td><td><span class="math inline">\(O(logn)\)</span></td></tr><tr class="even"><td>åŒºé—´ä¿®æ”¹</td><td><span class="math inline">\(O(n)\)</span></td><td><span class="math inline">\(O(n^2)\)</span></td><td><span class="math inline">\(O(nlogn)\)</span></td><td><span class="math inline">\(O(logn)\)</span></td></tr></tbody></table><h4 id="æ ‘çŠ¶æ•°ç»„">æ ‘çŠ¶æ•°ç»„</h4><p>æ ‘çŠ¶æ•°ç»„çš„åŸç†è®²è§£å¯ä»¥å‚è€ƒè§†é¢‘ï¼š<ahref="https://www.bilibili.com/video/BV1ce411u7qP/?spm_id_from=333.337.search-card.all.click&amp;vd_source=8ba5b8b5f59444a6cbd4c3984325e82f">äº”åˆ†é’Ÿä¸æ»‘åŠ¨ç”»è®²è§£| æ ‘çŠ¶æ•°ç»„</a></p><p><img src="https://p.ipic.vip/4rorce.png" style="zoom: 33%;" /></p><h5id="ç”¨äºåŒºé—´æ±‚å’Œå’Œå•ç‚¹ä¿®æ”¹çš„æ•°çŠ¶æ•°ç»„æ¨¡ç‰ˆ">ç”¨äºåŒºé—´æ±‚å’Œå’Œå•ç‚¹ä¿®æ”¹çš„æ•°çŠ¶æ•°ç»„æ¨¡ç‰ˆ</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BIT</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> n;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; tree;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>        <span class="hljs-comment">// æ•°çŠ¶æ•°ç»„ç¬¬ i é¡¹çš„åŒºé—´é•¿åº¦ä¸º lowbit(i)</span><br>        <span class="hljs-keyword">return</span> x &amp; -x;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">count</span><span class="hljs-params">(<span class="hljs-type">int</span> m)</span> </span>&#123;<br>        <span class="hljs-comment">// æ±‚å‰ m é¡¹çš„å’Œ</span><br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (m) &#123;<br>            res += tree[m];<br>            m -= <span class="hljs-built_in">lowbit</span>(m);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">BIT</span>(<span class="hljs-type">int</span> _n): <span class="hljs-built_in">n</span>(_n), <span class="hljs-built_in">tree</span>(_n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-comment">// å•ç‚¹ä¿®æ”¹</span><br>        <span class="hljs-keyword">while</span> (idx &lt;= n) &#123;<br>            tree[idx] += val;<br>            idx += <span class="hljs-built_in">lowbit</span>(idx);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> </span>&#123;<br>        <span class="hljs-comment">// åŒºé—´æ±‚å’Œ</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">count</span>(right) - <span class="hljs-built_in">count</span>(left - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><blockquote><ul><li>æ ‘çŠ¶æ•°ç»„çš„æ ¸å¿ƒå°±æ˜¯ <code>lowbit()</code> å‡½æ•°ï¼Œæ•°çŠ¶æ•°ç»„ç¬¬<code>i</code> é¡¹ä»£è¡¨çš„åŒºé—´é•¿åº¦ä¸º <code>lowbit(i)</code></li><li>æ ‘çŠ¶æ•°ç»„çš„ä¸‹æ ‡åªèƒ½ä» 1 å¼€å§‹ï¼Œä¸èƒ½ä» 0 å¼€å§‹</li></ul></blockquote><h4 id="çº¿æ®µæ ‘">çº¿æ®µæ ‘</h4><p>çº¿æ®µæ ‘ç›¸å¯¹äºæ ‘çŠ¶æ•°ç»„è€Œè¨€åˆ™æ›´ä¸ºçµæ´»ï¼Œå…¶å¯ä»¥å®ç°é«˜æ•ˆåŒºé—´ä¿®æ”¹ã€‚</p><p>çº¿æ®µæ ‘çš„åŸç†å°±æ˜¯å°†æ•°ç»„çš„åŒºé—´å‚¨å­˜åœ¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸­ï¼Œ<code>[left, right]</code>åŒºé—´å¯¹åº”çš„å·¦å³èŠ‚ç‚¹åˆ†åˆ«ä¸º <code>[left, mid]</code> å’Œ<code>[mid + 1, right]</code>ï¼ˆ<code>mid = (left + right) / 2</code>)ã€‚</p><p><img src="https://p.ipic.vip/3phmiu.png" style="zoom:33%;" /></p><blockquote><p>â€¼ï¸æ³¨ï¼šçº¿æ®µæ ‘çš„æ•°ç»„é•¿åº¦è¦å¼€åˆ°åŸæ•°ç»„é•¿åº¦çš„ 4 å€</p></blockquote><h5 id="ç”¨äºåŒºé—´æ±‚å’Œçš„çº¿æ®µæ ‘æ¨¡ç‰ˆ">ç”¨äºåŒºé—´æ±‚å’Œçš„çº¿æ®µæ ‘æ¨¡ç‰ˆ</h5><ul><li>å•ç‚¹æ›´æ–°</li><li>åŒºé—´æ±‚å’Œ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SegmentTree</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> n;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; tree;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> val, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-comment">// å•ç‚¹æ›´æ–°</span><br>        <span class="hljs-keyword">if</span> (start == end) &#123;<br>            tree[node] = val;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span> (idx &lt;= mid) &#123;<br>            <span class="hljs-built_in">update</span>(idx, val, leftNode, start, mid);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">update</span>(idx, val, rightNode, mid + <span class="hljs-number">1</span>, end);<br>        &#125;<br><br>        tree[node] = tree[leftNode] + tree[rightNode];<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-comment">// åŒºé—´æ±‚å’Œ</span><br>        <span class="hljs-keyword">if</span> (start &gt; right || end &lt; left) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (start &gt;= left &amp;&amp; end &lt;= right) <span class="hljs-keyword">return</span> tree[node];<br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>        <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">rangeSum</span>(left, right, leftNode, start, mid) + <span class="hljs-built_in">rangeSum</span>(left, right, rightNode, mid + <span class="hljs-number">1</span>, end);<br>    &#125;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">SegmentTree</span>(<span class="hljs-type">int</span> _n): <span class="hljs-built_in">n</span>(_n), <span class="hljs-built_in">tree</span>(<span class="hljs-number">4</span> * _n, <span class="hljs-number">0</span>) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">update</span>(idx, val, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">rangeSum</span>(left, right, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h5 id="ç”¨äºæ±‚åŒºé—´æå€¼çš„çº¿æ®µæ ‘æ¨¡ç‰ˆ">ç”¨äºæ±‚åŒºé—´æå€¼çš„çº¿æ®µæ ‘æ¨¡ç‰ˆ</h5><ul><li>å•ç‚¹æ›´æ–°</li><li>åŒºé—´æ±‚æå€¼</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SegmentTree</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> n;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; tree;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> val, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-comment">// å•ç‚¹æ›´æ–°</span><br>        <span class="hljs-keyword">if</span> (start == end) &#123;<br>            tree[node] = val;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span> (idx &lt;= mid) &#123;<br>            <span class="hljs-built_in">update</span>(idx, val, leftNode, start, mid);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">update</span>(idx, val, rightNode, mid + <span class="hljs-number">1</span>, end);<br>        &#125;<br><br>        tree[node] = std::<span class="hljs-built_in">max</span>(tree[leftNode], tree[rightNode]);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxVal</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-comment">// æ±‚åŒºé—´æå¤§å€¼</span><br>        <span class="hljs-keyword">if</span> (start &gt; right || end &lt; left) <span class="hljs-keyword">return</span> INT_MIN;<br>        <span class="hljs-keyword">if</span> (start &gt;= left &amp;&amp; end &lt;= right) <span class="hljs-keyword">return</span> tree[node];<br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>        <br>        <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">max</span>(<span class="hljs-built_in">maxVal</span>(left, right, leftNode, start, mid), <span class="hljs-built_in">maxVal</span>(left, right, rightNode, mid + <span class="hljs-number">1</span>, end));<br>    &#125;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">SegmentTree</span>(<span class="hljs-type">int</span> _n): <span class="hljs-built_in">n</span>(_n), <span class="hljs-built_in">tree</span>(<span class="hljs-number">4</span> * _n, <span class="hljs-number">0</span>) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">update</span>(idx, val, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxVal</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">maxVal</span>(left, right, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><hr /><p>æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„éœ€æ±‚ï¼šè¦å¤šæ¬¡å°†æ•°ç»„ä¸­ä¸€ä¸ªåŒºé—´å†…çš„æ¯ä¸ªå…ƒç´ éƒ½æ·»åŠ ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå¦‚æœé€ä¸€ä¿®æ”¹ï¼Œåˆ™ä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å¸¦å»¶è¿Ÿæ ‡è®°çš„çº¿æ®µæ ‘ã€‚</p><p>ä»€ä¹ˆæ˜¯å»¶è¿Ÿæ ‡è®°ï¼Ÿ</p><p>â€”â€”å³å¯¹çº¿æ®µæ ‘çš„æŸä¸ªèŠ‚ç‚¹çš„æ•°æ®æ›´æ–°å®Œåä¸æ€¥äºå¯¹å…¶å­èŠ‚ç‚¹è¿›è¡Œæ›´æ–°ï¼Œè€Œæ˜¯å°†æ›´æ–°ä¿¡æ¯å­˜å‚¨ä¸‹æ¥ï¼Œè€Œå½“å¿…é¡»æ›´æ–°çš„æ—¶å€™å†å°†ä¿¡æ¯ä¼ é€’ç»™å­èŠ‚ç‚¹ã€‚</p><h5id="ä½¿ç”¨å»¶è¿Ÿæ ‡è®°è¿›è¡ŒåŒºé—´ä¿®æ”¹çš„çº¿æ®µæ ‘æ¨¡ç‰ˆ">ä½¿ç”¨å»¶è¿Ÿæ ‡è®°è¿›è¡ŒåŒºé—´ä¿®æ”¹çš„çº¿æ®µæ ‘æ¨¡ç‰ˆ</h5><ul><li>åŒºé—´ä¿®æ”¹</li><li>åŒºé—´æ±‚å’Œ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SegmentTree</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> n;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; tree;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; lazy;<br><br>    <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">maintain</span><span class="hljs-params">(<span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-comment">// ä¼ é€’ lazy æ ‡ç­¾</span><br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>        tree[leftNode] += (mid - start + <span class="hljs-number">1</span>) * lazy[node];<br>        lazy[leftNode] += lazy[node];<br>        tree[rightNode] += (end - mid) * lazy[node];<br>        lazy[rightNode] += lazy[node];<br>        lazy[node] = <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> val, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-comment">// ç»™åŒºé—´ [left, right] çš„æ‰€æœ‰æ•°æ·»åŠ  val</span><br>        <span class="hljs-keyword">if</span> (start &gt; right || end &lt; left) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span> (start &gt;= left &amp;&amp; end &lt;= right) &#123;<br>            tree[node] += (end - start + <span class="hljs-number">1</span>) * val;<br>            lazy[node] += val;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (lazy[node]) <span class="hljs-built_in">maintain</span>(node, start, end);<br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>        <span class="hljs-built_in">add</span>(left, right, val, leftNode, start, mid);<br>        <span class="hljs-built_in">add</span>(left, right, val, rightNode, mid + <span class="hljs-number">1</span>, end);<br><br>        tree[node] = tree[leftNode] + tree[rightNode];<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-comment">// åŒºé—´æ±‚å’Œ</span><br>        <span class="hljs-keyword">if</span> (start &gt; right || end &lt; left) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (start &gt;= left &amp;&amp; end &lt;= right) <span class="hljs-keyword">return</span> tree[node];<br>        <span class="hljs-keyword">if</span> (lazy[node]) <span class="hljs-built_in">maintain</span>(node, start, end);<br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">rangeSum</span>(left, right, leftNode, start, mid) + <span class="hljs-built_in">rangeSum</span>(left, right, rightNode, mid + <span class="hljs-number">1</span>, end);<br>    &#125;<br><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">SegmentTree</span>(<span class="hljs-type">int</span> _n): <span class="hljs-built_in">n</span>(_n), <span class="hljs-built_in">tree</span>(<span class="hljs-number">4</span> * _n), <span class="hljs-built_in">lazy</span>(<span class="hljs-number">4</span> * _n) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">add</span>(left, right, val, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">rangeSum</span>(left, right, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="æ¡ˆä¾‹">æ¡ˆä¾‹</h4><ul><li><p><ahref="https://leetcode.cn/problems/minimum-number-of-visited-cells-in-a-grid">ç½‘æ ¼å›¾ä¸­æœ€å°‘è®¿é—®çš„æ ¼å­æ•°ï¼ˆçº¿æ®µæ ‘å•ç‚¹ä¿®æ”¹ + åŒºé—´æŸ¥è¯¢ï¼‰</a></p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SegTree</span> &#123;<br><span class="hljs-comment">// å•ç‚¹ä¿®æ”¹ + åŒºé—´æŸ¥è¯¢</span><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> n;<br>    vector&lt;<span class="hljs-type">int</span>&gt; tree;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> val, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (start == end) &#123;<br>            tree[node] = val;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span> (idx &lt;= mid) &#123;<br>            <span class="hljs-built_in">update</span>(idx, val, leftNode, start, mid);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">update</span>(idx, val, rightNode, mid + <span class="hljs-number">1</span>, end);<br>        &#125;<br><br>        tree[node] = <span class="hljs-built_in">min</span>(tree[leftNode], tree[rightNode]);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span> node, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (start &gt; right || end &lt; left) <span class="hljs-keyword">return</span> INT_MAX;<br>        <span class="hljs-keyword">if</span> (start &gt;= left &amp;&amp; end &lt;= right) <span class="hljs-keyword">return</span> tree[node];<br><br>        <span class="hljs-type">int</span> leftNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">1</span>, rightNode = <span class="hljs-number">2</span> * node + <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> mid = (start + end) / <span class="hljs-number">2</span>;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(<span class="hljs-built_in">query</span>(left, right, leftNode, start, mid), <span class="hljs-built_in">query</span>(left, right, rightNode, mid + <span class="hljs-number">1</span>, end));<br>    &#125;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">SegTree</span>(<span class="hljs-type">int</span> _n): <span class="hljs-built_in">n</span>(_n), <span class="hljs-built_in">tree</span>(<span class="hljs-number">4</span> * _n, INT_MAX) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">int</span> idx, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">update</span>(idx, val, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">query</span>(left, right, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minimumVisitedCells</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;<br>        <span class="hljs-type">int</span> m = grid.<span class="hljs-built_in">size</span>(), n = grid[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-function">SegTree <span class="hljs-title">trRow</span><span class="hljs-params">(m * n)</span></span>;<br>        <span class="hljs-function">SegTree <span class="hljs-title">trCol</span><span class="hljs-params">(n * m)</span></span>;<br>        trRow.<span class="hljs-built_in">update</span>(m * n - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        trCol.<span class="hljs-built_in">update</span>(n * m - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = m - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = n - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) &#123;<br>                <span class="hljs-type">int</span> resRow = trRow.<span class="hljs-built_in">query</span>(n * i + j, n * i + <span class="hljs-built_in">min</span>(j + grid[i][j], n - <span class="hljs-number">1</span>));<br>                <span class="hljs-comment">// (i, j) ~ (i, j + grid[i][j]) ä¸­çš„æœ€å°å€¼</span><br>                <span class="hljs-type">int</span> resCol = trCol.<span class="hljs-built_in">query</span>(m * j + i, m * j + <span class="hljs-built_in">min</span>(i + grid[i][j], m - <span class="hljs-number">1</span>));<br>                <span class="hljs-comment">// (i, j) ~ (i + grid[i][j], j) ä¸­çš„æœ€å°å€¼</span><br>                <span class="hljs-type">int</span> res = <span class="hljs-built_in">min</span>(resRow, resCol);<br>                <span class="hljs-keyword">if</span> (res != INT_MAX) &#123;<br>                    trRow.<span class="hljs-built_in">update</span>(n * i + j, res + <span class="hljs-number">1</span>);<br>                    trCol.<span class="hljs-built_in">update</span>(m * j + i, res + <span class="hljs-number">1</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-type">int</span> ans = trRow.<span class="hljs-built_in">query</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> ans != INT_MAX ? ans : <span class="hljs-number">-1</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°çŠ¶æ•°ç»„</tag>
      
      <tag>çº¿æ®µæ ‘</tag>
      
      <tag>åŒºé—´æŸ¥è¯¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>std::bitset è®²è§£</title>
    <link href="/2023/03/08/std-bitset%20%E8%AF%A6%E8%A7%A3/"/>
    <url>/2023/03/08/std-bitset%20%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h4 id="ä»‹ç»">ä»‹ç»</h4><p><code>std::bitset</code> æ˜¯ C++ æä¾›çš„ä¸€ç§ n-bitå›ºå®šå¤§å°åºåˆ—çš„æ¨¡ç‰ˆï¼Œå¯ä»¥ç”¨äºæ ‡å‡†é€»è¾‘è¿ç®—ï¼Œå¹¶ä¸”å¯ä»¥ä¸å­—ç¬¦ä¸²å’Œæ•´æ•°ç›¸äº’è½¬æ¢ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ ‡å‡†æµè¾“å‡ºã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">template</span>&lt; std::<span class="hljs-type">size_t</span> N &gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">bitset</span>;<br></code></pre></td></tr></table></figure><blockquote><p>æ¨¡ç‰ˆå½¢å‚ <code>N</code> ï¼šè¦ä¸º <code>bitset</code> åˆ†é…å‚¨å­˜çš„ bitä½æ•°</p></blockquote><p><strong>å¤´æ–‡ä»¶ï¼š<code>&lt;bitset&gt;</code></strong></p><h4 id="æ„é€ æ–¹æ³•">æ„é€ æ–¹æ³•</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bitset&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    <span class="hljs-comment">// 1. æ— å‚æ„é€ </span><br>    std::bitset&lt;5&gt; testCase_1;<br>    std::cout &lt;&lt; testCase_1 &lt;&lt; std::endl; <span class="hljs-comment">// 00000</span><br><br>    <span class="hljs-comment">// 2. ä¼ å…¥æ•´æ•°</span><br>    std::bitset&lt;4&gt; testCase_2&#123;<span class="hljs-number">0xb</span>&#125;;<br>    std::cout &lt;&lt; testCase_2 &lt;&lt; std::endl; <span class="hljs-comment">// 1011</span><br><br>    std::bitset&lt;4&gt; testCase_3&#123;<span class="hljs-number">0x10</span>&#125;; <span class="hljs-comment">// æº¢å‡ºä½è‡ªåŠ¨æˆªæ–­</span><br>    std::cout &lt;&lt; testCase_3 &lt;&lt; std::endl; <span class="hljs-comment">// 0000</span><br><br>    <span class="hljs-comment">// 3. ä¼ å…¥å­—ç¬¦ä¸²</span><br>    std::bitset&lt;8&gt; testCase_4&#123;<span class="hljs-string">&quot;10010101&quot;</span>&#125;; <span class="hljs-comment">// ä¼ å…¥ 0-1 å­—ç¬¦ä¸²</span><br>    std::cout &lt;&lt; testCase_4 &lt;&lt; std::endl; <span class="hljs-comment">// 10010101</span><br><br>    std::bitset&lt;4&gt; testCase_5&#123;<span class="hljs-string">&quot;10010101&quot;</span>&#125;; <span class="hljs-comment">// æº¢å‡ºä½æˆªæ–­ï¼Œåªå–å‰ 4 ä½</span><br>    std::cout &lt;&lt; testCase_5 &lt;&lt; std::endl; <span class="hljs-comment">// 1001</span><br><br>    std::bitset&lt;8&gt; testCase_6&#123;<span class="hljs-string">&quot;ABABA&quot;</span>, <span class="hljs-comment">/* è¯»å–é•¿åº¦ */</span><span class="hljs-number">4</span>, <span class="hljs-comment">/* ä»£è¡¨ 0 çš„å­—ç¬¦ */</span><span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-comment">/* ä»£è¡¨ 1 çš„å­—ç¬¦ */</span><span class="hljs-string">&#x27;B&#x27;</span>&#125;; <span class="hljs-comment">// 00000101</span><br>    std::cout &lt;&lt; testCase_6 &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// 4. æ”¯æŒèµ‹å€¼æ„é€ ä»¥åŠæ•´æ•°å’Œå­—ç¬¦ä¸²åˆ° bitset çš„å¼ºåˆ¶ç±»å‹è½¬åŒ–</span><br>    std::bitset&lt;8&gt; testCase_7 = testCase_6;<br>    std::cout &lt;&lt; testCase_7 &lt;&lt; std::endl; <span class="hljs-comment">// 00000101</span><br><br>    std::cout &lt;&lt; (std::bitset&lt;<span class="hljs-number">8</span>&gt;)<span class="hljs-number">0xf</span> &lt;&lt; std::endl; <span class="hljs-comment">// 00001111</span><br>    std::cout &lt;&lt; (std::bitset&lt;<span class="hljs-number">8</span>&gt;)<span class="hljs-string">&quot;1111&quot;</span> &lt;&lt; std::endl; <span class="hljs-comment">// 00001111</span><br><br>    std::bitset&lt;10&gt; testCase_8 = <span class="hljs-number">0x7f</span>;<br>    std::cout &lt;&lt; testCase_8 &lt;&lt; std::endl; <span class="hljs-comment">// 0001111111</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æˆå‘˜æ–¹æ³•">æˆå‘˜æ–¹æ³•</h4><ul><li><p>æ”¯æŒä¸‹æ ‡ <code>operator[]</code></p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;10&gt; num = (std::bitset&lt;<span class="hljs-number">10</span>&gt;)<span class="hljs-string">&quot;111011&quot;</span>;<br>std::cout &lt;&lt; num[<span class="hljs-number">2</span>] &lt;&lt; std::endl; <span class="hljs-comment">// 0</span><br><span class="hljs-comment">// ä»ä½ä½å¼€å§‹</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>bitset</code> æ”¯æŒæ‰€æœ‰å¸¸è§„ä½è¿ç®—æ“ä½œ</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;10&gt; num = <span class="hljs-number">0xf</span>;<br><br>std::cout &lt;&lt; (num &amp; (std::bitset&lt;<span class="hljs-number">10</span>&gt;)<span class="hljs-number">0x12</span>) &lt;&lt; std::endl; <span class="hljs-comment">// 0000000010</span><br>std::cout &lt;&lt; (num | (std::bitset&lt;<span class="hljs-number">10</span>&gt;)<span class="hljs-number">0x12</span>) &lt;&lt; std::endl; <span class="hljs-comment">// 0000011111</span><br>std::cout &lt;&lt; (num ^ (std::bitset&lt;<span class="hljs-number">10</span>&gt;)<span class="hljs-number">0x12</span>) &lt;&lt; std::endl; <span class="hljs-comment">// 0000011101</span><br>std::cout &lt;&lt; (num &lt;&lt; <span class="hljs-number">2</span>) &lt;&lt; std::endl; <span class="hljs-comment">// 0000111100</span><br>std::cout &lt;&lt; (num &gt;&gt; <span class="hljs-number">2</span>) &lt;&lt; std::endl; <span class="hljs-comment">// 0000000011</span><br><br>num = <span class="hljs-number">-1</span>;<br>std::cout &lt;&lt; num &lt;&lt; std::endl; <span class="hljs-comment">// 1111111111</span><br>std::cout &lt;&lt; (num &gt;&gt; <span class="hljs-number">2</span>) &lt;&lt; std::endl; <span class="hljs-comment">// 0011111111</span><br><span class="hljs-comment">// å¯¹ bitset çš„å³ç§»éƒ½æ˜¯é€»è¾‘å³ç§»</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>set()</code> ï¼šè®¾ç½®å•ç‹¬ä½çš„å€¼</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;10&gt; num = <span class="hljs-number">-1</span>;<br>num.<span class="hljs-built_in">set</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// å°†ä¸‹æ ‡ä¸º 0 çš„ä½è®¾ç½®ä¸º 0</span><br>std::cout &lt;&lt; num &lt;&lt; std::endl; <span class="hljs-comment">// 1111111110</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>flip()</code> ï¼šå–åï¼Œæ— å‚æ•°æ—¶é»˜è®¤å¯¹å…¨éƒ¨ä½</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;10&gt; num = <span class="hljs-number">0xf</span>;<br>num.<span class="hljs-built_in">flip</span>();<br>std::cout &lt;&lt; num &lt;&lt; std::endl; <span class="hljs-comment">// 1111110000</span><br>num.<span class="hljs-built_in">flip</span>(<span class="hljs-number">1</span>);<br>std::cout &lt;&lt; num &lt;&lt; std::endl; <span class="hljs-comment">// 1111110010</span><br></code></pre></td></tr></table></figure></p></li><li><p>æ£€æŸ¥ä½</p><ul><li><code>all()</code> ï¼šåˆ¤æ–­æ˜¯å¦æ‰€æœ‰ä½éƒ½ä¸º 1</li><li><code>any()</code> ï¼šåˆ¤æ–­æ˜¯å¦æœ‰ä»»æ„ä¸€ä½ä¸º 1</li><li><code>none()</code> ï¼šåˆ¤æ–­æ˜¯å¦æ‰€æœ‰ä½ä¸º 0</li></ul><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;4&gt; num = <span class="hljs-number">0x7</span>;<br><br>std::cout &lt;&lt; num.<span class="hljs-built_in">all</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 0</span><br>std::cout &lt;&lt; num.<span class="hljs-built_in">any</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 1</span><br>std::cout &lt;&lt; num.<span class="hljs-built_in">none</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 0</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>count()</code> ï¼šè¿”å› 1 çš„æ•°é‡</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;4&gt; num = <span class="hljs-number">0x7</span>;<br><br>std::cout &lt;&lt; num.<span class="hljs-built_in">count</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure></p></li><li><p><code>size()</code> ï¼šè¿”å›ä½æ•°</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;10&gt; num;<br>std::cout &lt;&lt; num.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl; <span class="hljs-comment">// 10</span><br></code></pre></td></tr></table></figure></p></li><li><p>è½¬æ¢ï¼š</p><ul><li><code>to_string()</code> ï¼šè¿”å›æ•°æ®çš„å­—ç¬¦ä¸²ç±»å‹</li><li><code>to_ulong</code> ï¼šè¿”å›æ•°æ®çš„ <code>unsigned long</code>æ•´æ•°è¡¨ç¤º</li><li><code>to_ullong</code> ï¼šè¿”å›æ•°æ®çš„ <code>unsigned long long</code>æ•´æ•°è¡¨ç¤º</li></ul><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++">std::bitset&lt;8&gt; num_bit = <span class="hljs-number">0xf</span>;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> num_1 = num_bit.<span class="hljs-built_in">to_ulong</span>();<br><span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> num_2 = num_bit.<span class="hljs-built_in">to_ullong</span>();<br>std::string str = num_bit.<span class="hljs-built_in">to_string</span>();<br><br>std::cout &lt;&lt; num_1 &lt;&lt; std::endl; <span class="hljs-comment">// 15</span><br>std::cout &lt;&lt; num_2 &lt;&lt; std::endl; <span class="hljs-comment">// 15</span><br>std::cout &lt;&lt; str &lt;&lt; std::endl; <span class="hljs-comment">// 00001111</span><br></code></pre></td></tr></table></figure></p><p>â€‹</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>C/C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä½è¿ç®—</tag>
      
      <tag>C++</tag>
      
      <tag>STL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é“¾å¼å‰å‘æ˜Ÿä»‹ç»</title>
    <link href="/2023/03/06/%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F%E4%BB%8B%E7%BB%8D/"/>
    <url>/2023/03/06/%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<h4 id="ä»€ä¹ˆæ˜¯é“¾å¼å‰å‘æ˜Ÿ">ä»€ä¹ˆæ˜¯é“¾å¼å‰å‘æ˜Ÿï¼Ÿ</h4><p><strong>é“¾å¼å‰å‘æ˜Ÿ</strong>æ˜¯ä¸€ç§å¸¸ç”¨çš„å›¾å­˜å‚¨ç»“æ„ï¼Œå…¶æ€è·¯ç±»ä¼¼äºé‚»æ¥é“¾è¡¨æ³•ï¼Œåªæ˜¯å®ç°æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œé“¾å¼å‘å‰æ˜Ÿæ›´åƒæ˜¯<strong>ç”¨æ•°ç»„æ¨¡æ‹Ÿé“¾è¡¨</strong>ã€‚</p><p>ä¸ä¸€èˆ¬çš„é‚»æ¥é“¾è¡¨æ³•ä¸åŒï¼Œé“¾å¼å‘å‰æ˜Ÿå‚¨å­˜çš„å›¾çš„<strong>æ¯æ¡è¾¹éƒ½æœ‰ç¼–å·</strong>ã€‚</p><p>ä»¥ä¸‹æ˜¯é“¾å¼å‰å‘æ˜Ÿçš„å­˜å‚¨ç»“æ„ï¼š</p><ul><li><p><code>cnt</code> ï¼šç”¨æ¥è®°å½•å½“å‰æ‰€æœ‰è¾¹çš„æ•°é‡</p></li><li><p><code>first</code> æ•°ç»„ï¼šç”¨æ¥å­˜å‚¨ä»æŸä¸ªèŠ‚ç‚¹å‡ºå‘çš„ç¬¬ä¸€æ¡è¾¹ï¼Œä¾‹å¦‚<code>first[0] == 3</code> å¯ä»¥å¾—å‡ºä» <code>0</code>å·èŠ‚ç‚¹å‡ºå‘çš„ç¬¬ä¸€æ¡è¾¹çš„ç¼–å·ä¸º <code>3</code></p></li><li><p><code>edges</code> æ•°ç»„ï¼šç”¨æ¥è®°å½•æ¯æ¡è¾¹çš„ä¿¡æ¯ï¼Œå¯¹äºæ¯ä¸ª<code>edges[i]</code> éƒ½æœ‰ 3 ä¸ªåŸŸï¼š</p><ul><li><code>to</code> ï¼šè®°å½•è¾¹çš„ç»ˆç‚¹</li><li><code>weight</code> ï¼šè®°å½•è¾¹çš„æƒé‡</li><li><code>next</code> ï¼šè®°å½•ä»å½“å‰èµ·ç‚¹å‡ºå‘ä¸‹ä¸€æ¡è¾¹çš„ç¼–å·ï¼Œä¾‹å¦‚ï¼šè‹¥<code>edges[i]</code> çš„èµ·ç‚¹ä¸º <code>j</code> å·èŠ‚ç‚¹ï¼Œåˆ™<code>edges[i].next</code> è¡¨ç¤ºä» <code>j</code> å‡ºå‘çš„ä¸‹ä¸€æ¡è¾¹</li></ul></li></ul><p>ç¤ºä¾‹ï¼š</p><p><img src="https://p.ipic.vip/wvox68.png" alt="é“¾å¼å‘å‰æ˜Ÿå­˜å‚¨å›¾ç¤ºä¾‹" style="zoom:67%;" /></p><blockquote><p>å¦‚ä¸Šå›¾ï¼Œè¿™å°±æ˜¯é“¾å¼å‘å‰æ˜Ÿå­˜å‚¨å›¾çš„æ–¹å¼äº†ï¼Œå…¶ä¸­ç¼–å·ä¸º -1çš„è¾¹è¡¨ç¤ºä¸å­˜åœ¨ï¼Œå³æ²¡æœ‰å…¶ä»–çš„å‡ºè¾¹ã€‚</p><p>è‹¥æˆ‘ä»¬éœ€è¦æ–°å¢ä¸€æ¡ä» <code>i</code> åˆ° <code>j</code>çš„è¾¹ï¼Œåªéœ€æ›´æ–°åœ¨ <code>edges</code> æ•°ç»„å†…å¢åŠ å…ƒç´ å¹¶ä¸”ä½¿å…¶æ–°å¢è¾¹çš„<code>next</code> ç­‰äº <code>first[i]</code> ï¼Œç„¶åæ›´æ–°<code>first[i]</code> ä¸ºæ–°å¢çš„è¾¹çš„ç¼–å·å³å¯ã€‚</p></blockquote><h4 id="ä»£ç ">ä»£ç </h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_VERTEX 100000</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_EDGE 100000</span><br><br><span class="hljs-type">int</span> cnt; <span class="hljs-comment">// è¾¹çš„æ•°é‡</span><br><br><span class="hljs-type">int</span> first[MAX_VERTEX]; <span class="hljs-comment">// first æ•°ç»„</span><br><br><span class="hljs-keyword">struct</span> &#123;<br>    <span class="hljs-type">int</span> to;<br>    <span class="hljs-type">int</span> weight;<br>    <span class="hljs-type">int</span> next;<br>&#125; edges[MAX_EDGE]; <span class="hljs-comment">// è®°å½•è¾¹</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">initEdge</span><span class="hljs-params">()</span> </span>&#123;<br>    cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// åˆå§‹åŒ–ï¼Œå°† first æ•°ç»„å…¨åˆå§‹åŒ–ä¸º -1</span><br>    <span class="hljs-built_in">memset</span>(first, <span class="hljs-number">0xff</span>, <span class="hljs-built_in">sizeof</span>(first));<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addEdge</span><span class="hljs-params">(<span class="hljs-type">int</span> from, <span class="hljs-type">int</span> to, <span class="hljs-type">int</span> weight)</span> </span>&#123;<br>    edges[cnt] = &#123;to, weight, first[from]&#125;; <span class="hljs-comment">// æ–°å¢è¾¹</span><br>    first[from] = cnt; <span class="hljs-comment">// æ›´æ–° first æ•°ç»„</span><br>    cnt++; <span class="hljs-comment">// è¾¹æ•°å¢åŠ </span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">traverseEdgeFrom</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span> </span>&#123;<br>    <span class="hljs-comment">// éå†ä» v å‡ºå‘çš„æ‰€æœ‰è¾¹</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> p = first[v]; p != <span class="hljs-number">-1</span>; p = edges[p].next) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;eNo: &quot;</span> &lt;&lt; p &lt;&lt; <span class="hljs-string">&quot; to: &quot;</span> &lt;&lt; edges[p].to &lt;&lt; <span class="hljs-string">&quot; weight: &quot;</span> &lt;&lt; edges[p].weight &lt;&lt; std::endl;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å›¾è®º</tag>
      
      <tag>é“¾å¼å‰å‘æ˜Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ICG æ¸¸æˆåšå¼ˆé—®é¢˜ä¸ SG å®šç†</title>
    <link href="/2023/03/02/ICG%20%E6%B8%B8%E6%88%8F%E5%8D%9A%E5%BC%88%E9%97%AE%E9%A2%98%E4%B8%8E%20SG%20%E5%AE%9A%E7%90%86/"/>
    <url>/2023/03/02/ICG%20%E6%B8%B8%E6%88%8F%E5%8D%9A%E5%BC%88%E9%97%AE%E9%A2%98%E4%B8%8E%20SG%20%E5%AE%9A%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h3 id="icg-æ¸¸æˆ">ICG æ¸¸æˆ</h3><h4 id="å®šä¹‰">å®šä¹‰</h4><p><strong>ICG</strong> æ¸¸æˆæ˜¯åšå¼ˆæ¸¸æˆçš„ä¸€ç§ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p><ol type="1"><li>æ¸¸æˆç”±ä¸¤äººå‚åŠ ï¼Œä¸¤äººè½®æµåšå‡ºå†³ç­–</li><li>å½“æœ‰ä¸€äººæ— æ³•å†³ç­–å³æ— è®ºå¦‚ä½•éƒ½å¿…è´¥æ—¶å¯¹æ‰‹èƒœå‡ºï¼Œä¸” ICGæ¸¸æˆä¸€å®šä¼šåœ¨æœ‰é™æ­¥å†…å®Œæˆï¼Œæ¸¸æˆæ²¡æœ‰å¹³å±€</li><li>æ¸¸æˆçš„çŠ¶æ€è½¬ç§»æ˜¯å•å‘çš„ï¼ŒåŒä¸€ä¸ªçŠ¶æ€åªèƒ½è¾¾åˆ°ä¸€æ¬¡</li></ol><h4 id="å¿…èƒœç‚¹å’Œå¿…è´¥ç‚¹">å¿…èƒœç‚¹å’Œå¿…è´¥ç‚¹</h4><p>å¿…èƒœç‚¹ N ( Next ) å’Œå¿…è´¥ç‚¹ P ( Previous )æè¿°çš„æ˜¯æŸä¸ªæ¸¸æˆçŠ¶æ€å½“å‰çš„èƒœè´Ÿã€‚</p><p>è‹¥å½“å‰çŠ¶æ€ä¸ºå¿…èƒœç‚¹ N ï¼Œåˆ™å…ˆæ‰‹å¿…èƒœï¼Œåä¹‹ï¼Œè‹¥å½“å‰çŠ¶æ€ä¸ºå¿…è´¥ç‚¹ Pï¼Œåˆ™å…ˆæ‰‹å¿…è´¥ã€‚</p><p>å¯èƒ½åˆ°è¿™é‡Œä¸ºæ­¢å¤§å®¶è¿˜æ˜¯ä¼šè§‰å¾—æ¯”è¾ƒæŠ½è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»™å‡ºä¸€ä¸ªå®é™…ä¾‹å­ï¼š</p><p>å‡è®¾æœ‰ä¸€å †çŸ³å¤´ï¼Œä¸¤äººè½®æµä»è¿™å †çŸ³å¤´ä¸­å–èµ° 1 ~ 5 å—çŸ³å¤´ï¼Œåˆå§‹çŠ¶æ€ä¸‹æœ‰ nå—çŸ³å¤´ï¼Œé—® n ä¸ºä½•å€¼æ—¶å…ˆæ‰‹å¿…èƒœï¼Ÿ</p><p>å…ˆè¯´ç»“è®ºï¼š<code>n % 6 != 0</code> æ—¶å…ˆæ‰‹å¿…èƒœã€‚</p><p>åŸå› ååˆ†ç®€å•ï¼Œè‹¥ n ä¸æ˜¯ 6 çš„å€æ•°ï¼Œåˆ™å…ˆæ‰‹ä¸€å®šå¯ä»¥å–èµ° 1 ï½ 5å—å†…çš„çŸ³å¤´ä½¿å¾—å–èµ°çŸ³å¤´åè¿™å †çŸ³å¤´çš„æ•°é‡èƒ½è¢« 6 æ•´é™¤ï¼Œæ­¤åï¼Œå¯¹æ‰‹åªè¦å–èµ° må—çŸ³å¤´ï¼Œæˆ‘ä»¬å°±å–èµ° 6 - må—çŸ³å¤´ï¼Œ<strong>å¯ä»¥ä¿è¯æˆ‘ä»¬æ¯æ¬¡å–å®ŒåçŸ³å¤´çš„æ•°é‡éƒ½æ˜¯ 6çš„å€æ•°</strong>ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæœ€åçš„çŸ³å¤´ä¸€å®šæ˜¯è¢«æˆ‘ä»¬å–èµ°ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°çŸ³å¤´æ•°é‡ n å¯¹åº”çš„ NP çŠ¶æ€ï¼š</p><table style="width:100%;"><thead><tr class="header"><th>n</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>...</th></tr></thead><tbody><tr class="odd"><td><strong>state</strong></td><td><strong>P</strong></td><td><strong>N</strong></td><td><strong>N</strong></td><td><strong>N</strong></td><td><strong>N</strong></td><td><strong>N</strong></td><td><strong>P</strong></td><td><strong>N</strong></td><td><strong>N</strong></td><td><strong>N</strong></td><td><strong>...</strong></td></tr></tbody></table><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸éš¾å¾—å‡ºç»“è®ºï¼š</p><ul><li><strong>æ‰€æœ‰å¿…èƒœç‚¹å¿…ç„¶å¯ä»¥åœ¨ä¸€æ­¥æ“ä½œå†…è½¬ç§»åˆ°å¿…è´¥ç‚¹</strong></li><li><strong>æ‰€æœ‰å¿…è´¥ç‚¹æ— è®ºå¦‚ä½•æ“ä½œåªèƒ½è½¬ç§»åˆ°å¿…èƒœç‚¹</strong></li></ul><h3 id="sg-å®šç†">SG å®šç†</h3><p>SG æ˜¯ Sprague-Grundy çš„ç¼©å†™ï¼ŒSG å®šç†æ˜¯å¤„ç† ICGåšå¼ˆé—®é¢˜çš„é‡è¦æ–¹æ³•ï¼Œåœ¨è®²è§£å…¶ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç®€è¦ä»‹ç»ä¸€ä¸‹ SGå‡½æ•°çš„å®šä¹‰ã€‚</p><h4 id="sg-å‡½æ•°">SG å‡½æ•°</h4><p>é¦–å…ˆæˆ‘ä»¬å®šä¹‰ <strong><span class="math inline">\(mex\)</span> (minimal excludant )</strong> è¿ç®—ï¼Œ<spanclass="math inline">\(mex(F)\)</span> å³è¡¨ç¤ºä¸å±äºéè´Ÿæ•´æ•°é›† <spanclass="math inline">\(F\)</span> ä¸­æœ€å°çš„å…ƒç´ ï¼š</p><p>ä¾‹å¦‚ï¼š <span class="math display">\[\begin{array}{}mex(\{1, 2, 3\}) = 0 \\mex(\{0, 1, 3, 4\}) = 2 \\mex(\emptyset) = 0\end{array}\]</span> ä»€ä¹ˆæ˜¯ SG å€¼ï¼Ÿ</p><p>SGå€¼æ˜¯ä¸€ç§é€šè¿‡é€’å½’å®šä¹‰çš„å€¼ï¼Œå®ƒä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œå¯ä»¥ç”¨æ¥æè¿°æ¸¸æˆçŠ¶æ€æ˜¯å¿…èƒœç‚¹è¿˜æ˜¯å¿…è´¥ç‚¹ï¼Œå‡è®¾æ¸¸æˆçŠ¶æ€<span class="math inline">\(V_i\)</span> çš„ SG å€¼ä¸º <spanclass="math inline">\(SG(V_i)\)</span> ï¼Œé‚£ä¹ˆå…¶çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š <spanclass="math display">\[SG(V_i) = mex(\{SG(V_j) \ | \ V_i \rightarrow V_j \})\]</span> å…¶æ•°å€¼ä¸Šç­‰äºä¸ <span class="math inline">\(V_i\)</span>æ‰€æœ‰åç»§çŠ¶æ€çš„ SG å€¼ä¸ç›¸ç­‰çš„æœ€å°éè´Ÿæ•´æ•°ã€‚</p><p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€æ¡é‡è¦ç»“è®ºï¼š<strong>SG å€¼ä¸ä¸º 0 çš„çŠ¶æ€ä¸ºå¿…èƒœç‚¹ï¼ŒSGå€¼ä¸º 0 çš„çŠ¶æ€ä¸ºå¿…è´¥ç‚¹</strong>ã€‚</p><p>è¿™ä¸ªç»“è®ºå¾ˆå¥½è¯æ˜ï¼šè‹¥ SG å€¼ä¸ä¸º 0ï¼Œè¯´æ˜è¯¥çŠ¶æ€ä¸€å®šèƒ½ä¸€æ­¥è½¬ç§»åˆ° SG å€¼ä¸º0 çš„çŠ¶æ€ï¼Œå³å¯ä»¥ä¸€æ­¥è½¬ç§»åˆ°å¿…è´¥ç‚¹ï¼Œæ‰€ä»¥è¯¥çŠ¶æ€ä¸€å®šä¸ºå¿…èƒœç‚¹ï¼›åä¹‹ï¼Œè‹¥ SGå€¼ä¸º0ï¼Œåˆ™è¯¥çŠ¶æ€æ— æ³•ä¸€æ­¥è½¬ç§»åˆ°å¿…è´¥ç‚¹ï¼Œåªèƒ½è½¬ç§»åˆ°å¿…èƒœç‚¹æˆ–è€…æ— æ³•å†³ç­–ï¼Œæ•…è¯¥ç‚¹ä¸€å®šä¸ºå¿…è´¥ç‚¹ã€‚</p><p>æˆ‘ä»¬è¿˜æ˜¯ç”¨ä¸Šè¿°çš„å–çŸ³å¤´é—®é¢˜æ¥ä¸¾ä¾‹è¯´æ˜ï¼Œåˆ™ä¸åŒçŸ³å¤´æ•°é‡ n å¯¹åº”çš„ SGå€¼å¦‚ä¸‹ï¼š</p><table style="width:100%;"><thead><tr class="header"><th>n</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th></tr></thead><tbody><tr class="odd"><td><strong>SG(n)</strong></td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td></tr></tbody></table><p><span class="math display">\[\begin{array}{}SG(0) = mex(\emptyset) = 0 \\SG(1) = mex(\{0\}) = 1 \\SG(2) = mex(\{0, 1\}) = 2 \\SG(3) = mex(\{0, 1, 2\}) = 3 \\SG(4) = mex(\{0, 1, 2, 3\}) = 4 \\SG(5) = mex(\{0, 1, 2, 3, 4\}) = 5 \\SG(6) = mex(\{1, 2, 3, 4, 5\}) = 0 \\... \newlineSG(10) = mex(\{5, 0, 1, 2, 3\}) = 4 \\...\end{array}\]</span></p><h4 id="sg-å®šç†è¯¦è§£">SG å®šç†è¯¦è§£</h4><p>ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº† SG å‡½æ•°çš„å®šä¹‰ï¼Œé‚£ SG å®šç†åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><hr /><h5 id="ä»€ä¹ˆæ˜¯-sg-å®šç†">ä»€ä¹ˆæ˜¯ SG å®šç† ?</h5><p>SG å®šç†æŒ‡çš„æ˜¯<strong>è‹¥ä¸€ä¸ª ICGåšå¼ˆæ¸¸æˆçš„æ¸¸æˆçŠ¶æ€å¯ä»¥åˆ†ä¸ºå¤šä¸ªå­çŠ¶æ€ï¼Œä¸”å­çŠ¶æ€äº’ç›¸ç‹¬ç«‹ï¼Œåˆ™è¯¥æ¸¸æˆçŠ¶æ€ä¸‹çš„SG å€¼ç­‰äºæ‰€æœ‰å­çŠ¶æ€çš„ SG å€¼çš„å¼‚æˆ–å€¼</strong>ã€‚</p><p>è¿™åˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨å–çŸ³å¤´çš„ä¾‹å­æ¥è¯´æ˜ï¼š</p><p>å‡è®¾ç°åœ¨æœ‰ <span class="math inline">\(k\)</span> å †çŸ³å¤´ï¼Œæ¯å †çŸ³å¤´æœ‰<span class="math inline">\(n_i(i = 1, 2, ...,k)\)</span> å—çŸ³å¤´ï¼Œä¸¤ä¸ªäººè½®æµä»æ¯ä¸€å †çŸ³å¤´ä¸­å–èµ° <span class="math inline">\([1,m]\)</span> å—çŸ³å¤´ï¼Œå…ˆå–å®Œæ‰€æœ‰çŸ³å¤´çš„ä¸€æ–¹è·èƒœã€‚æˆ‘ä»¬è®¾æ­¤åˆ»æ¸¸æˆçŠ¶æ€çš„ SGå€¼ä¸º <span class="math inline">\(SG((n_1, n_2, ..., n_k))\)</span> ï¼Œç”±SG å®šç†å¯å¾—ï¼š <span class="math display">\[SG((n_1, n_2, ..., n_k)) = SG(n_1) \oplus SG(n_2) \oplus ... \oplusSG(n_k)\]</span></p><ul><li><span class="math inline">\(SG((n_1, n_2, ..., n_k)) \neq 0\)</span>ï¼šå…ˆæ‰‹èƒœ</li><li><span class="math inline">\(SG((n_1, n_2, ..., n_k)) = 0\)</span>ï¼šå…ˆæ‰‹è´¥</li></ul><p>ä»¥ä¸Šå°±æ˜¯å®Œæ•´çš„ SG å®šç†äº†ã€‚</p><h5 id="sg-å®šç†çš„åˆç†æ€§">SG å®šç†çš„åˆç†æ€§</h5><p>ä¸ºä»€ä¹ˆ SGå®šç†ä¼šä¸ä½è¿ç®—çš„å¼‚æˆ–æœ‰å…³å‘¢ï¼Ÿå®ƒä»¬æ˜¯å¦‚ä½•è”ç³»ä¸Šçš„ï¼Ÿä¸ºä»€ä¹ˆè¿™ç§è®¡ç®—æ˜¯åˆç†çš„å‘¢ï¼Ÿ</p><p>ä»¥ä¸‹æˆ‘ä»¬ç»™å‡ºç®€è¦çš„è¯æ˜ï¼š</p><p>æ ¹æ® SG å€¼çš„å®šä¹‰ï¼Œå¿…è´¥ç‚¹çš„ SG å€¼ä¸€å®šä¸º0ï¼Œå¯¹äºæ­¤é¢˜è€Œè¨€ï¼Œæ¸¸æˆçš„ç»ˆç‚¹å°±æ˜¯æ‰€æœ‰çš„çŸ³å¤´è¢«å–å®Œï¼Œæ­¤æ—¶ SG å€¼æ˜¯ k ä¸ª 0çš„å¼‚æˆ–å€¼ï¼Œæ˜¾ç„¶ä¸º 0ã€‚</p><p>è‹¥å½“å‰çš„ SG å€¼ä¸ä¸º 0ï¼Œæˆ‘ä»¬å‡è®¾ï¼š <span class="math display">\[SG((n_1, n_2, ..., n_k)) = {001010..}_2\]</span> æˆ‘ä»¬æ‰¾åˆ°è¯¥ SG å€¼æ•°å€¼ä¸º 1çš„æœ€é«˜ä½ï¼Œç”±å¼‚æˆ–è¿ç®—ç¬¦çš„æ€§è´¨ï¼Œå¿…ç„¶å­˜åœ¨å¥‡æ•°ä¸ªå­çŠ¶æ€çš„ SG å€¼è¯¥ä½ä¸º1ï¼Œæˆ‘ä»¬ä¸å¦¨å‡è®¾å…¶ä¸­ä¸€ä¸ªå­çŠ¶æ€å¯¹åº”çš„ SG å€¼ä¸º <spanclass="math inline">\(SG_0\)</span> ï¼Œç”± SGå€¼çš„å®šä¹‰ï¼Œè¯¥çŠ¶æ€ä¸€å®šå¯ä»¥ä¸€æ­¥ä¹‹å†…è½¬å˜ä¸ºä»»ä½• SG å€¼å°äº <spanclass="math inline">\(SG_0\)</span> çš„çŠ¶æ€ï¼Œ<spanclass="math inline">\(SG_0\)</span> å¯¹åº”æ¯çŠ¶æ€ä¸‹æ•°å€¼ä¸º 1çš„æœ€é«˜ä½çš„å€¼ä¹Ÿä¸º 1ï¼Œæˆ‘ä»¬è®©å…¶å˜ä¸º0ï¼Œç„¶åä»è¿™ä¸€ä½å¼€å§‹ä¹‹åå…¨éƒ¨ä½å–åï¼Œåˆ™ä¸€å®šå¯ä»¥å°†æ¯çŠ¶æ€çš„ SG å€¼å˜ä¸º0ã€‚</p><center>0 1 0 1 1 1<br> <strong>0 1 1 0 0 0</strong><br> <ins>0 1 0 1 01</ins><br> 0 1 1 0 1 0<br> å¦‚ä¸Šï¼Œæˆ‘ä»¬å°†ç¬¬äºŒä¸ªå­çŠ¶æ€ çš„ SG å€¼è½¬ç§»åˆ° 0 00 1 1 1ï¼Œå°±å°†æ¯çŠ¶æ€çš„ SG å€¼è½¬åŒ–ä¸º 0 äº†<br> 0 1 0 1 1 1<br> <strong>0 0 01 1 1</strong><br> <ins>0 1 0 1 0 1</ins><br> 0 0 0 0 0 0<br></center><p>åä¹‹ï¼Œå¦‚æœæ¯çŠ¶æ€çš„ SG å€¼ä¸º0ï¼Œåˆ™æ”¹å˜ä»»ä½•ä¸€ä¸ªå­çŠ¶æ€ï¼Œç”±äºå¼‚æˆ–è¿ç®—çš„æ€§è´¨ï¼Œæ¯çŠ¶æ€çš„ SGå€¼ä¸€å®šæ— æ³•ç»´æŒä¸º 0ã€‚</p><p>è€Œæ ¹æ® ICG åšå¼ˆæ¸¸æˆçš„å®šä¹‰ï¼Œæ¸¸æˆä¸€å®šä¼šåœ¨æœ‰é™æ­¥å†…å®Œæˆï¼Œæ•…æ‰€æœ‰å­çŠ¶æ€ SGå€¼çš„å¼‚æˆ–è¿ç®—ä¸ä¸º 0 çš„æ¯çŠ¶æ€ä¸€å®šæ˜¯å¿…èƒœç‚¹ã€‚</p><h3 id="å®é™…åº”ç”¨">å®é™…åº”ç”¨</h3><blockquote><p><strong>Fibonacci again and again</strong></p><p>Problem Description ä»»ä½•ä¸€ä¸ªå¤§å­¦ç”Ÿå¯¹è²æ³¢é‚£å¥‘æ•°åˆ—(Fibonaccinumbers)åº”è¯¥éƒ½ä¸ä¼šé™Œç”Ÿï¼Œå®ƒæ˜¯è¿™æ ·å®šä¹‰çš„ï¼š F(1) = 1ï¼› F(2) = 2ï¼› F(n) =F(n - 1) + F(n - 2) ( n &gt;= 3 )ï¼› æ‰€ä»¥ï¼Œ1, 2, 3, 5, 8, 13, ...å°±æ˜¯è²æ³¢é‚£å¥‘æ•°åˆ—ã€‚ ä»Šå¤©ï¼Œåˆä¸€ä¸ªå…³äº Fibonacciçš„é¢˜ç›®å‡ºç°äº†ï¼Œå®ƒæ˜¯ä¸€ä¸ªå°æ¸¸æˆï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</p><ol type="1"><li>è¿™æ˜¯ä¸€ä¸ªäºŒäººæ¸¸æˆï¼›</li><li>ä¸€å…±æœ‰ 3 å †çŸ³å­ï¼Œæ•°é‡åˆ†åˆ«æ˜¯ m, n, p ä¸ªï¼›</li><li>ä¸¤äººè½®æµèµ°ï¼›</li><li>æ¯èµ°ä¸€æ­¥å¯ä»¥é€‰æ‹©ä»»æ„ä¸€å †çŸ³å­ï¼Œç„¶åå–èµ°fä¸ªï¼›</li><li>f åªèƒ½æ˜¯è²æ³¢é‚£å¥‘æ•°åˆ—ä¸­çš„å…ƒç´  ( å³æ¯æ¬¡åªèƒ½å–1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ8 â€¦ ç­‰æ•°é‡)ï¼›</li><li>æœ€å…ˆå–å…‰æ‰€æœ‰çŸ³å­çš„äººä¸ºèƒœè€…ï¼›</li></ol><p>å‡è®¾åŒæ–¹éƒ½ä½¿ç”¨æœ€ä¼˜ç­–ç•¥ï¼Œè¯·åˆ¤æ–­å…ˆæ‰‹çš„äººä¼šèµ¢è¿˜æ˜¯åæ‰‹çš„äººä¼šèµ¢ã€‚</p><p><strong>Input</strong>è¾“å…¥æ•°æ®åŒ…å«å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å ä¸€è¡Œï¼ŒåŒ…å« 3 ä¸ªæ•´æ•° m, n, p ( 1&lt;= m, n, p &lt;= 1000 )ã€‚ m = n = p = 0 åˆ™è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚</p><p><strong>Output</strong>å¦‚æœå…ˆæ‰‹çš„äººèƒ½èµ¢ï¼Œè¯·è¾“å‡ºâ€œFiboâ€ï¼Œå¦åˆ™è¯·è¾“å‡ºâ€œNacciâ€ï¼Œæ¯ä¸ªå®ä¾‹çš„è¾“å‡ºå ä¸€è¡Œã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs input">1 1 1<br>1 4 1<br>0 0 0<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs output">Fibo<br>Nacci<br></code></pre></td></tr></table></figure></blockquote><p><strong>åˆ†æ</strong>ï¼š</p><p>æœ¬é¢˜æ‰€æè¿°çš„æ¸¸æˆå°±æ˜¯ä¸€ç§ ICGåšå¼ˆï¼Œä¸”ä¸‰å †çŸ³å¤´äº’ä¸å½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ SG å®šç†æ±‚è§£ï¼Œå†åŠ ä¸Šè®°å¿†åŒ–DFS ä¼˜åŒ–ï¼Œå¾ˆå®¹æ˜“å°±èƒ½æ±‚è§£æ­¤é—®é¢˜ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä»£ç ğŸ˜ã€‚</p><p><strong>ä»£ç </strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_FIB_NUM 50</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_AMOUNT 1005</span><br><br><span class="hljs-type">int</span> Fibonacci[MAX_FIB_NUM]; <span class="hljs-comment">// å‚¨å­˜ Fibonacci æ•°åˆ—çš„å€¼</span><br><span class="hljs-type">int</span> SG[MAX_AMOUNT]; <span class="hljs-comment">// è®°å½• SG å€¼ï¼Œåˆå§‹åŒ–ä¸º -1</span><br><br><span class="hljs-comment">// è®°å¿†åŒ–æœç´¢</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">fib</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (Fibonacci[n]) &#123;<br>        <span class="hljs-keyword">return</span> Fibonacci[n];<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>        Fibonacci[n] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) &#123;<br>        Fibonacci[n] = <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>    &#125;<br><br>    Fibonacci[n] = <span class="hljs-built_in">fib</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-built_in">fib</span>(n - <span class="hljs-number">2</span>); <span class="hljs-comment">// è®°å¿†</span><br><br>    <span class="hljs-keyword">return</span> Fibonacci[n];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">sg</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-comment">// è¿”å› SG å€¼</span><br>    <span class="hljs-keyword">if</span> (SG[n] &gt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> SG[n];<br>    &#125;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>        SG[n] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-type">bool</span> vis[MAX_AMOUNT] = &#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// è®°å½•å½“å‰çŠ¶æ€å¯è¾¾çŠ¶æ€çš„ SG å€¼æ˜¯å¦å‡ºç°è¿‡</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; n - <span class="hljs-built_in">fib</span>(i) &gt;= <span class="hljs-number">0</span>; i++) &#123;<br>        vis[<span class="hljs-built_in">sg</span>(n - <span class="hljs-built_in">fib</span>(i))] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-comment">// è®°å½•å·²å‡ºç°çš„ SG å€¼</span><br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; MAX_AMOUNT; i++) &#123;<br>        <span class="hljs-keyword">if</span> (!vis[i]) &#123;<br>            SG[n] = i;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> SG[n];<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br><br>    <span class="hljs-built_in">memset</span>(SG, <span class="hljs-number">0xff</span>, <span class="hljs-built_in">sizeof</span>(SG)); <span class="hljs-comment">// åˆå§‹åŒ–</span><br>    <span class="hljs-type">int</span> m, n, p;<br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; m &gt;&gt; n &gt;&gt; p, m != <span class="hljs-number">0</span> || n != <span class="hljs-number">0</span> || p != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">sg</span>(m) ^ <span class="hljs-built_in">sg</span>(n) ^ <span class="hljs-built_in">sg</span>(p)) &#123;<br>            <span class="hljs-comment">// SG å®šç†</span><br>            cout &lt;&lt; <span class="hljs-string">&quot;Fibo&quot;</span> &lt;&lt; endl;<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            cout &lt;&lt; <span class="hljs-string">&quot;Nacci&quot;</span> &lt;&lt; endl;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SG å®šç†</tag>
      
      <tag>SG å‡½æ•°</tag>
      
      <tag>ç»„åˆåšå¼ˆ</tag>
      
      <tag>ç»„åˆæ•°å­¦</tag>
      
      <tag>è®°å¿†åŒ–æœç´¢</tag>
      
      <tag>ä½è¿ç®—</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®°å¿†åŒ– DFS</title>
    <link href="/2023/02/26/%E8%AE%B0%E5%BF%86%E5%8C%96%20DFS/"/>
    <url>/2023/02/26/%E8%AE%B0%E5%BF%86%E5%8C%96%20DFS/</url>
    
    <content type="html"><![CDATA[<h4 id="å¼•å…¥">å¼•å…¥</h4><p>è®°å¿†åŒ–DFSï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯<strong>å¸¦æœ‰è®°å¿†çš„æ·±åº¦ä¼˜å…ˆæœç´¢</strong>ã€‚</p><p>æ€»æ‰€å‘¨çŸ¥ï¼Œç”¨ç¨‹åºå®ç° Fibonacci æ•°åˆ—æ±‚å€¼æœ‰ä¸¤ç§å¸¸è§æ–¹å¼ï¼š</p><ul><li><p>é€šè¿‡è¿­ä»£å³éé€’å½’çš„æ–¹å¼ï¼š</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Fibonacci</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span> || n == <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> pre = <span class="hljs-number">1</span>, next = <span class="hljs-number">1</span>, sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (n-- &gt; <span class="hljs-number">2</span>) &#123;<br>        sum = pre + next;<br>        pre = next;<br>        next = sum;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br></code></pre></td></tr></table></figure></p></li><li><p>é€šè¿‡é€’å½’æ–¹å¼ï¼š</p><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Fibonacci</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span> || n == <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Fibonacci</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-built_in">Fibonacci</span>(n - <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure></p></li></ul><p>ä¸Šè¿°ä¸¤ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œè¿­ä»£æ–¹å¼æ•ˆç‡æ›´é«˜ï¼Œä½†æ˜¯å†™èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼›é€’å½’æ–¹å¼è¿è¡Œæ•ˆç‡ä½ï¼Œä½†æ˜¯ä»£ç å®ç°å®¹æ˜“ã€‚</p><p><em>æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼å¯ä»¥ç»“åˆä¸¤è€…çš„ä¼˜ç‚¹å‘¢ï¼Ÿ</em></p><p>å¯¹äºç¬¬äºŒç§é€’å½’æ–¹å¼ï¼Œå…¶ä¸»è¦çš„æ—¶é—´å¼€é”€åœ¨äºè®¡ç®—äº†è®¸å¤šé‡å¤å†…å®¹ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥ç»´æŠ¤å·²ç»è®¡ç®—è¿‡çš„å€¼å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯æ˜¾ç„¶çš„ï¼Œäºæ˜¯æˆ‘ä»¬å°±æœ‰äº† â€”â€” <strong>è®°å¿†åŒ– DFS</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> fib[MAX_NUM]; <span class="hljs-comment">// è®°å¿†æ•°ç»„</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Fibonacci</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (fib[n]) &#123;<br>        <span class="hljs-keyword">return</span> fib[n]; <span class="hljs-comment">// å·²ç»è®¡ç®—è¿‡çš„å€¼ç›´æ¥è¿”å›</span><br>    &#125;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span> || n == <span class="hljs-number">2</span>) &#123;<br>        fib[n] = <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        fib[n] = <span class="hljs-built_in">Fibonacci</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-built_in">Fibonacci</span>(n - <span class="hljs-number">2</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> fib[n];<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä»¥é€’å½’çš„æ–¹å¼å®ç°ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦å¯ä»¥é™åˆ°çº¿æ€§ï¼Œå’Œè¿­ä»£å½¢å¼ä¸€æ ·ï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºæˆ‘ä»¬éœ€è¦é¢å¤–çš„ç©ºé—´å¼€é”€æ¥è®°å½•å·²ç»è®¡ç®—è¿‡çš„å€¼ã€‚</p><p>å¯èƒ½æœ‰åŒå­¦å°±æœ‰ç–‘é—®äº†ï¼š</p><p><em>ä¸Šè¿°ä¾‹å­å¾ˆå®¹æ˜“ç”¨ DP æ¥å®ç°ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦è®°å¿†åŒ– DFS å‘¢ï¼Ÿ</em></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†ç»™å‡ºå‡ ä¸ªå®é™…ä¾‹å­åŠ ä»¥è¯´æ˜ã€‚</p><h4 id="å®ä¾‹åˆ†æ">å®ä¾‹åˆ†æ</h4><h5 id="æ¡ˆä¾‹ä¸€">æ¡ˆä¾‹ä¸€</h5><blockquote><p><strong>çŒ«å’Œè€é¼ </strong></p><p>Problem Description æœ‰ä¸ªå°è€é¼ åœ¨æ ¡å›­é‡Œæ”¶è—äº†ä¸€äº›å®ƒæœ€çˆ±åƒçš„å¥¶é…ªã€‚æ ¡å›­å¯ä»¥çœ‹æˆä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ­£æ–¹å½¢ç½‘æ ¼ï¼Œæ¯ä¸ªç½‘æ ¼å¯ä»¥æ ‡è®°ä¸º (p, q) ï¼Œå…¶ä¸­ï¼Œ0&lt;= p , q &lt; nã€‚æ¯ä¸ªç½‘æ ¼éƒ½æœ‰ä¸€ä¸ªæ´ï¼Œé‡Œé¢å‚¨å­˜äº† kï¼ˆ0 &lt;= k &lt;=100ï¼‰å—å¥¶é…ªã€‚</p><p>ç°åœ¨ï¼Œå°è€é¼ å‡†å¤‡äº«ç”¨è¿™äº›ç¾å‘³å•¦ã€‚</p><p>å¼€å§‹çš„æ—¶å€™ï¼Œä»–åœ¨ (0, 0)è¿™ä¸ªä½ç½®ï¼Œæ¯åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œå®ƒéƒ½ä¼šåƒå…‰è¿™ä¸ªåœ°æ–¹çš„å¥¶é…ªï¼Œç„¶åæ²¿ç€æ°´å¹³æˆ–è€…å‚ç›´çš„æ–¹å‘åˆ°è¾¾å¦å¤–ä¸€ä¸ªåœ°æ–¹ã€‚éº»çƒ¦çš„æ˜¯ï¼Œæœ‰ä¸ªå¾ˆå‡¶çš„çŒ«æ€»æ˜¯åœ¨å®ƒçš„æ´å£é™„è¿‘ï¼Œæ‰€ä»¥ä»–æ¯æ¬¡æœ€å¤šç§»åŠ¨kä¸ªä½ç½®ï¼Œå¦åˆ™å°±ä¼šè¢«è¿™åªçŒ«åƒæ‰ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œæ¯åœ¨ä¸€ä¸ªåœ°æ–¹åƒè¿‡å¥¶é…ªï¼Œå°è€é¼ éƒ½ä¼šå˜èƒ–ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†è·å¾—è¶³å¤Ÿä¸‹ä¸€æ¬¡é€ƒè·‘çš„èƒ½é‡ï¼Œå®ƒæ¯æ¬¡åªèƒ½å»æ¯”å½“å‰ä½ç½®çš„å¥¶é…ªæ›´å¤šçš„æ ¼å­ã€‚ç°åœ¨å·²çŸ¥ n å’Œ kï¼Œä»¥åŠåœ¨æ¯ä¸ªç½‘æ ¼çš„æ´ä¸­å°è€é¼ å‚¨å­˜çš„å¥¶é…ªçš„æ•°é‡ï¼Œè¯·è®¡ç®—å°è€é¼ åœ¨æ— æ³•ç§»åŠ¨ä¹‹å‰ï¼Œä¸€å…±æœ€å¤šèƒ½åƒåˆ°å¤šå°‘å—å¥¶é…ªã€‚</p><p>Input é¢˜ç›®åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æµ‹è¯•æ•°æ®ç»„æˆå¦‚ä¸‹ï¼š é¦–å…ˆä¸€è¡ŒåŒ…å«2ä¸ªä¸è¶…è¿‡100çš„æ­£æ•´æ•° n å’Œ k ;æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡ŒåŒ…å«nä¸ªæ•°ï¼š ç¬¬ä¸€è¡Œ n ä¸ªæ•°åˆ†åˆ«è¡¨ç¤º (0, 0), (0, 1), â€¦ (0,n - 1) è¿™äº›ä½ç½®å‚¨å­˜çš„å¥¶é…ªæ•°é‡ï¼› ç¬¬äºŒè¡Œ n ä¸ªæ•°åˆ†åˆ«è¡¨ç¤º (1, 0), (1, 1), â€¦(1, n - 1) è¿™äº›ä½ç½®å‚¨å­˜çš„å¥¶é…ªæ•°é‡ï¼› ä»¥æ­¤ç±»æ¨...</p><p>è¾“å…¥æ•°æ®ä»¥ä¸¤ä¸ª -1 ç»“æŸã€‚</p><p>Output è¯·è¾“å‡ºå°è€é¼ æœ€å¤š èƒ½å¤Ÿåƒåˆ°çš„å¥¶é…ªæ•°é‡ï¼Œæ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œã€‚</p><p>è¾“å…¥æ¡ˆä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs input">3 1<br>1 2 5<br>10 11 6<br>12 12 7<br>-1 -1<br></code></pre></td></tr></table></figure><p>è¾“å‡ºæ¡ˆä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs output">37<br></code></pre></td></tr></table></figure></blockquote><p><strong>åˆ†æ</strong>ï¼š</p><p>æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬å‡è®¾ä» <span class="math inline">\((x, y)\)</span>å‡ºå‘çš„è€é¼ å¯ä»¥åƒåˆ°çš„æœ€å¤§å¥¶é…ªæ•°é‡ä¸º <span class="math inline">\(ans(x,y)\)</span>ï¼Œ<span class="math inline">\((x, y)\)</span> å¤„çš„èŠå£«å‚¨é‡ä¸º<span class="math inline">\(cheese(x, y)\)</span>ï¼Œè€é¼ å¯ä»¥ä» <spanclass="math inline">\((x, y)\)</span> å‡ºå‘åœ¨ä¸€æ¬¡ <spanclass="math inline">\(k\)</span> æ­¥ä»¥å†…çš„ç§»åŠ¨ä¸­åˆ°è¾¾çš„åæ ‡çš„é›†åˆä¸º <spanclass="math inline">\(S = \{(x_1, y_1), (x_2, y_2), (x_3, y_3),...\}\)</span>ï¼Œä¸éš¾å¾—å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š <span class="math display">\[ans(x, y) = max_{(x_n, y_n) \in S} ans(x_n, y_n) \ + \ cheese(x, y)\]</span>å¦‚æœç›´æ¥ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ï¼Œè¿™ä¸ªé—®é¢˜çš„å¤„ç†ä¼šç›¸å½“å¤æ‚ï¼Œå› ä¸ºæˆ‘ä»¬éš¾ä»¥ä»è¯¥çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸­ç¡®å®šDP çš„èµ·ç‚¹å’Œ DP çš„æ–¹å‘ï¼Œæ‰€ä»¥ç›´æ¥é‡‡ç”¨è¿­ä»£çš„æ–¹å¼ææ€•ä¸ç°å®ã€‚</p><p>äºæ˜¯æˆ‘ä»¬ä¾¿è€ƒè™‘åˆ°å¯ä»¥ä½¿ç”¨è®°å¿†åŒ–DFSï¼Œæ—¢ä¿è¯äº†æ•ˆç‡ï¼Œåˆé™ä½äº†ç¼–ç éš¾åº¦ã€‚</p><p><strong>ä»£ç </strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;array&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_LENG 105</span><br><br><span class="hljs-type">int</span> cheese[MAX_LENG][MAX_LENG];<br><span class="hljs-type">int</span> ans[MAX_LENG][MAX_LENG]; <span class="hljs-comment">// å‚¨å­˜ç»“æœï¼Œåˆå§‹åŒ–ä¸º -1</span><br><br><span class="hljs-type">int</span> n, k;<br><span class="hljs-type">const</span> vector&lt;array&lt;<span class="hljs-type">int</span>, 2&gt;&gt; dirs = &#123;<br>    &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;,<br>    &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;,<br>    &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>&#125;,<br>    &#123;<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;<br>&#125;; <span class="hljs-comment">// è¿åŠ¨æ–¹å‘</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>    <span class="hljs-comment">// è®°å¿†åŒ– DFS</span><br>    <span class="hljs-comment">// è¿”å›ä»¥ (x, y) ä¸ºèµ·ç‚¹å¯ä»¥åƒåˆ°æœ€å¤šçš„å¥¶é…ª</span><br>    <span class="hljs-keyword">if</span> (ans[x][y] &gt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// å·²ç»è®¡ç®—è¿‡çš„å€¼</span><br>        <span class="hljs-keyword">return</span> ans[x][y];<br>    &#125;<br>    ans[x][y] = cheese[x][y];<br>    <span class="hljs-type">int</span> plusCheese = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; dir :dirs) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> s = <span class="hljs-number">1</span>; s &lt;= k; s++) &#123;<br>            <span class="hljs-type">int</span> nx = x + s * dir[<span class="hljs-number">0</span>];<br>            <span class="hljs-type">int</span> ny = y + s * dir[<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (nx &gt;= <span class="hljs-number">0</span> &amp;&amp; nx &lt; n &amp;&amp; ny &gt;= <span class="hljs-number">0</span> &amp;&amp; ny &lt; n &amp;&amp; cheese[nx][ny] &gt; cheese[x][y]) &#123;<br>                plusCheese = <span class="hljs-built_in">max</span>(plusCheese, <span class="hljs-built_in">dfs</span>(nx, ny));<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    ans[x][y] += plusCheese;<br>    <span class="hljs-keyword">return</span> ans[x][y];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n &gt;&gt; k, n != <span class="hljs-number">-1</span> || k != <span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-built_in">memset</span>(ans, <span class="hljs-number">0xff</span>, <span class="hljs-built_in">sizeof</span>(ans));<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>                cin &gt;&gt; cheese[i][j];<br>            &#125;<br>        &#125;<br>        cout &lt;&lt; <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>) &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="æ¡ˆä¾‹äºŒ">æ¡ˆä¾‹äºŒ</h5><blockquote><p><strong>How many ways</strong></p><p>Problem Descriptionè¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç”Ÿå­˜æ¸¸æˆï¼Œä½ æ§åˆ¶ä¸€ä¸ªæœºå™¨äººä»ä¸€ä¸ªæ£‹ç›˜çš„èµ·å§‹ç‚¹ (1, 1)èµ°åˆ°æ£‹ç›˜çš„ç»ˆç‚¹ (n, m)ã€‚æ¸¸æˆçš„è§„åˆ™æè¿°å¦‚ä¸‹ï¼š</p><ol type="1"><li>æœºå™¨äººä¸€å¼€å§‹åœ¨æ£‹ç›˜çš„èµ·å§‹ç‚¹å¹¶æœ‰èµ·å§‹ç‚¹æ‰€æ ‡æœ‰çš„èƒ½é‡ã€‚</li><li>æœºå™¨äººåªèƒ½å‘å³æˆ–è€…å‘ä¸‹èµ°ï¼Œå¹¶ä¸”æ¯èµ°ä¸€æ­¥æ¶ˆè€—ä¸€å•ä½èƒ½é‡ã€‚</li><li>æœºå™¨äººä¸èƒ½åœ¨åŸåœ°åœç•™ã€‚</li><li>å½“æœºå™¨äººé€‰æ‹©äº†ä¸€æ¡å¯è¡Œè·¯å¾„åï¼Œå½“ä»–èµ°åˆ°è¿™æ¡è·¯å¾„çš„ç»ˆç‚¹æ—¶ï¼Œä»–å°†åªæœ‰ç»ˆç‚¹æ‰€æ ‡è®°çš„èƒ½é‡ã€‚</li></ol><figure><img src="http://acm.hdu.edu.cn/data/images/C113-1003-1.gif"alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><p>å¦‚ä¸Šå›¾ï¼Œæœºå™¨äººä¸€å¼€å§‹åœ¨ (1, 1)ç‚¹ï¼Œå¹¶æ‹¥æœ‰4å•ä½èƒ½é‡ï¼Œè“è‰²æ–¹å—è¡¨ç¤ºä»–æ‰€èƒ½åˆ°è¾¾çš„ç‚¹ï¼Œå¦‚æœä»–åœ¨è¿™æ¬¡è·¯å¾„é€‰æ‹©ä¸­é€‰æ‹©çš„ç»ˆç‚¹æ˜¯(2, 4) ï¼Œå½“ä»–åˆ°è¾¾ (2, 4)ç‚¹æ—¶å°†æ‹¥æœ‰1å•ä½çš„èƒ½é‡ï¼Œå¹¶å¼€å§‹ä¸‹ä¸€æ¬¡è·¯å¾„é€‰æ‹©ï¼Œç›´åˆ°åˆ°è¾¾ (6, 6) ç‚¹ã€‚æˆ‘ä»¬çš„é—®é¢˜æ˜¯æœºå™¨äººæœ‰å¤šå°‘ç§æ–¹å¼ä»èµ·ç‚¹èµ°åˆ°ç»ˆç‚¹ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œè¾“å‡ºçš„ç»“æœå¯¹10000 å–æ¨¡ã€‚</p><p>Input ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•°T,è¡¨ç¤ºæ•°æ®çš„ç»„æ•°ã€‚å¯¹äºæ¯ä¸€ç»„æ•°æ®ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° n, m (1 &lt;= n, m &lt;=100)ã€‚è¡¨ç¤ºæ£‹ç›˜çš„å¤§å°ã€‚æ¥ä¸‹æ¥è¾“å…¥ n è¡Œ,æ¯è¡Œ m ä¸ªæ•´æ•° e (0 &lt;= e &lt;20)ã€‚</p><p>Output å¯¹äºæ¯ä¸€ç»„æ•°æ®è¾“å‡ºæ–¹å¼æ€»æ•°å¯¹10000å–æ¨¡çš„ç»“æœã€‚</p><p>è¾“å…¥æ¡ˆä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs input">1<br>6 6<br>4 5 6 6 4 3<br>2 2 3 1 7 2<br>1 1 4 6 2 7<br>5 8 4 3 9 5<br>7 6 6 2 1 5<br>3 1 1 3 7 2<br></code></pre></td></tr></table></figure><p>è¾“å‡ºæ¡ˆä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs output">3948<br></code></pre></td></tr></table></figure></blockquote><p><strong>åˆ†æ</strong>ï¼š</p><p>åŒæ¡ˆä¾‹ä¸€ï¼Œæˆ‘ä»¬åªéœ€æ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹åä½¿ç”¨è®°å¿†åŒ– DFSå³å¯ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p><p><strong>ä»£ç </strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">int</span> T; <span class="hljs-comment">// æ•°æ®ç»„æ•°</span><br><span class="hljs-type">int</span> n, m;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_LENG 105</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_NUM 10000</span><br><br><span class="hljs-type">int</span> energy[MAX_LENG][MAX_LENG]; <span class="hljs-comment">// è®°å½•æ¯ä¸ªæ ¼ç‚¹ç‚¹èƒ½é‡</span><br><span class="hljs-type">int</span> ans[MAX_LENG][MAX_LENG]; <span class="hljs-comment">// è®°å½•ç­”æ¡ˆï¼Œåˆå§‹åŒ–ä¸º -1</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<br>    <span class="hljs-comment">// è¡¨ç¤ºä» (x, y) å‡ºå‘åˆ°ç»ˆç‚¹åˆå¤šå°‘ç§èµ°æ³•</span><br>    <span class="hljs-keyword">if</span> (ans[x][y] &gt;= <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> ans[x][y];<br>    &#125;<br>    <span class="hljs-keyword">if</span> (x == n - <span class="hljs-number">1</span> &amp;&amp; y == m - <span class="hljs-number">1</span>) &#123;<br>        ans[x][y] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span> ans[x][y];<br>    &#125;<br>    <span class="hljs-type">int</span> power = energy[x][y]; <span class="hljs-comment">// èƒ½é‡</span><br>    ans[x][y] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= power; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= power - i; j++) &#123;<br>            <span class="hljs-comment">// éå†æ‰€æœ‰å¯èƒ½ä½ç½®</span><br>            <span class="hljs-type">int</span> nx = x + i, ny = y + j;<br>            <span class="hljs-keyword">if</span> (nx != x || ny != y) &#123;<br>                <span class="hljs-keyword">if</span> (nx &gt;= <span class="hljs-number">0</span> &amp;&amp; nx &lt; n &amp;&amp; ny &gt;= <span class="hljs-number">0</span> &amp;&amp; ny &lt; m) &#123;<br>                    ans[x][y] = (ans[x][y] + <span class="hljs-built_in">dfs</span>(nx, ny)) % MAX_NUM;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> ans[x][y];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span> (T--) &#123;<br>        cin &gt;&gt; n &gt;&gt; m;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++) &#123;<br>                cin &gt;&gt; energy[i][j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">memset</span>(ans, <span class="hljs-number">0xff</span>, <span class="hljs-built_in">sizeof</span>(ans));<br>        cout &lt;&lt; <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>) &lt;&lt; endl;<br>    &#125;<br><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è®°å¿†åŒ–æœç´¢</tag>
      
      <tag>DFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒåˆ†åŒ¹é…é—®é¢˜ â€”â€” åŒˆç‰™åˆ©ç®—æ³•</title>
    <link href="/2023/02/25/%E4%BA%8C%E5%88%86%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3/"/>
    <url>/2023/02/25/%E4%BA%8C%E5%88%86%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h3 id="é—®é¢˜ä»‹ç»">é—®é¢˜ä»‹ç»</h3><p><strong>ä»€ä¹ˆæ˜¯äºŒåˆ†å›¾ï¼Ÿ</strong></p><p>å¯¹äºå›¾ <span class="math inline">\(G(V,E)\)</span> è€Œè¨€ï¼Œè‹¥ <spanclass="math inline">\(G\)</span> ä¸­çš„æ‰€æœ‰ç‚¹å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é›† <spanclass="math inline">\(G_1\)</span>ã€<spanclass="math inline">\(G_2\)</span> ï¼Œä¸”å›¾ä¸­æ¯æ¡è¾¹ <spanclass="math inline">\(e\)</span>å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹éƒ½å±äºä¸åŒçš„é¡¶ç‚¹å­é›†ï¼Œè¿™æ ·çš„å›¾æˆ‘ä»¬ç§°ä¸º<strong>äºŒåˆ†å›¾ï¼ˆBipartite Graph ï¼‰</strong>ï¼Œæˆ–è€…äºŒéƒ¨å›¾ã€‚</p><p><img src="https://p.ipic.vip/ueiehn.png" style="zoom:67%;" /></p><p><strong>æœ€å¤§åŒ¹é…é—®é¢˜å’Œæœ€å°ç‚¹è¦†ç›–é—®é¢˜</strong></p><p>ä»€ä¹ˆæ˜¯<strong>æœ€å¤§åŒ¹é…é—®é¢˜</strong>ï¼Ÿç»™å®šä¸€ä¸ªäºŒåˆ†å›¾ <spanclass="math inline">\(G(V,E)\)</span>ï¼Œè‹¥ <spanclass="math inline">\((a_i,b_j) \in E\)</span> ï¼Œæˆ‘ä»¬å°±ç§° <spanclass="math inline">\(a_i\)</span> å’Œ <spanclass="math inline">\(b_j\)</span>æ˜¯å¯é…å¯¹çš„ï¼Œå·²çŸ¥è¯¥å›¾ä¸­ä»»æ„é¡¶ç‚¹è‡³å¤šåŒ¹é…ä¸€ä¸ªé¡¶ç‚¹ï¼Œæ±‚æœ€å¤§åŒ¹é…æ•°ã€‚å¦‚ä¸‹å›¾ï¼Œä¸éš¾çœ‹å‡ºè¯¥å›¾çš„æœ€å¤§åŒ¹é…æ•°ä¸º2ã€‚å…¶ä¸­ä¸€ç§åŒ¹é…æ–¹å¼ä¸º <span class="math inline">\((a_1,b_1)\)</span>ã€<span class="math inline">\((a_3, b_4)\)</span> ã€‚</p><p>ä»€ä¹ˆåˆæ˜¯<strong>æœ€å°ç‚¹è¦†ç›–é—®é¢˜</strong>å‘¢ï¼Ÿå³ä»äºŒåˆ†å›¾ä¸­åˆ é™¤æœ€å°‘çš„é¡¶ç‚¹ï¼Œä½¿å¾—å›¾<span class="math inline">\(G\)</span>ä¸­ä»»ä½•ä¸€å¯¹ç‚¹éƒ½æ— æ³•åŒ¹é…ã€‚åˆ é™¤é¡¶ç‚¹çš„æœ€å°æ•°é‡ç§°ä¸ºæœ€å°ç‚¹è¦†ç›–æ•°ã€‚å¦‚ä¸‹å›¾ï¼Œä¸éš¾çœ‹å‡ºæœ€å°è¦†ç›–æ•°ä¹Ÿæ˜¯2ã€‚æˆ‘ä»¬å¯ä»¥åˆ å» <span class="math inline">\(a_3\)</span> å’Œ <spanclass="math inline">\(b_1\)</span> ä½¿å¾—å›¾ä¸­ä»»ä½•ä¸€å¯¹ç‚¹éƒ½æ— æ³•åŒ¹é…ã€‚</p><p>è¿™ä¸¤ä¸ªé—®é¢˜çœ‹ä¼¼ä¸ä¸€æ ·ï¼Œå®é™…ä¸Šå®é™…ä¸Šæ˜¯å¤„ç†ä¸€ä¸ªç›¸åŒçš„é—®é¢˜ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å¯ä»¥è¯æ˜ä¸€æ¡é‡è¦æ€§è´¨ï¼š</p><center><strong>æœ€å¤§åŒ¹é…æ•° = æœ€å°è¦†ç›–æ•°</strong></center><p>å…·ä½“è¯æ˜å°±ä¸åœ¨è¿™é‡Œè¯´æ˜äº†ï¼Œç¬”è€…æ‰“ç®—ä»¥åå•ç‹¬å‡ºä¸€æœŸæ–‡ç« æ¥è¯æ˜è¯¥æ€§è´¨ã€‚</p><p><img src="https://p.ipic.vip/5pnk5n.png" style="zoom:45%;" /></p><p>é‚£æˆ‘ä»¬è¯¥å¦‚ä½•ç»™å‡ºäºŒåˆ†åŒ¹é…é—®é¢˜çš„ä¸€èˆ¬è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ1955 å¹´ï¼Œåº“æ©ï¼ˆW.W.Kuhn ï¼‰åˆ©ç”¨ä¸€ä¸ªåŒˆç‰™åˆ©æ•°å­¦å®¶åº·å“¥å°¼ï¼ˆ D.KÅ‘nigï¼‰çš„ä¸€ä¸ªå®šç†æ„é€ äº†ä¸€ç§äºŒåˆ†åŒ¹é…é—®é¢˜çš„è§£æ³•ï¼Œåäººç§°ä¹‹ä¸º<strong>åŒˆç‰™åˆ©ç®—æ³•</strong>ã€‚</p><h3 id="åŒˆç‰™åˆ©ç®—æ³•">åŒˆç‰™åˆ©ç®—æ³•</h3><p>åœ¨ä»‹ç»åŒˆç‰™åˆ©ç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä»‹ç»å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li><p><strong>äº¤æ›¿è·¯</strong>ï¼š</p><p>ä»æœªåŒ¹é…ç‚¹å‡ºå‘ï¼Œä¾æ¬¡ç»è¿‡æœªåŒ¹é…çš„è¾¹å’Œå·²åŒ¹é…çš„è¾¹çš„è·¯å¾„ç§°ä¸ºäº¤æ›¿è·¯ã€‚</p></li><li><p><strong>å¢å¹¿è·¯</strong>ï¼š</p><p>ç»è¿‡é™¤å‡ºå‘ç‚¹ä¹‹å¤–å…¶ä»–æœªåŒ¹é…ç‚¹çš„äº¤æ›¿è·¯ç§°ä¸ºå¢å¹¿è·¯ã€‚</p><p><strong>å½“ä¸”ä»…å½“ä¸å­˜åœ¨å…³äºå›¾ <span class="math inline">\(G\)</span>çš„å¢å¹¿è·¯å¾„æ—¶å½“å‰çš„åŒ¹é…ä¸ºå›¾ <span class="math inline">\(G\)</span>çš„æœ€å¤§åŒ¹é…ã€‚</strong></p></li></ul><h4 id="ç®—æ³•è®²è§£">ç®—æ³•è®²è§£</h4><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°†ä½¿ç”¨åŒˆç‰™åˆ©ç®—æ³•æ¥è®¡ç®—è¯¥äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°ã€‚</p><p>æˆ‘ä»¬ä» <span class="math inline">\(a_1\)</span> å¼€å§‹åŒ¹é…ï¼Œ<spanclass="math inline">\(a_1\)</span> ä¸ <spanclass="math inline">\(b_1\)</span> åŒ¹é…æˆåŠŸï¼Œå³å½“å‰åŒ¹é…å¯¹æ•°ä¸º 1ã€‚</p><p><left><img src="https://p.ipic.vip/phzd9z.png" alt="(1)" style="zoom:100%; margin-right: 30px;" /><img src="https://p.ipic.vip/wfjof3.png" alt="(2)" style="zoom:100%; margin-right: 30px;" /></left></p><p>ç„¶åå†å¯¹ <span class="math inline">\(a_2\)</span> è¿›è¡ŒåŒ¹é…ï¼Œæˆ‘ä»¬å‘ç°<span class="math inline">\(a_2\)</span> åªèƒ½åŒ¹é… <spanclass="math inline">\(b_1\)</span> ï¼Œè€Œ <spanclass="math inline">\(b_1\)</span> å·²ç»ä¸ <spanclass="math inline">\(a_1\)</span> åŒ¹é…æˆåŠŸäº†ï¼Œæ­¤æ—¶æˆ‘ä»¬å‘ç° <spanclass="math inline">\(a_1\)</span> å’Œ <spanclass="math inline">\(b_3\)</span> å¯ä»¥æˆåŠŸåŒ¹é…ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å–æ¶ˆ <spanclass="math inline">\(a_1\)</span> å’Œ <spanclass="math inline">\(b_1\)</span> çš„åŒ¹é…ï¼Œç„¶ååŒ¹é… <spanclass="math inline">\(a_1\)</span> å’Œ <spanclass="math inline">\(b_3\)</span> ï¼Œè¿™ä¸ªæ—¶å€™ <spanclass="math inline">\(a_2\)</span> å°±å¯ä»¥åŒ¹é… <spanclass="math inline">\(b_1\)</span> äº†ã€‚åŒ¹é…å¯¹æ•°åŠ ä¸€ï¼Œå½“å‰åŒ¹é…å¯¹æ•°ä¸º2ã€‚</p><p>å…¶å®è¿™ä¸€æ­¥ç›¸å½“äºæ‰¾åˆ°äº†ä¸€æ¡å¢å¹¿è·¯ <span class="math inline">\((a_2,b_1, a_1, b_3)\)</span> ï¼Œç„¶åå¯¹è¯¥å¢å¹¿è·¯å–åã€‚</p><p><left><img src="https://p.ipic.vip/0dm74v.png" alt="(3)" style="zoom:100%;" /></left></p><p>æ¥ä¸‹æ¥å¯¹ <span class="math inline">\(a_3\)</span> è¿›è¡ŒåŒ¹é…ï¼Œ<spanclass="math inline">\(a_3\)</span> ä¸ <spanclass="math inline">\(b_2\)</span>æˆåŠŸåŒ¹é…ï¼ŒåŒ¹é…å¯¹æ•°åŠ ä¸€ï¼Œå½“å‰åŒ¹é…å¯¹æ•°ä¸º 3ã€‚</p><p><left><img src="https://p.ipic.vip/zhjyss.png" alt="(4)" style="zoom:100%;" /></left></p><p>æœ€åå¯¹ <span class="math inline">\(a_4\)</span>è¿›è¡ŒåŒ¹é…ï¼Œå‘ç°å…¶åªèƒ½ä¸ <span class="math inline">\(b_1\)</span> åŒ¹é…ï¼Œè€Œ<span class="math inline">\(b_1\)</span> å·²ç»ä¸ <spanclass="math inline">\(a_1\)</span> åŒ¹é…è¿‡äº†ï¼Œè€Œä¸”æ— æ³•ä» <spanclass="math inline">\(a_4\)</span> å‡ºå‘æ„é€ ä¸€æ¡å¢å¹¿è·¯ï¼Œå› æ­¤ <spanclass="math inline">\(a_4\)</span> æ— æ³•ä¸ä»»ä½•ä¸€ä¸ªé¡¶ç‚¹æˆåŠŸåŒ¹é…ã€‚</p><p><strong>ç»¼ä¸Šæ‰€è¿°ï¼Œå±•ç¤ºçš„äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°ä¸º 3</strong>ã€‚</p><p><strong>ä¼ªä»£ç ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pseudo-code">// åˆ¤æ–­ ai æ˜¯å¦èƒ½åŒ¹é…æˆåŠŸ<br>for bj ä¸ ai ç›¸è¿:<br>if bj æœªè¢«è®¿é—®:<br>æ›´æ–° bj è®¿é—®çŠ¶æ€;<br>        if bj æœªè¢«åŒ¹é…æˆ–è€… bj çš„é…å¯¹ç‚¹å¯ä»¥å‡ºå‘æ‰¾åˆ°å¢å¹¿è·¯å¾„:<br>        å°† bj çš„é…å¯¹ç‚¹æ”¹ä¸º ai;<br>        return true;<br><br>return false;<br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(VE)\)</span></p><h4 id="ä»£ç å®ç°">ä»£ç å®ç°</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> NOT_MATCH 0x3f3f3f3f</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">private</span>:<br>  <span class="hljs-type">int</span> numA, numB; <span class="hljs-comment">// numAã€numB åˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªé›†åˆçš„å…ƒç´ ä¸ªæ•°</span><br>  vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; G; <span class="hljs-comment">// å‡è®¾è¿™é‡Œç”¨é‚»æ¥é“¾è¡¨å‚¨å­˜å›¾ Gï¼ŒG[i] è¡¨ç¤ºå’Œ ai ç›¸é‚»çš„æ‰€æœ‰ B é›†åˆçš„é¡¶ç‚¹ç¼–å·</span><br>  <span class="hljs-type">int</span> match[numB]; <span class="hljs-comment">// è®°å½• B é›†åˆçš„å…ƒç´ çš„åŒ¹é…ç‚¹åœ¨ A é›†åˆçš„ç¼–å·</span><br>  <span class="hljs-type">bool</span> vis[numB]; <span class="hljs-comment">// è®°å½• B é›†åˆçš„å…ƒç´ æ˜¯å¦è¢«è®¿é—®è¿‡</span><br><br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isMatch</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>      <span class="hljs-comment">// åˆ¤æ–­ A é›†åˆä¸­ç¼–å·ä¸º index çš„é¡¶ç‚¹æ˜¯å¦èƒ½åŒ¹é…æˆåŠŸ</span><br>      <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; G[index].<span class="hljs-built_in">size</span>(); i++) &#123;<br>          <span class="hljs-keyword">if</span> (!vis[G[i]]) &#123;<br>              vis[G[i]] = <span class="hljs-literal">true</span>;<br>              <span class="hljs-keyword">if</span> (match[G[i]] == NOT_MATCH || <span class="hljs-built_in">isMatch</span>(match[[G[i]]])) &#123;<br>                <span class="hljs-comment">// è¯¥é¡¶ç‚¹æœªè¢«åŒ¹é…æˆ–ç€åŸæ¥åŒ¹é…è¯¥ç‚¹çš„é¡¶ç‚¹å¯ä»¥åŒ¹é…å…¶ä»–é¡¶ç‚¹</span><br>                  match[G[i]] = index;<br>                  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>      <br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>  <br><span class="hljs-keyword">public</span>:<br>  <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">hungarian</span><span class="hljs-params">()</span> </span>&#123;<br>      <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; numA; i++) &#123;<br>          <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0x3f</span>, <span class="hljs-built_in">sizeof</span>(vis));<br>          <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isMatch</span>(i)) &#123;<br>              cnt++;<br>            &#125;<br>        &#125;<br>      <br>      <span class="hljs-keyword">return</span> cnt;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å®é™…åº”ç”¨">å®é™…åº”ç”¨</h4><blockquote><p><strong>Machine Schedule</strong></p><p>Problem Description As we all know, machine scheduling is a veryclassical problem in computer science and has been studied for a verylong history. Scheduling problems differ widely in the nature of theconstraints that must be satisfied and the type of schedule desired.Here we consider a 2-machine scheduling problem.</p><p>There are two machines A and B. Machine A has n kinds of workingmodes, which is called <span class="math inline">\(mode_0\)</span> ,<span class="math inline">\(mode_1\)</span> , â€¦, <spanclass="math inline">\(mode_{n-1}\)</span> , likewise machine B has mkinds of working modes, <span class="math inline">\(mode_0\)</span>,<span class="math inline">\(mode_1\)</span> , â€¦ , <spanclass="math inline">\(mode_{m-1}\)</span> . At the beginning they areboth work at <span class="math inline">\(mode_0\)</span>.</p><p>For k jobs given, each of them can be processed in either one of thetwo machines in particular mode. For example, job 0 can either beprocessed in machine A at <span class="math inline">\(mode_3\)</span> orin machine B at <span class="math inline">\(mode_4\)</span> , job 1 caneither be processed in machine A at <spanclass="math inline">\(mode_2\)</span> or in machine B at <spanclass="math inline">\(mode_4\)</span> , and so on. Thus, for job i, theconstraint can be represent as a triple (i, x, y), which means it can beprocessed either in machine A at <spanclass="math inline">\(mode_x\)</span>, or in machine B at <spanclass="math inline">\(mode_y\)</span> .</p><p>Obviously, to accomplish all the jobs, we need to change themachineâ€™s working mode from time to time, but unfortunately, themachineâ€™s working mode can only be changed by restarting it manually. Bychanging the sequence of the jobs and assigning each job to a suitablemachine, please write a program to minimize the times of restartingmachines.</p><p>Input The input file for this program consists of severalconfigurations. The first line of one configuration contains threepositive integers: n, m (n, m &lt; 100) and k (k &lt; 1000). Thefollowing k lines give the constrains of the k jobs, each line is atriple: i, x, y.</p><p>The input will be terminated by a line containing a single zero.</p><p>Output The output should be one integer per line, which means theminimal times of restarting machine.</p><p>è¾“å…¥æ¡ˆä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs input">5 5 10<br>0 1 1<br>1 1 2<br>2 1 3<br>3 1 4<br>4 2 1<br>5 2 2<br>6 2 3<br>7 2 4<br>8 3 3<br>9 4 3<br>0<br></code></pre></td></tr></table></figure><p>è¾“å‡ºæ¡ˆä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs output">3<br></code></pre></td></tr></table></figure></blockquote><p>å¯¹äºæ­¤é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°† Aã€Bæœºå™¨çš„æ‰€æœ‰æ¨¡å¼çœ‹æˆäºŒéƒ¨å›¾çœ‹æˆä¸¤ä¸ªå­é›†ï¼Œè‹¥æŸä¸ªå·¥ä½œéœ€è¦æœºå™¨ A çš„ xæ¨¡å¼å’Œæœºå™¨ B çš„ y æ¨¡å¼æ¥å®Œæˆï¼Œå°±å°† <span class="math inline">\((a_x,b_y)\)</span>è¿æ¥èµ·æ¥ã€‚æœ€åæˆ‘ä»¬çš„é—®é¢˜å°±å˜æˆäº†ï¼š<strong>åº”è¯¥å¦‚ä½•æ‰¾åˆ°è¯¥äºŒéƒ¨å›¾çš„æœ€å°ç‚¹è¦†ç›–æ•°ï¼Ÿ</strong></p><p>è€Œæ ¹æ®æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ç»“è®ºå¯çŸ¥ï¼Œæœ€å°ç‚¹è¦†ç›–æ•°åœ¨æ•°å€¼ä¸Šç­‰äºæœ€å¤§åŒ¹é…æ•°ã€‚</p><p><strong>ä»£ç </strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX_NUM 105</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> NOT_FOUND 0x3f3f3f3f</span><br><br><span class="hljs-type">int</span> G[MAX_NUM][MAX_NUM];<br><span class="hljs-type">bool</span> vis[MAX_NUM];<br><span class="hljs-type">int</span> match[MAX_NUM];<br><br><span class="hljs-type">int</span> n, m, k;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isMatch</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123;<br>        <span class="hljs-keyword">if</span> (G[index][i] &amp;&amp; !vis[i]) &#123;<br>            vis[i] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span> (match[i] == NOT_FOUND || <span class="hljs-built_in">isMatch</span>(match[i])) &#123;<br>                match[i] = index;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br><br>    <span class="hljs-keyword">while</span> (cin &gt;&gt; n) &#123;<br>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        cin &gt;&gt; m &gt;&gt; k;<br>        <span class="hljs-built_in">memset</span>(G, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(G));<br>        <span class="hljs-built_in">memset</span>(match, <span class="hljs-number">0x3f</span>, <span class="hljs-built_in">sizeof</span>(match));<br>        <span class="hljs-comment">// åˆå§‹åŒ–</span><br>        <span class="hljs-type">int</span> t, ax, by;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) &#123;<br>            cin &gt;&gt; t &gt;&gt; ax &gt;&gt; by;<br>            <span class="hljs-keyword">if</span> (ax != <span class="hljs-number">0</span> &amp;&amp; by != <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// 0 å·æ¨¡å¼ä¸‹å¯ä»¥å®Œæˆçš„ä»»åŠ¡ä¸ç”¨æ·»åŠ </span><br>                G[ax][by] = <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(vis));<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isMatch</span>(i)) &#123;<br>                cnt++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// æ±‚å‡ºæœ€å°ç‚¹è¦†ç›–æ•°</span><br><br>        cout &lt;&lt; cnt &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>DFS</tag>
      
      <tag>äºŒåˆ†åŒ¹é…</tag>
      
      <tag>åŒˆç‰™åˆ©ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LLDB å¿«é€Ÿå…¥é—¨</title>
    <link href="/2023/02/22/LLDB%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
    <url>/2023/02/22/LLDB%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    
    <content type="html"><![CDATA[<p><strong><em>å¦‚æœè°ƒè¯•æ˜¯åˆ é™¤ bug çš„è¿‡ç¨‹ï¼Œé‚£ä¹ˆç¼–ç¨‹å°±æ˜¯å¼•å…¥ bugçš„è¿‡ç¨‹ã€‚</em></strong></p><p><strong>â€”â€” Edsger W. Dijkstra</strong></p><hr /><h4 id="lldb-æ˜¯ä»€ä¹ˆ">LLDB æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>LLDBï¼ˆ Low level Debug ï¼‰æ˜¯ MacOS é»˜è®¤è¿›è¡Œè°ƒè¯• C/C++ç¨‹åºçš„è°ƒè¯•å·¥å…·ï¼Œèƒ½å¸®å¼€å‘è€…è¿›è¡Œæ›´åŠ ä¸°å¯Œåœ°æµç¨‹æ§åˆ¶å’Œæ ˆå¸§æ•°æ®ç›‘æµ‹ã€‚</p><p><strong>ç®€è¨€ä¹‹ï¼ŒLLDB æ˜¯ä¸€ä¸ªæœ‰ç€ REPL çš„ç‰¹æ€§å’Œ C++ ã€Pythonæ’ä»¶çš„å¼€æºè°ƒè¯•å™¨ã€‚</strong></p><p>åœ¨æ­¤ï¼Œæˆ‘ä»¬ä»¥å‡ ä¸ªç®€å•çš„ç¨‹åºä¸ºä¾‹å­ï¼Œå¯¹ LLDB è¿›è¡Œå¿«é€Ÿå…¥é—¨ã€‚</p><p><strong>ç›®å½•</strong></p><ul><li><p>å¯åŠ¨ LLDB</p></li><li><p>æ–­ç‚¹æ“ä½œ</p><ul><li>è®¾ç½®æ–­ç‚¹</li><li>æŸ¥çœ‹æ–­ç‚¹</li><li>åˆ é™¤æ–­ç‚¹</li></ul></li><li><p>åˆ†æ­¥è°ƒè¯•</p><ul><li>å¯åŠ¨è°ƒè¯•</li><li>è¿›å…¥ï¼Œè·³è¿‡å’Œç»§ç»­</li><li>è·³å‡ºå½“å‰å‡½æ•°</li></ul></li><li><p>æŸ¥çœ‹å˜é‡</p></li><li><p>ç»“æŸè°ƒè¯•</p></li></ul><h4 id="å¯åŠ¨-lldb">å¯åŠ¨ LLDB</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// demo.cpp</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">fact</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> n * <span class="hljs-built_in">fact</span>(n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>    <span class="hljs-type">int</span> x = <span class="hljs-number">2</span>;<br>    <span class="hljs-type">int</span> y = <span class="hljs-number">3</span>;<br>    <span class="hljs-type">int</span> z = x + y;<br><br>    cout &lt;&lt; <span class="hljs-built_in">fact</span>(z) &lt;&lt; endl;<br><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘ C/C++ ç¨‹åºæ—¶ä½¿å…¶å¯ä»¥è¢« LLDB è°ƒè¯•å·¥å…·è®¾ç½®æ–­ç‚¹ï¼Œéœ€è¦æ·»åŠ <code>-g</code> ï¼Œä»¥ C++ æ–‡ä»¶ <code>demo.cpp</code> ä¸ºä¾‹ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmd">clang++ -g demo.cpp<br><br>lldb a.out<br></code></pre></td></tr></table></figure><h4 id="æ–­ç‚¹æ“ä½œ">æ–­ç‚¹æ“ä½œ</h4><h6 id="è®¾ç½®æ–­ç‚¹">è®¾ç½®æ–­ç‚¹</h6><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmd">br s -f [æ–‡ä»¶å] -l [è¡Œå·]# åœ¨æ–‡ä»¶çš„æŸä¸€è¡Œè®¾ç½®æ–­ç‚¹<br>br s -n [å‡½æ•°å]# ç»™å‡½æ•°è®¾ç½®æ–­ç‚¹<br></code></pre></td></tr></table></figure><h6 id="æŸ¥çœ‹æ–­ç‚¹">æŸ¥çœ‹æ–­ç‚¹</h6><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">br list# æ˜¾ç¤ºæ‰€æœ‰æ–­ç‚¹å’Œå…¶åºå·<br></code></pre></td></tr></table></figure><h6 id="åˆ é™¤æ–­ç‚¹">åˆ é™¤æ–­ç‚¹</h6><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmd">br <span class="hljs-built_in">del</span> [æ–­ç‚¹åºå·]<br>br <span class="hljs-built_in">del</span> # åˆ é™¤æ‰€æœ‰æ–­ç‚¹<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cmd">(lldb) br s -f demo.cpp -l <span class="hljs-number">17</span><br>Breakpoint <span class="hljs-number">1</span>: where = a.out`main + <span class="hljs-number">28</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">17</span>:<span class="hljs-number">9</span>, address = <span class="hljs-number">0</span>x0000000100003d80<br>(lldb) br s -f demo.cpp -l <span class="hljs-number">21</span><br>Breakpoint <span class="hljs-number">2</span>: where = a.out`main + <span class="hljs-number">56</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">21</span>:<span class="hljs-number">18</span>, address = <span class="hljs-number">0</span>x0000000100003d9c<br>(lldb) br s -n fact<br>Breakpoint <span class="hljs-number">3</span>: where = a.out`fact(int) + <span class="hljs-number">16</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">6</span>:<span class="hljs-number">9</span>, address = <span class="hljs-number">0</span>x0000000100003d18<br>(lldb) br list<br>Current breakpoints:<br><span class="hljs-number">1</span>: file = &#x27;demo.cpp&#x27;, line = <span class="hljs-number">17</span>, exact_match = <span class="hljs-number">0</span>, locations = <span class="hljs-number">1</span><br>  <span class="hljs-number">1</span>.<span class="hljs-number">1</span>: where = a.out`main + <span class="hljs-number">28</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">17</span>:<span class="hljs-number">9</span>, address = a.out[<span class="hljs-number">0</span>x0000000100003d80], unresolved, hit count = <span class="hljs-number">0</span> <br><br><span class="hljs-number">2</span>: file = &#x27;demo.cpp&#x27;, line = <span class="hljs-number">21</span>, exact_match = <span class="hljs-number">0</span>, locations = <span class="hljs-number">1</span><br>  <span class="hljs-number">2</span>.<span class="hljs-number">1</span>: where = a.out`main + <span class="hljs-number">56</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">21</span>:<span class="hljs-number">18</span>, address = a.out[<span class="hljs-number">0</span>x0000000100003d9c], unresolved, hit count = <span class="hljs-number">0</span> <br><br><span class="hljs-number">3</span>: name = &#x27;fact&#x27;, locations = <span class="hljs-number">1</span><br>  <span class="hljs-number">3</span>.<span class="hljs-number">1</span>: where = a.out`fact(int) + <span class="hljs-number">16</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">6</span>:<span class="hljs-number">9</span>, address = a.out[<span class="hljs-number">0</span>x0000000100003d18], unresolved, hit count = <span class="hljs-number">0</span> <br><br>(lldb) br <span class="hljs-built_in">del</span> <span class="hljs-number">3</span><br><span class="hljs-number">1</span> breakpoints deleted; <span class="hljs-number">0</span> breakpoint locations disabled.<br>(lldb) br list<br>Current breakpoints:<br><span class="hljs-number">1</span>: file = &#x27;demo.cpp&#x27;, line = <span class="hljs-number">17</span>, exact_match = <span class="hljs-number">0</span>, locations = <span class="hljs-number">1</span><br>  <span class="hljs-number">1</span>.<span class="hljs-number">1</span>: where = a.out`main + <span class="hljs-number">28</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">17</span>:<span class="hljs-number">9</span>, address = a.out[<span class="hljs-number">0</span>x0000000100003d80], unresolved, hit count = <span class="hljs-number">0</span> <br><br><span class="hljs-number">2</span>: file = &#x27;demo.cpp&#x27;, line = <span class="hljs-number">21</span>, exact_match = <span class="hljs-number">0</span>, locations = <span class="hljs-number">1</span><br>  <span class="hljs-number">2</span>.<span class="hljs-number">1</span>: where = a.out`main + <span class="hljs-number">56</span> <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">21</span>:<span class="hljs-number">18</span>, address = a.out[<span class="hljs-number">0</span>x0000000100003d9c], unresolved, hit count = <span class="hljs-number">0</span> <br></code></pre></td></tr></table></figure><h4 id="åˆ†æ­¥è°ƒè¯•">åˆ†æ­¥è°ƒè¯•</h4><h6 id="å¯åŠ¨è°ƒè¯•">å¯åŠ¨è°ƒè¯•</h6><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">r<br></code></pre></td></tr></table></figure><blockquote><p>è¾“å…¥ <code>run</code> æˆ–è€… <code>r</code> åç¨‹åºä¾¿ä¼šå¼€å§‹å¯åŠ¨è°ƒè¯•</p></blockquote><h6 id="è¿›å…¥è·³è¿‡å’Œç»§ç»­">è¿›å…¥ï¼Œè·³è¿‡å’Œç»§ç»­</h6><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmd"># è¿›å…¥å•æ­¥æ‰§è¡Œï¼Œä¸­é—´å¦‚æœæœ‰å‡½æ•°è°ƒç”¨ä¼šè·³è½¬åˆ°ç›®æ ‡å‡½æ•°<br>s<br><br># è·³è¿‡å•æ­¥æ‰§è¡Œï¼Œä¸­é—´çš„å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¼šè·³è¿‡<br>n<br><br># ç»§ç»­è·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹<br>c<br></code></pre></td></tr></table></figure><h6 id="è·³å‡ºå½“å‰å‡½æ•°">è·³å‡ºå½“å‰å‡½æ•°</h6><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">finish<br></code></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹å˜é‡">æŸ¥çœ‹å˜é‡</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cmd"># æŸ¥çœ‹æŸä¸ªå˜é‡ï¼š<br>p [å˜é‡å]<br><br><br># æŸ¥çœ‹å½“å‰æ ˆå¸§æ‰€æœ‰å˜é‡<br>fr v<br><br><br># åˆ‡æ¢æ ˆå¸§<br>fr s [æ ˆå¸§åºå·]<br><br><br># æ‰“å°å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¿¡æ¯<br>bt<br><br><br># æ‰“å°æ‰€æœ‰çº¿ç¨‹çš„æ ˆå¸§ä¿¡æ¯<br>bt all<br></code></pre></td></tr></table></figure><p>ç»¼åˆæ¡ˆä¾‹ï¼šåœ¨ <code>demo.cpp</code> çš„ 17 è¡Œå’Œ 21 è¡Œè®¾ç½®æ–­ç‚¹ï¼Œä½¿ç”¨<code>r</code> å¼€å§‹è°ƒè¯•</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs cmd">* thread #<span class="hljs-number">1</span>, queue = &#x27;com.apple.main-thread&#x27;, stop reason = breakpoint <span class="hljs-number">1</span>.<span class="hljs-number">1</span><br>    frame #<span class="hljs-number">0</span>: <span class="hljs-number">0</span>x0000000100003d80 a.out`main <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">17</span>:<span class="hljs-number">9</span><br>   <span class="hljs-number">14</span>  <br>   <span class="hljs-number">15</span>   int main() &#123;<br>   <span class="hljs-number">16</span>  <br>-&gt; <span class="hljs-number">17</span>       int x = <span class="hljs-number">2</span>;<br>   <span class="hljs-number">18</span>       int y = <span class="hljs-number">3</span>;<br>   <span class="hljs-number">19</span>       int z = x + y;<br>   <span class="hljs-number">20</span>  <br>Target <span class="hljs-number">0</span>: (a.out) stopped.<br>(lldb) s<br>Process <span class="hljs-number">31435</span> stopped<br>* thread #<span class="hljs-number">1</span>, queue = &#x27;com.apple.main-thread&#x27;, stop reason = step <span class="hljs-keyword">in</span><br>    frame #<span class="hljs-number">0</span>: <span class="hljs-number">0</span>x0000000100003d88 a.out`main <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">18</span>:<span class="hljs-number">9</span><br>   <span class="hljs-number">15</span>   int main() &#123;<br>   <span class="hljs-number">16</span>  <br>   <span class="hljs-number">17</span>       int x = <span class="hljs-number">2</span>;<br>-&gt; <span class="hljs-number">18</span>       int y = <span class="hljs-number">3</span>;<br>   <span class="hljs-number">19</span>       int z = x + y;<br>   <span class="hljs-number">20</span>  <br>   <span class="hljs-number">21</span>       cout &lt;&lt; fact(z) &lt;&lt; endl;<br>Target <span class="hljs-number">0</span>: (a.out) stopped.<br>(lldb) s<br>Process <span class="hljs-number">31435</span> stopped<br>* thread #<span class="hljs-number">1</span>, queue = &#x27;com.apple.main-thread&#x27;, stop reason = step <span class="hljs-keyword">in</span><br>    frame #<span class="hljs-number">0</span>: <span class="hljs-number">0</span>x0000000100003d8c a.out`main <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">19</span>:<span class="hljs-number">13</span><br>   <span class="hljs-number">16</span>  <br>   <span class="hljs-number">17</span>       int x = <span class="hljs-number">2</span>;<br>   <span class="hljs-number">18</span>       int y = <span class="hljs-number">3</span>;<br>-&gt; <span class="hljs-number">19</span>       int z = x + y;<br>   <span class="hljs-number">20</span>  <br>   <span class="hljs-number">21</span>       cout &lt;&lt; fact(z) &lt;&lt; endl;<br>   <span class="hljs-number">22</span>  <br>Target <span class="hljs-number">0</span>: (a.out) stopped.<br>(lldb) s<br>Process <span class="hljs-number">31435</span> stopped<br>* thread #<span class="hljs-number">1</span>, queue = &#x27;com.apple.main-thread&#x27;, stop reason = breakpoint <span class="hljs-number">2</span>.<span class="hljs-number">1</span><br>    frame #<span class="hljs-number">0</span>: <span class="hljs-number">0</span>x0000000100003d9c a.out`main <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">21</span>:<span class="hljs-number">18</span><br>   <span class="hljs-number">18</span>       int y = <span class="hljs-number">3</span>;<br>   <span class="hljs-number">19</span>       int z = x + y;<br>   <span class="hljs-number">20</span>  <br>-&gt; <span class="hljs-number">21</span>       cout &lt;&lt; fact(z) &lt;&lt; endl;<br>   <span class="hljs-number">22</span>  <br>   <span class="hljs-number">23</span>       return <span class="hljs-number">0</span>;<br>   <span class="hljs-number">24</span>   &#125;<br>Target <span class="hljs-number">0</span>: (a.out) stopped.<br>(lldb) fr v<br>(int) x = <span class="hljs-number">2</span><br>(int) y = <span class="hljs-number">3</span><br>(int) z = <span class="hljs-number">5</span><br>(lldb) s<br>Process <span class="hljs-number">31435</span> stopped<br>* thread #<span class="hljs-number">1</span>, queue = &#x27;com.apple.main-thread&#x27;, stop reason = step <span class="hljs-keyword">in</span><br>    frame #<span class="hljs-number">0</span>: <span class="hljs-number">0</span>x0000000100003d18 a.out`fact(n=<span class="hljs-number">5</span>) <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">6</span>:<span class="hljs-number">9</span><br>   <span class="hljs-number">3</span>    using namespace std;<br>   <span class="hljs-number">4</span>   <br>   <span class="hljs-number">5</span>    int fact(int n) &#123;<br>-&gt; <span class="hljs-number">6</span>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>   <span class="hljs-number">7</span>            return <span class="hljs-number">1</span>;<br>   <span class="hljs-number">8</span>        &#125;<br>   <span class="hljs-number">9</span>        <span class="hljs-keyword">else</span> &#123;<br>Target <span class="hljs-number">0</span>: (a.out) stopped.<br>(lldb) finish<br>Process <span class="hljs-number">31435</span> stopped<br>* thread #<span class="hljs-number">1</span>, queue = &#x27;com.apple.main-thread&#x27;, stop reason = step out<br>Return value: (int) $<span class="hljs-number">0</span> = <span class="hljs-number">120</span><br><br>    frame #<span class="hljs-number">0</span>: <span class="hljs-number">0</span>x0000000100003da4 a.out`main <span class="hljs-built_in">at</span> demo.cpp:<span class="hljs-number">21</span>:<span class="hljs-number">13</span><br>   <span class="hljs-number">18</span>       int y = <span class="hljs-number">3</span>;<br>   <span class="hljs-number">19</span>       int z = x + y;<br>   <span class="hljs-number">20</span>  <br>-&gt; <span class="hljs-number">21</span>       cout &lt;&lt; fact(z) &lt;&lt; endl;<br>   <span class="hljs-number">22</span>  <br>   <span class="hljs-number">23</span>       return <span class="hljs-number">0</span>;<br>   <span class="hljs-number">24</span>   &#125;<br>Target <span class="hljs-number">0</span>: (a.out) stopped.<br>(lldb) c<br>Process <span class="hljs-number">31435</span> resuming<br><span class="hljs-number">120</span><br>Process <span class="hljs-number">31435</span> exited with status = <span class="hljs-number">0</span> (<span class="hljs-number">0</span>x00000000)<br></code></pre></td></tr></table></figure><h4 id="ç»“æŸè°ƒè¯•">ç»“æŸè°ƒè¯•</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">q<br></code></pre></td></tr></table></figure><blockquote><p>è¾“å…¥ <code>quit</code> æˆ–è€… <code>q</code> ç»“æŸ LLDB è°ƒè¯•</p></blockquote><p><strong>ä»¥ä¸Šå°±æ˜¯å¯¹ LLDB çš„ä¸€ä¸ªç®€å•ä»‹ç»äº†ï¼Œå¦‚æœæƒ³äº†è§£æ›´å¤š LLDBæŒ‡ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹å®˜ç½‘çš„ <a href="https://lldb.llvm.org/use/map.html">LLDBcommand map</a></strong></p>]]></content>
    
    
    <categories>
      
      <category>C/C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>è°ƒè¯•å™¨</tag>
      
      <tag>LLDB</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>React è„šæ‰‹æ¶é…ç½®ä»£ç†çš„æ–¹æ³•</title>
    <link href="/2023/02/07/React%20%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <url>/2023/02/07/React%20%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E7%9A%84%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h4 id="æ–¹æ³•ä¸€ç›´æ¥åœ¨-package.json-ä¸­è¿½åŠ é…ç½®">æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨<code>package.json</code> ä¸­è¿½åŠ é…ç½®</h4><p>ä¾‹å¦‚ï¼Œå½“å‰æœåŠ¡å™¨ç«¯å£ä¸º 3000ï¼Œè‹¥è¦å‘ç«¯å£ 5000çš„æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>package.json</code>ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;proxy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://localhost:5000&quot;</span><br></code></pre></td></tr></table></figure><p>æ­¤åï¼Œå½“è¯·æ±‚äº† 3000 ç«¯å£ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯·æ±‚å°±ä¼šè½¬å‘ç»™ 5000ç«¯å£ã€‚</p><p>ç¤ºä¾‹ï¼š</p><p>ä¾‹å¦‚ä¸€ä¸ª <code>create-react-app</code> åˆ›å»ºé¡¹ç›®åœ¨ 3001ç«¯å£è¿è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>json-server</code> æ¨¡æ‹Ÿäº†ä¸€ä¸ª 3000ç«¯å£çš„æœåŠ¡å™¨ï¼Œå…¶ä¸­ JSON æ•°æ®å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;students&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0001&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Tom&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0002&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jack&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">19</span><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0003&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Frank&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><code>students</code> æ•°æ®çš„ URL ä¸º<code>http://localhost:3000/students</code>ï¼Œè‹¥æˆ‘ä»¬è¦å‘ 3001 ç«¯å£å‘é€GET è¯·æ±‚æ¥è·å– <code>students</code> çš„ JSON æ•°æ®ï¼Œåˆ™å¯ä»¥åœ¨<code>package.json</code> ä¸­æ·»åŠ é…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;proxy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://localhost:3000&quot;</span><br></code></pre></td></tr></table></figure><ul><li><p>è·å– 3001 ç«¯å£æœ‰çš„èµ„æºï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br><br>  getInfo = <span class="hljs-function">() =&gt;</span> &#123;<br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;http://localhost:3001/index.html&quot;</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>);<br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>      &#125;<br>    );<br>  &#125;<br><br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.getInfo&#125;</span>&gt;</span>ç‚¹å‡»å‘é€è¯·æ±‚è·å–æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶æ§åˆ¶å°è¾“å‡ºå½“å‰é¡¹ç›®ä¸‹çš„ <code>index.html</code> æ–‡ä»¶ï¼š</p><p><left><img src="https://p.ipic.vip/vyhdeu.png" alt="image-20230207230919387" style="zoom: 33%;" /></left></p></li><li><p>è·å– 3001 ç«¯å£æ²¡æœ‰è€Œ 3000 ç«¯å£æœ‰çš„èµ„æºï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br><br>  getInfo = <span class="hljs-function">() =&gt;</span> &#123;<br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;http://localhost:3001/students&quot;</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>);<br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>      &#125;<br>    );<br>  &#125;<br><br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.getInfo&#125;</span>&gt;</span>ç‚¹å‡»å‘é€è¯·æ±‚è·å–æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶æ§åˆ¶å°è¾“å‡º 3000 ç«¯å£ä¸‹çš„ <code>students</code> æ•°æ®ï¼š</p><p><left><img src="https://p.ipic.vip/hxjhru.png" alt="image-20230207231130393" style="zoom:50%;" /></left></p></li><li><p>è‹¥è·å–çš„èµ„æº 3001 ç«¯å£å’Œ 3000ç«¯å£éƒ½æ²¡æœ‰ï¼Œåˆ™æ§åˆ¶å°ä¼šæŠ¥é”™ã€‚</p></li></ul><blockquote><p>æ–¹æ³•ä¸€ä¼˜ç¼ºç‚¹ï¼š</p><ul><li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå‰ç«¯è¯·æ±‚èµ„æºæ—¶å¯ä»¥ä¸åŠ ä»»ä½•å‰ç¼€</li><li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†</li></ul></blockquote><h4 id="æ–¹æ³•äºŒåˆ›å»º-setupproxy.js-æ–‡ä»¶">æ–¹æ³•äºŒï¼šåˆ›å»º<code>setupProxy.js</code> æ–‡ä»¶</h4><ol type="1"><li><p>é¦–å…ˆåœ¨ src ç›®å½•ä¸‹åˆ›å»º <code>setupProxy.js</code> æ–‡ä»¶</p></li><li><p>ç¼–å†™ <code>setupProxy.js</code> é…ç½®å…·ä½“ä»£ç è§„èŒƒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// é…ç½®ç«¯å£ 8000 å’Œç«¯å£ 5001 çš„æœåŠ¡å™¨ä»£ç†</span><br><span class="hljs-comment">// setupProxy.js</span><br><br><span class="hljs-keyword">const</span> &#123; createProxyMiddleware &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http-proxy-middleware&#x27;</span>);<br><span class="hljs-comment">// å¼•å…¥å†…ç½®æ¨¡å—: HTTP ä»£ç†ä¸­é—´ä»¶</span><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">app</span>) &#123;<br>    <span class="hljs-comment">// app ä¸ºæœåŠ¡å¯¹è±¡</span><br>    app.<span class="hljs-title function_">use</span>(<br>        <span class="hljs-title function_">createProxyMiddleware</span>(<span class="hljs-string">&#x27;/api1&#x27;</span>, &#123;<span class="hljs-comment">// é‡è§ /api1 å‰ç¼€çš„è¯·æ±‚ï¼Œå°±ä¼šè§¦å‘è¯¥ä»£ç†</span><br>            <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:8000&#x27;</span>,<span class="hljs-comment">// è¯·æ±‚è½¬å‘çš„ç«¯å£åœ°å€</span><br>            <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<span class="hljs-comment">// æ§åˆ¶æœåŠ¡å™¨æ”¶åˆ°å“åº”å¤´ä¸­ Host å­—æ®µçš„å€¼</span><br>            <span class="hljs-attr">pathRewrite</span>: &#123;<br>                <span class="hljs-string">&#x27;^/api1&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span><span class="hljs-comment">// å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€</span><br>            &#125;<br>        &#125;)<br>    );<br>    <br>    app.<span class="hljs-title function_">use</span>(<br>        <span class="hljs-title function_">createProxyMiddleware</span>(<span class="hljs-string">&#x27;/api2&#x27;</span>, &#123;<br>            <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5001&#x27;</span>,<br>            <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">pathRewrite</span>: &#123;<br>                <span class="hljs-string">&#x27;^/api2&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span><br>            &#125;<br>        &#125;)<br>    );<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><code>http-proxy-middleware</code> 1.x ç‰ˆæœ¬åé…ç½®ä»£ç†ä½¿ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; createProxyMiddleware &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http-proxy-middleware&#x27;</span>);<br></code></pre></td></tr></table></figure><p>æ­¤å‰ä½¿ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> proxy = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http-proxy-middleware&#x27;</span>);<br></code></pre></td></tr></table></figure></blockquote></li><li><p>å‘ä¸åŒç«¯å£å‘é€è¯·æ±‚çš„æ–¹æ³•ï¼š</p><ul><li><p>å¦‚æœè¦å‘ 8000 ç«¯å£å‘é€è¯·æ±‚ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;http://localhost:3000/api1/teachers&#x27;</span>).<span class="hljs-title function_">then</span>(<br>  <span class="hljs-comment">// ...</span><br>);<br></code></pre></td></tr></table></figure></li><li><p>å¦‚æœè¦å‘ 5001 ç«¯å£å‘é€è¯·æ±‚ï¼ŒåŒç†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;http://localhost:3000/api2/students&#x27;</span>).<span class="hljs-title function_">then</span>(<br><span class="hljs-comment">// ...</span><br>);<br></code></pre></td></tr></table></figure></li></ul></li></ol><blockquote><p>æ–¹æ³•äºŒä¼˜ç¼ºç‚¹ï¼š</p><ul><li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œå¯ä»¥æ›´åŠ çµæ´»åœ°æ§åˆ¶æ˜¯å¦èµ°ä»£ç†è¯·æ±‚</li><li>ç¼ºç‚¹ï¼šé…ç½®ç¹çï¼Œå‰ç«¯å‘é€ä»£ç†è¯·æ±‚æ—¶å¿…é¡»åŠ å‰ç¼€</li></ul></blockquote>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
